require.config({"config": {
        "jsbuild":{"mage/adminhtml/browser.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global MediabrowserUtility, FORM_KEY, tinyMceEditors */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'wysiwygAdapter',\n    'Magento_Ui/js/modal/prompt',\n    'Magento_Ui/js/modal/confirm',\n    'Magento_Ui/js/modal/alert',\n    'underscore',\n    'Magento_Ui/js/modal/modal',\n    'jquery/ui',\n    'jquery/jstree/jquery.jstree',\n    'mage/mage'\n], function ($, wysiwyg, prompt, confirm, alert, _) {\n    window.MediabrowserUtility = {\n        windowId: 'modal_dialog_message',\n        modalLoaded: false,\n        targetElementId: false,\n        pathId: '',\n\n        /**\n         * @return {Number}\n         */\n        getMaxZIndex: function () {\n            var max = 0,\n                cn = document.body.childNodes,\n                i, el, zIndex;\n\n            for (i = 0; i < cn.length; i++) {\n                el = cn[i];\n                zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0; //eslint-disable-line eqeqeq\n\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n\n            return max + 10;\n        },\n\n        /**\n         * @param {*} url\n         * @param {*} width\n         * @param {*} height\n         * @param {*} title\n         * @param {Object} options\n         */\n        openDialog: function (url, width, height, title, options) {\n            var windowId = this.windowId,\n                content = '<div class=\"popup-window\" id=\"' + windowId + '\"></div>';\n\n            if (this.modalLoaded) {\n\n                if (!_.isUndefined(options)) {\n                    this.modal.modal('option', 'closed', options.closed);\n                }\n\n                this.modal.modal('openModal');\n                this.setTargetElementId(options, url);\n                this.setPathId(url);\n                $(window).trigger('reload.MediaGallery');\n\n                return;\n            }\n\n            this.modal = $(content).modal($.extend({\n                title:  title || 'Insert File...',\n                modalClass: 'magento',\n                type: 'slide',\n                buttons: []\n            }, options));\n\n            this.modal.modal('openModal');\n\n            $.ajax({\n                url: url,\n                type: 'get',\n                context: $(this),\n                showLoader: true\n\n            }).done(function (data) {\n                this.modal.html(data).trigger('contentUpdated');\n                this.modalLoaded = true;\n                this.setTargetElementId(options, url);\n                this.setPathId(url);\n            }.bind(this));\n\n        },\n\n        /**\n         * Setter for endcoded path id\n         */\n        setPathId: function (url) {\n            this.pathId = url.match(/(&|\\/|%26)current_tree_path(=|\\/)([\\s\\S].*?)(\\/|$)/)[3];\n        },\n\n        /**\n         * Setter for targetElementId property\n         *\n         * @param {Object} options\n         * @param {String} url\n         */\n        setTargetElementId: function (options, url) {\n            this.targetElementId = options && options.targetElementId ?\n                options.targetElementId\n                : url.match(/\\/target_element_id\\/([\\s\\S].*?)\\//)[1];\n        },\n\n        /**\n         * Close dialog.\n         */\n        closeDialog: function () {\n            this.modal.modal('closeModal');\n        }\n    };\n\n    $.widget('mage.mediabrowser', {\n        eventPrefix: 'mediabrowser',\n        options: {\n            contentsUrl: null,\n            onInsertUrl: null,\n            newFolderUrl: null,\n            deleteFolderUrl: null,\n            deleteFilesUrl: null,\n            headerText: null,\n            tree: null,\n            currentNode: null,\n            storeId: null,\n            showBreadcrumbs: null,\n            hidden: 'no-display'\n        },\n\n        /**\n         * Proxy creation\n         * @protected\n         */\n        _create: function () {\n            this._on({\n                'click [data-row=file]': 'selectFile',\n                'dblclick [data-row=file]': 'insert',\n                'click #new_folder': 'newFolder',\n                'click #delete_folder': 'deleteFolder',\n                'click #delete_files': 'deleteFiles',\n                'click #insert_files': 'insertSelectedFiles',\n                'fileuploaddone': '_uploadDone',\n                'click [data-row=breadcrumb]': 'selectFolder'\n            });\n\n            $(window).on('reload.MediaGallery', $.proxy(this.reload, this));\n            this.activeNode = null;\n            //tree dont use event bubbling\n            this.tree = this.element.find('[data-role=tree]');\n            this.tree.on('select_node.jstree', $.proxy(this._selectNode, this));\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @param {Object} data\n         * @private\n         */\n        _selectNode: function (event, data) {\n            var node = data.node;\n\n            this.activeNode = node;\n            this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden, true);\n            this.element.find('#contents').toggleClass(this.options.hidden, false);\n            this.element.find('#delete_folder')\n                .toggleClass(this.options.hidden, node.id === 'root'); //eslint-disable-line eqeqeq\n            this.element.find('#content_header_text')\n                .html(node.id === 'root' ? this.headerText : node.text); //eslint-disable-line eqeqeq\n\n            this.drawBreadcrumbs(data);\n            this.loadFileList(node);\n        },\n\n        /**\n         * @return {*}\n         */\n        reload: function (uploaded) {\n            return this.loadFileList(this.activeNode, uploaded);\n        },\n\n        /**\n         * @param {Object} element\n         * @param {*} value\n         */\n        insertAtCursor: function (element, value) {\n            var sel, startPos, endPos, scrollTop;\n\n            if ('selection' in document) {\n                //For browsers like Internet Explorer\n                element.focus();\n                sel = document.selection.createRange();\n                sel.text = value;\n                element.focus();\n            } else if (element.selectionStart || element.selectionStart == '0') { //eslint-disable-line eqeqeq\n                //For browsers like Firefox and Webkit based\n                startPos = element.selectionStart;\n                endPos = element.selectionEnd;\n                scrollTop = element.scrollTop;\n                element.value = element.value.substring(0, startPos) + value +\n                    element.value.substring(startPos, endPos) + element.value.substring(endPos, element.value.length);\n                element.focus();\n                element.selectionStart = startPos + value.length;\n                element.selectionEnd = startPos + value.length + element.value.substring(startPos, endPos).length;\n                element.scrollTop = scrollTop;\n            } else {\n                element.value += value;\n                element.focus();\n            }\n        },\n\n        /**\n         * @param {Object} node\n         */\n        loadFileList: function (node, uploaded) {\n            var contentBlock = this.element.find('#contents');\n\n            return $.ajax({\n                url: this.options.contentsUrl,\n                type: 'GET',\n                dataType: 'html',\n                data: {\n                    'form_key': FORM_KEY,\n                    node: node ? node.id : null\n                },\n                context: contentBlock,\n                showLoader: true\n            }).done(function (data) {\n                contentBlock.html(data).trigger('contentUpdated');\n\n                if (uploaded) {\n                    contentBlock.find('.filecnt:last').trigger('click');\n                }\n            });\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         */\n        selectFolder: function (event) {\n            this.element.find('[data-id=\"' + $(event.currentTarget).data('node').id + '\"]>a').trigger('click');\n        },\n\n        /**\n         * Insert selected files.\n         */\n        insertSelectedFiles: function () {\n            this.element.find('[data-row=file].selected').trigger('dblclick');\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         */\n        selectFile: function (event) {\n            var fileRow = $(event.currentTarget);\n\n            fileRow.toggleClass('selected');\n            this.element.find('[data-row=file]').not(fileRow).removeClass('selected');\n            this.element.find('#delete_files, #insert_files')\n                .toggleClass(this.options.hidden, !fileRow.is('.selected'));\n            fileRow.trigger('selectfile');\n        },\n\n        /**\n         * @private\n         */\n        _uploadDone: function () {\n            this.element.find('.file-row').remove();\n            this.reload(true);\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @return {Boolean}\n         */\n        insert: function (event) {\n            var fileRow = $(event.currentTarget),\n                targetEl;\n\n            if (!fileRow.prop('id')) {\n                return false;\n            }\n            targetEl = this.getTargetElement();\n\n            if (!targetEl.length) {\n                MediabrowserUtility.closeDialog();\n                throw 'Target element not found for content update';\n            }\n\n            return $.ajax({\n                url: this.options.onInsertUrl,\n                data: {\n                    filename: fileRow.attr('id'),\n                    node: this.activeNode.id,\n                    store: this.options.storeId,\n                    'as_is': typeof targetEl !== 'function' && targetEl.is('textarea') ? 1 : 0,\n                    'force_static_path': typeof targetEl !== 'function' && targetEl.data('force_static_path') ? 1 : 0,\n                    'form_key': FORM_KEY\n                },\n                context: this,\n                showLoader: true\n            }).done($.proxy(function (data) {\n                if (typeof targetEl === 'function') {\n                    targetEl(data, {text: fileRow.find('img').attr('alt')});\n                } else if (targetEl.is('textarea')) {\n                    this.insertAtCursor(targetEl.get(0), data);\n                } else {\n                    targetEl\n                        .val(data)\n                        .data('size', fileRow.data('size'))\n                        .data('mime-type', fileRow.data('mime-type'));\n                }\n                MediabrowserUtility.closeDialog();\n\n                if (typeof targetEl !== 'function') {\n                    targetEl.focus();\n                    jQuery(targetEl).trigger('change');\n                }\n            }, this));\n        },\n\n        /**\n         * Find document target element in next order:\n         *  in acive file browser opener:\n         *  - input field with ID: \"src\" in opener window\n         *  - input field with ID: \"href\" in opener window\n         *  in document:\n         *  - element with target ID\n         *\n         * return {HTMLElement|null}\n         */\n        getTargetElement: function () {\n            var mediaBrowser = window.MediabrowserUtility;\n\n            if (!_.isUndefined(wysiwyg) && wysiwyg.get(mediaBrowser.targetElementId)) {\n                return this.getMediaBrowserOpener() || window;\n            }\n\n            return $('#' + mediaBrowser.targetElementId);\n        },\n\n        /**\n         * Return opener Window object if it exists, not closed and editor is active\n         *\n         * return {Object|null}\n         */\n        getMediaBrowserOpener: function () {\n            var targetElementId = window.MediabrowserUtility.targetElementId;\n\n            if (!_.isUndefined(wysiwyg) && wysiwyg.get(targetElementId) && !_.isUndefined(tinyMceEditors)) {\n                return tinyMceEditors.get(targetElementId).getMediaBrowserOpener();\n            }\n\n            return null;\n        },\n\n        /**\n         * New folder.\n         */\n        newFolder: function () {\n            var self = this;\n\n            prompt({\n                title: this.options.newFolderPrompt,\n                actions: {\n                    /**\n                     * @param {*} folderName\n                     */\n                    confirm: function (folderName) {\n                        $.ajax({\n                            url: self.options.newFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                name: folderName,\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function (data) {\n                            if (data.error) {\n                                alert({\n                                    content: data.message\n                                });\n                            } else {\n                                self.tree.jstree(\n                                    'refresh_node',\n                                    self.element.find('[data-id=\"' + self.activeNode.id + '\"]')\n                                );\n                            }\n                        }, this));\n\n                        return true;\n                    }\n                }\n            });\n        },\n\n        /**\n         * Delete folder.\n         */\n        deleteFolder: function () {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFolderConfirmationMessage,\n                actions: {\n                    /**\n                     * Confirm.\n                     */\n                    confirm: function () {\n                        return $.ajax({\n                            url: self.options.deleteFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function (data) {\n                            if (data.error) {\n                                alert({\n                                    content: data.message\n                                });\n                            } else {\n                                self.tree.jstree('refresh', self.activeNode.id);\n                                self.reload();\n                                $(window).trigger('fileDeleted.mediabrowser', {\n                                    ids: self.activeNode.id\n                                });\n                            }\n                        }, this));\n                    },\n\n                    /**\n                     * @return {Boolean}\n                     */\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        /**\n         * Delete files.\n         */\n        deleteFiles: function () {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFileConfirmationMessage,\n                actions: {\n                    /**\n                     * Confirm.\n                     */\n                    confirm: function () {\n                        var selectedFiles = self.element.find('[data-row=file].selected'),\n                            ids = selectedFiles.map(function () {\n                                return $(this).attr('id');\n                            }).toArray();\n\n                        return $.ajax({\n                            url: self.options.deleteFilesUrl,\n                            data: {\n                                files: ids,\n                                store: self.options.storeId,\n                                'form_key': FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function (data) {\n                            if (data.error) {\n                                alert({\n                                    content: data.message\n                                });\n                            } else {\n                                self.reload();\n                                self.element.find('#delete_files, #insert_files').toggleClass(\n                                    self.options.hidden, true\n                                );\n\n                                $(window).trigger('fileDeleted.mediabrowser', {\n                                    ids: ids\n                                });\n                            }\n                        }, this));\n                    },\n\n                    /**\n                     * @return {Boolean}\n                     */\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        /**\n         * @param {Object} data\n         */\n        drawBreadcrumbs: function (data) {\n            var node, breadcrumbs;\n\n            if (this.element.find('#breadcrumbs').length) {\n                this.element.find('#breadcrumbs').remove();\n            }\n            node = data.node;\n\n            if (node.id === 'root') { //eslint-disable-line eqeqeq\n                return;\n            }\n            breadcrumbs = $('<ul class=\"breadcrumbs\" id=\"breadcrumbs\"></ul>');\n            // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n            data.instance.get_path(node).each(function (name, index) {\n                if (index > 0) {\n                    breadcrumbs.append($('<li>\\/</li>')); //eslint-disable-line\n                }\n                breadcrumbs.append($('<li />').attr('data-row', 'breadcrumb').text(name));\n\n            });\n            // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n\n            breadcrumbs.insertAfter(this.element.find('#content_header'));\n        }\n    });\n\n    return window.MediabrowserUtility;\n});\n","mage/adminhtml/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global varienGlobalEvents, varienWindowOnloadCache, RegionUpdater, FormElementDependenceController */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'prototype',\n    'mage/adminhtml/events'\n], function (jQuery) {\n    var varienElementMethods;\n\n    /*\n     * @TODO Need to be removed after refactoring all dependent of the form the components\n     */\n    (function ($) {\n        $(function () {\n            $(document).on('beforeSubmit', function (e) { //eslint-disable-line max-nested-callbacks\n                if (typeof varienGlobalEvents !== 'undefined') {\n                    varienGlobalEvents.fireEvent('formSubmit', $(e.target).attr('id'));\n                }\n            });\n        });\n    })(jQuery);\n\n    /**\n     *  Additional elements methods\n     */\n    varienElementMethods = {\n        /**\n         * @param {HTMLElement} element\n         */\n        setHasChanges: function (element) {\n            var elm;\n\n            if ($(element) && $(element).hasClassName('no-changes')) {\n                return;\n            }\n            elm = element;\n\n            while (elm && elm.tagName != 'BODY') { //eslint-disable-line eqeqeq\n                if (elm.statusBar) {\n                    Element.addClassName($(elm.statusBar), 'changed');\n                }\n                elm = elm.parentNode;\n            }\n        },\n\n        /**\n         * @param {HTMLElement} element\n         * @param {*} flag\n         * @param {Object} form\n         */\n        setHasError: function (element, flag, form) {\n            var elm = element;\n\n            while (elm && elm.tagName != 'BODY') { //eslint-disable-line eqeqeq\n                if (elm.statusBar) {\n                    /* eslint-disable max-depth */\n                    if (form.errorSections.keys().indexOf(elm.statusBar.id) < 0) {\n                        form.errorSections.set(elm.statusBar.id, flag);\n                    }\n\n                    if (flag) {\n                        Element.addClassName($(elm.statusBar), 'error');\n\n                        if (form.canShowError && $(elm.statusBar).show) {\n                            form.canShowError = false;\n                            $(elm.statusBar).show();\n                        }\n                        form.errorSections.set(elm.statusBar.id, flag);\n                    } else if (!form.errorSections.get(elm.statusBar.id)) {\n                        Element.removeClassName($(elm.statusBar), 'error');\n                    }\n\n                    /* eslint-enable max-depth */\n                }\n                elm = elm.parentNode;\n            }\n            this.canShowElement = false;\n        }\n    };\n\n    Element.addMethods(varienElementMethods);\n\n    // Global bind changes\n    window.varienWindowOnloadCache = {};\n\n    /**\n     * @param {*} useCache\n     */\n    function varienWindowOnload(useCache) {\n        var dataElements = $$('input', 'select', 'textarea'),\n            i;\n\n        for (i = 0; i < dataElements.length; i++) {\n            if (dataElements[i] && dataElements[i].id) {\n\n                /* eslint-disable max-depth */\n                if (!useCache || !varienWindowOnloadCache[dataElements[i].id]) {\n                    Event.observe(dataElements[i], 'change', dataElements[i].setHasChanges.bind(dataElements[i]));\n\n                    if (useCache) {\n                        varienWindowOnloadCache[dataElements[i].id] = true;\n                    }\n                }\n\n                /* eslint-disable max-depth */\n            }\n        }\n    }\n    Event.observe(window, 'load', varienWindowOnload);\n\n    window.RegionUpdater = Class.create();\n    RegionUpdater.prototype = {\n        /**\n         * @param {HTMLElement} countryEl\n         * @param {HTMLElement} regionTextEl\n         * @param {HTMLElement}regionSelectEl\n         * @param {Object} regions\n         * @param {*} disableAction\n         * @param {*} clearRegionValueOnDisable\n         */\n        initialize: function (\n            countryEl, regionTextEl, regionSelectEl, regions, disableAction, clearRegionValueOnDisable\n        ) {\n            this.isRegionRequired = true;\n            this.countryEl = $(countryEl);\n            this.regionTextEl = $(regionTextEl);\n            this.regionSelectEl = $(regionSelectEl);\n            this.config = regions.config;\n            delete regions.config;\n            this.regions = regions;\n            this.sortedRegions = this.getSortedRegions();\n            this.disableAction = typeof disableAction === 'undefined' ? 'hide' : disableAction;\n            this.clearRegionValueOnDisable = typeof clearRegionValueOnDisable === 'undefined' ?\n                false : clearRegionValueOnDisable;\n\n            if (this.regionSelectEl.options.length <= 1) {\n                this.update();\n            } else {\n                this.lastCountryId = this.countryEl.value;\n            }\n\n            this.countryEl.changeUpdater = this.update.bind(this);\n\n            Event.observe(this.countryEl, 'change', this.update.bind(this));\n        },\n\n        /**\n         * @private\n         */\n        _checkRegionRequired: function () {\n            var label, wildCard, elements, that, regionRequired;\n\n            if (!this.isRegionRequired) {\n                return;\n            }\n\n            elements = [this.regionTextEl, this.regionSelectEl];\n            that = this;\n\n            if (typeof this.config == 'undefined') {\n                return;\n            }\n            regionRequired = this.config['regions_required'].indexOf(this.countryEl.value) >= 0;\n\n            elements.each(function (currentElement) {\n                var form, validationInstance, field, topElement;\n\n                if (!currentElement) {\n                    return;\n                }\n                form = currentElement.form;\n                validationInstance = form ? jQuery(form).data('validation') : null;\n                field = currentElement.up('.field') || new Element('div');\n\n                if (validationInstance) {\n                    validationInstance.clearError(currentElement);\n                }\n                label = $$('label[for=\"' + currentElement.id + '\"]')[0];\n\n                if (label) {\n                    wildCard = label.down('em') || label.down('span.required');\n                    topElement = label.up('tr') || label.up('li');\n\n                    if (!that.config['show_all_regions'] && topElement) {\n                        if (regionRequired) {\n                            topElement.show();\n                        } else {\n                            topElement.hide();\n                        }\n                    }\n                }\n\n                if (label && wildCard) {\n                    if (!regionRequired) {\n                        wildCard.hide();\n                    } else {\n                        wildCard.show();\n                    }\n                }\n\n                //compute the need for the required fields\n                if (!regionRequired || !currentElement.visible()) {\n                    if (field.hasClassName('required')) {\n                        field.removeClassName('required');\n                    }\n\n                    if (currentElement.hasClassName('required-entry')) {\n                        currentElement.removeClassName('required-entry');\n                    }\n\n                    if (currentElement.tagName.toLowerCase() == 'select' && //eslint-disable-line eqeqeq\n                        currentElement.hasClassName('validate-select')\n                    ) {\n                        currentElement.removeClassName('validate-select');\n                    }\n                } else {\n                    if (!field.hasClassName('required')) {\n                        field.addClassName('required');\n                    }\n\n                    if (!currentElement.hasClassName('required-entry')) {\n                        currentElement.addClassName('required-entry');\n                    }\n\n                    if (currentElement.tagName.toLowerCase() == 'select' && //eslint-disable-line eqeqeq\n                        !currentElement.hasClassName('validate-select')\n                    ) {\n                        currentElement.addClassName('validate-select');\n                    }\n                }\n            });\n        },\n\n        /**\n         * Disable region validation.\n         */\n        disableRegionValidation: function () {\n            this.isRegionRequired = false;\n        },\n\n        /**\n         * Update.\n         */\n        update: function () {\n            var option, selectElement, def, regionId, region;\n\n            selectElement = this.regionSelectEl;\n\n            if (this.sortedRegions[this.countryEl.value]) {\n                if (this.lastCountryId != this.countryEl.value) { //eslint-disable-line eqeqeq\n                    def = selectElement.getAttribute('defaultValue');\n\n                    if (this.regionTextEl) {\n                        if (!def) {\n                            def = this.regionTextEl.value.toLowerCase();\n                        }\n                        this.regionTextEl.value = '';\n                    }\n\n                    selectElement.options.length = 1;\n\n                    this.sortedRegions[this.countryEl.value].forEach(function (item) {\n                        regionId = item[0];\n                        region = item[1];\n\n                        option = document.createElement('OPTION');\n                        option.value = regionId;\n                        option.text = region.name.stripTags();\n                        option.title = region.name;\n\n                        if (selectElement.options.add) {\n                            selectElement.options.add(option);\n                        } else {\n                            selectElement.appendChild(option);\n                        }\n\n                        if (regionId == def || region.name.toLowerCase() == def || region.code.toLowerCase() == def) { //eslint-disable-line\n                            selectElement.value = regionId;\n                        }\n                    });\n                }\n\n                if (this.disableAction == 'hide') { //eslint-disable-line eqeqeq\n                    if (this.regionTextEl) {\n                        this.regionTextEl.style.display = 'none';\n                        this.regionTextEl.style.disabled = true;\n                    }\n                    this.regionSelectEl.style.display = '';\n                    this.regionSelectEl.disabled = false;\n                } else if (this.disableAction == 'disable') { //eslint-disable-line eqeqeq\n                    if (this.regionTextEl) {\n                        this.regionTextEl.disabled = true;\n                    }\n                    this.regionSelectEl.disabled = false;\n                }\n                this.setMarkDisplay(this.regionSelectEl, true);\n\n                this.lastCountryId = this.countryEl.value;\n            } else {\n                if (this.disableAction == 'hide') { //eslint-disable-line eqeqeq\n                    if (this.regionTextEl) {\n                        this.regionTextEl.style.display = '';\n                        this.regionTextEl.style.disabled = false;\n                    }\n                    this.regionSelectEl.style.display = 'none';\n                    this.regionSelectEl.disabled = true;\n                } else if (this.disableAction == 'disable') { //eslint-disable-line eqeqeq\n                    if (this.regionTextEl) {\n                        this.regionTextEl.disabled = false;\n                    }\n                    this.regionSelectEl.disabled = true;\n\n                    if (this.clearRegionValueOnDisable) {\n                        this.regionSelectEl.value = '';\n                    }\n                } else if (this.disableAction == 'nullify') { //eslint-disable-line eqeqeq\n                    this.regionSelectEl.options.length = 1;\n                    this.regionSelectEl.value = '';\n                    this.regionSelectEl.selectedIndex = 0;\n                    this.lastCountryId = '';\n                }\n                this.setMarkDisplay(this.regionSelectEl, false);\n            }\n            varienGlobalEvents.fireEvent('address_country_changed', this.countryEl);\n            this._checkRegionRequired();\n        },\n\n        /**\n         * @param {HTMLElement} elem\n         * @param {*} display\n         */\n        setMarkDisplay: function (elem, display) {\n            var marks;\n\n            if (elem.parentNode.parentNode) {\n                marks = Element.select(elem.parentNode.parentNode, '.required');\n\n                if (marks[0]) {\n                    display ? marks[0].show() : marks[0].hide();\n                }\n            }\n        },\n\n        /**\n         * Sort regions from JSON by name\n         *\n         * @returns {*[]}\n         */\n        getSortedRegions: function () {\n            var country, regionsEntries, regionsByCountry;\n\n            regionsByCountry = [];\n\n            for (country in this.regions) { //eslint-disable-line guard-for-in\n                regionsEntries = Object.entries(this.regions[country]);\n                regionsEntries.sort(function (a, b) {\n                    return a[1].name > b[1].name ? 1 : -1;\n                });\n\n                regionsByCountry[country] = regionsEntries;\n            }\n\n            return regionsByCountry;\n        }\n    };\n\n    window.regionUpdater = RegionUpdater;\n\n    /**\n     * Fix errorrs in IE\n     */\n    Event.pointerX = function (event) {\n        try {\n            return event.pageX || (event.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft)); //eslint-disable-line\n        }\n        catch (e) {}\n    };\n\n    /**\n     * @param {jQuery.Event} event\n     * @return {*}\n     */\n    Event.pointerY = function (event) {\n        try {\n            return event.pageY || (event.clientY + (document.documentElement.scrollTop || document.body.scrollTop)); //eslint-disable-line\n        }\n        catch (e) {}\n    };\n\n    /**\n     * Observer that watches for dependent form elements\n     * If an element depends on 1 or more of other elements,\n     * it should show up only when all of them gain specified values\n     */\n    window.FormElementDependenceController = Class.create();\n    FormElementDependenceController.prototype = {\n        /**\n         * Structure of elements: {\n         *     'id_of_dependent_element' : {\n         *         'id_of_master_element_1' : 'reference_value',\n         *         'id_of_master_element_2' : 'reference_value'\n         *         'id_of_master_element_3' : ['reference_value1', 'reference_value2']\n         *         ...\n         *     }\n         * }\n         * @param {Object} elementsMap\n         * @param {Object} config\n         */\n        initialize: function (elementsMap, config) {\n            var idTo, idFrom, values, fromId, radioFrom;\n\n            if (config) {\n                this._config = jQuery.extend(this._config, config);\n            }\n\n            for (idTo in elementsMap) { //eslint-disable-line guard-for-in\n                for (idFrom in elementsMap[idTo]) { //eslint-disable-line guard-for-in\n                    if ($(idFrom)) {\n                        Event.observe(\n                            $(idFrom),\n                            'change',\n                            this.trackChange.bindAsEventListener(this, idTo, elementsMap[idTo])\n                        );\n                    } else {\n                        // Check if radio button\n                        values = elementsMap[idTo][idFrom].values;\n                        fromId = $(idFrom + values[0]);\n                        radioFrom = fromId ? $$('[name=\"' + fromId.name + '\"]') : false;\n\n                        if (radioFrom) {\n                            radioFrom.invoke(\n                                'on',\n                                'change',\n                                this.trackChange.bindAsEventListener(this, idTo, elementsMap[idTo])\n                            );\n                        }\n                    }\n                    this.trackChange(null, idTo, elementsMap[idTo]);\n                }\n            }\n        },\n\n        /**\n         * Misc. config options\n         * Keys are underscored intentionally\n         */\n        _config: {\n            'levels_up': 1 // how many levels up to travel when toggling element\n        },\n\n        /**\n         * Define whether target element should be toggled and show/hide its row\n         *\n         * @param {Object} e - event\n         * @param {String} idTo - id of target element\n         * @param {Object} valuesFrom - ids of master elements and reference values\n         * @return\n         */\n        trackChange: function (e, idTo, valuesFrom) {\n            // define whether the target should show up\n            var shouldShowUp = true,\n                idFrom, from, values, isInArray, isNegative, headElement, isInheritCheckboxChecked, target, inputs,\n                isAnInputOrSelect, currentConfig, rowElement, fromId, radioFrom, targetArray, isChooser;\n\n            for (idFrom in valuesFrom) { //eslint-disable-line guard-for-in\n                from = $(idFrom);\n\n                if (from) {\n                    values = valuesFrom[idFrom].values;\n                    isInArray = values.indexOf(from.value) != -1; //eslint-disable-line\n                    isNegative = valuesFrom[idFrom].negative;\n\n                    if (!from || isInArray && isNegative || !isInArray && !isNegative) {\n                        shouldShowUp = false;\n                    }\n                // Check if radio button\n                } else {\n                    values = valuesFrom[idFrom].values;\n                    fromId = $(idFrom + values[0]);\n\n                    if (fromId) {\n                        radioFrom = $$('[name=\"' + fromId.name + '\"]:checked');\n                        isInArray = radioFrom.length > 0 && values.indexOf(radioFrom[0].value) !== -1;\n                        isNegative = valuesFrom[idFrom].negative;\n\n                        if (!radioFrom || isInArray && isNegative || !isInArray && !isNegative) {\n                            shouldShowUp = false;\n                        }\n                    }\n                }\n            }\n\n            // toggle target row\n            headElement = jQuery('#' + idTo + '-head');\n            isInheritCheckboxChecked = $(idTo + '_inherit') && $(idTo + '_inherit').checked;\n            target = $(idTo);\n\n            // Account for the chooser style parameters.\n            if (target === null && headElement.length === 0 && idTo.substring(0, 16) === 'options_fieldset') {\n                targetArray = $$('input[id*=\"' + idTo + '\"]');\n                isChooser = true;\n\n                if (targetArray !== null && targetArray.length > 0) {\n                    target = targetArray[0];\n                }\n                headElement = jQuery('.field-' + idTo).add('.field-chooser' + idTo);\n            }\n\n            // Target won't always exist (for example, if field type is \"label\")\n            if (target) {\n                inputs = target.up(this._config['levels_up']).select('input', 'select', 'td');\n                isAnInputOrSelect = ['input', 'select'].indexOf(target.tagName.toLowerCase()) != -1; //eslint-disable-line\n\n                if (target.type === 'fieldset') {\n                    inputs = target.select('input', 'select', 'td');\n                }\n            } else {\n                inputs = false;\n                isAnInputOrSelect = false;\n            }\n\n            if (shouldShowUp) {\n                currentConfig = this._config;\n\n                if (inputs) {\n                    inputs.each(function (item) {\n                        // don't touch hidden inputs (and Use Default inputs too), bc they may have custom logic\n                        if ((!item.type || item.type != 'hidden') && !($(item.id + '_inherit') && $(item.id + '_inherit').checked) && //eslint-disable-line\n                            !(currentConfig['can_edit_price'] != undefined && !currentConfig['can_edit_price']) && //eslint-disable-line\n                            !item.getAttribute('readonly') || isChooser //eslint-disable-line\n                        ) {\n                            item.disabled = false;\n                            jQuery(item).removeClass('ignore-validate');\n                        }\n                    });\n                }\n\n                if (headElement.length > 0) {\n                    headElement.show();\n\n                    if (headElement.hasClass('open') && target) {\n                        target.show();\n                    } else if (target) {\n                        target.hide();\n                    }\n                } else {\n                    if (target) {\n                        target.show();\n                        headElement = jQuery('.field-' + idTo).add('.field-chooser' + idTo);\n                        headElement.show();\n                    }\n\n                    if (isAnInputOrSelect && !isInheritCheckboxChecked) {\n                        if (target) {\n                            if (target.getAttribute('readonly')) {\n                                target.disabled = true;\n                            } else {\n                                target.disabled = false;\n                            }\n                        }\n\n                        jQuery('#' + idTo).removeClass('ignore-validate');\n                    }\n                }\n            } else {\n                if (inputs) {\n                    inputs.each(function (item) {\n                        // don't touch hidden inputs (and Use Default inputs too), bc they may have custom logic\n                        if ((!item.type || item.type != 'hidden') && //eslint-disable-line eqeqeq\n                            !($(item.id + '_inherit') && $(item.id + '_inherit').checked)\n                        ) {\n                            item.disabled = true;\n                            jQuery(item).addClass('ignore-validate');\n                        }\n                    });\n                }\n\n                if (headElement.length > 0) {\n                    headElement.hide();\n                } else {\n                    headElement = jQuery('.field-' + idTo).add('.field-chooser' + idTo);\n                    headElement.hide();\n                }\n\n                if (target) {\n                    target.hide();\n                }\n\n                if (isAnInputOrSelect && !isInheritCheckboxChecked) {\n                    if (target) {\n                        target.disabled = true;\n                    }\n                    jQuery('#' + idTo).addClass('ignore-validate');\n                }\n\n            }\n            rowElement = $('row_' + idTo);\n\n            if (rowElement == undefined && target) { //eslint-disable-line eqeqeq\n                rowElement = target.up(this._config['levels_up']);\n\n                if (target.type === 'fieldset') {\n                    rowElement = target;\n                }\n            }\n\n            if (rowElement) {\n                if (shouldShowUp) {\n                    rowElement.show();\n                } else {\n                    rowElement.hide();\n                }\n            }\n        }\n    };\n\n    window.varienWindowOnload = varienWindowOnload;\n    window.varienElementMethods = varienElementMethods;\n});\n","mage/adminhtml/backup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n/* global  AdminBackup, setLocation */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/modal',\n    'mage/mage',\n    'prototype'\n], function (jQuery) {\n    window.AdminBackup = new Class.create();\n\n    AdminBackup.prototype = {\n        /**\n         * Initialize.\n         */\n        initialize: function () {\n            this.reset();\n            this.rollbackUrl = this.backupUrl = '';\n        },\n\n        /**\n         * reset.\n         */\n        reset: function () {\n            this.time = 0;\n            this.type = '';\n        },\n\n        /**\n         * @param {*} type\n         * @return {Boolean}\n         */\n        backup: function (type) {\n            this.reset();\n            this.type = type;\n            this.requestBackupOptions();\n\n            return false;\n        },\n\n        /**\n         * @param {*} type\n         * @param {*} time\n         * @return {Boolean}\n         */\n        rollback: function (type, time) {\n            this.reset();\n            this.time = time;\n            this.type = type;\n            this.showRollbackWarning();\n\n            return false;\n        },\n\n        /**\n         * Show rollback warning.\n         */\n        showRollbackWarning: function () {\n            this.showPopup('rollback-warning');\n        },\n\n        /**\n         * request backup options.\n         */\n        requestBackupOptions: function () {\n            this.hidePopups();\n            this.showPopup('backup-options');\n\n            if (this.type === 'snapshot') {\n                jQuery('#exclude-media-checkbox-container').removeClass('no-display');\n            }\n        },\n\n        /**\n         * Request password.\n         */\n        requestPassword: function () {\n            this.hidePopups();\n\n            this.showPopup('rollback-request-password');\n\n            this.type != 'db' ? //eslint-disable-line eqeqeq\n                $('use-ftp-checkbox-row').show() :\n                $('use-ftp-checkbox-row').hide();\n        },\n\n        /**\n         * Toggle Ftp Credentials Form.\n         */\n        toggleFtpCredentialsForm: function () {\n            $('use_ftp').checked ? $('ftp-credentials-container').show()\n                : $('ftp-credentials-container').hide();\n\n            $$('#ftp-credentials-container input').each(function (item) {\n                if (item.name == 'ftp_path') { //eslint-disable-line eqeqeq\n                    return;\n                }\n                $('use_ftp').checked ? item.addClassName('required-entry') : item.removeClassName('required-entry');\n            });\n        },\n\n        /**\n         * Submit backup.\n         */\n        submitBackup: function () {\n            var data = {\n                'type': this.type,\n                'maintenance_mode': $('backup_maintenance_mode').checked ? 1 : 0,\n                'backup_name': $('backup_name').value,\n                'exclude_media': $('exclude_media').checked ? 1 : 0\n            };\n\n            new Ajax.Request(this.backupUrl, {\n                onSuccess: function (transport) {\n                    this.processResponse(transport, 'backup-options');\n                }.bind(this),\n                method: 'post',\n                parameters: data\n            });\n\n            this.modal.modal('closeModal');\n        },\n\n        /**\n         * Submit rollback.\n         */\n        submitRollback: function () {\n            var data = this.getPostData();\n\n            new Ajax.Request(this.rollbackUrl, {\n                onSuccess: function (transport) {\n                    this.processResponse(transport, 'rollback-request-password');\n                }.bind(this),\n                method: 'post',\n                parameters: data\n            });\n\n            this.modal.modal('closeModal');\n        },\n\n        /**\n         * @param {Object} transport\n         * @param {*} popupId\n         */\n        processResponse: function (transport, popupId) {\n            var json;\n\n            if (!transport.responseText.isJSON()) {\n                return;\n            }\n\n            json = transport.responseText.evalJSON();\n\n            if (json.error) {\n                this.showPopup(popupId);\n                this.displayError(popupId, json.error);\n\n                return;\n            }\n\n            if (json['redirect_url']) {\n                setLocation(json['redirect_url']);\n            }\n        },\n\n        /**\n         * @param {*} parentContainer\n         * @param {*} message\n         */\n        displayError: function (parentContainer, message) {\n            var messageHtml = this.getErrorMessageHtml(message);\n\n            $$('#' + parentContainer + ' .backup-messages .messages').invoke('update', messageHtml);\n            $$('#' + parentContainer + ' .backup-messages').invoke('show');\n        },\n\n        /**\n         * @param {*} message\n         * @return {String}\n         */\n        getErrorMessageHtml: function (message) {\n            return '<div class=\"message message-error error\"><div>' + message + '</div></div>';\n        },\n\n        /**\n         * @return {*|jQuery}\n         */\n        getPostData: function () {\n            var data = $('rollback-form').serialize(true);\n\n            data.time = this.time;\n            data.type = this.type;\n\n            return data;\n        },\n        backupConfig: {\n            'backup-options': {\n                title: jQuery.mage.__('Backup options'),\n\n                /**\n                 * @return {String}\n                 */\n                content: function () {\n                    return document.getElementById('backup-options-template').textContent;\n                },\n\n                /**\n                 * Action Ok.\n                 */\n                actionOk: function () {\n                    this.modal.find('#backup-form').validation({\n                        submitHandler: jQuery.proxy(this.submitBackup, this)\n                    });\n                    this.modal.find('#backup-form').submit();\n                }\n            },\n            'rollback-warning': {\n                title: jQuery.mage.__('Warning'),\n\n                /**\n                 * @return {String}\n                 */\n                content: function () {\n                    return document.getElementById('rollback-warning-template').textContent;\n                },\n\n                /**\n                 * Action Ok.\n                 */\n                actionOk: function () {\n                    this.modal.modal('closeModal');\n                    this.requestPassword();\n                }\n            },\n            'rollback-request-password': {\n                title: jQuery.mage.__('Backup options'),\n\n                /**\n                 * @return {String}\n                 */\n                content: function () {\n                    return document.getElementById('rollback-request-password-template').textContent;\n                },\n\n                /**\n                 * Action Ok.\n                 */\n                actionOk: function () {\n                    this.modal.find('#rollback-form').validation({\n                        submitHandler: jQuery.proxy(this.submitRollback, this)\n                    });\n                    this.modal.find('#rollback-form').submit();\n                },\n\n                /**\n                 * Opened.\n                 */\n                opened: function () {\n                    this.toggleFtpCredentialsForm();\n                }\n            }\n        },\n\n        /**\n         * @param {*} divId\n         */\n        showPopup: function (divId) {\n            var self = this;\n\n            this.modal = jQuery('<div></div>').attr({\n                id: divId\n            }).html(this.backupConfig[divId].content()).modal({\n                modalClass: 'magento',\n                title: this.backupConfig[divId].title,\n                type: 'slide',\n\n                /**\n                 * @param {juery.Event} e\n                 * @param {Object} modal\n                 */\n                closed: function (e, modal) {\n                    modal.modal.remove();\n                },\n\n                /**\n                 * Opened.\n                 */\n                opened: function () {\n                    if (self.backupConfig[divId].opened) {\n                        self.backupConfig[divId].opened.call(self);\n                    }\n                },\n                buttons: [{\n                    text: jQuery.mage.__('Cancel'),\n                    'class': 'action cancel',\n\n                    /**\n                     * Click action.\n                     */\n                    click: function () {\n                        this.closeModal();\n                    }\n                }, {\n                    text: jQuery.mage.__('Ok'),\n                    'class': 'action primary',\n\n                    /**\n                     * Click action.\n                     */\n                    click: function () {\n                        self.backupConfig[divId].actionOk.call(self);\n                    }\n                }]\n            });\n            this.modal.modal('openModal');\n        },\n\n        /**\n         * Hide Popups.\n         */\n        hidePopups: function () {\n            var mask;\n\n            $$('.backup-dialog').each(Element.hide);\n            mask = $('popup-window-mask');\n\n            if (mask) {\n                mask.hide();\n            }\n        }\n    };\n});\n","mage/adminhtml/globals.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global setLocation */\ndefine([\n    'Magento_Ui/js/modal/confirm',\n    'mage/dataPost'\n], function (confirm, dataPost) {\n    'use strict';\n\n    /**\n     * Set of a temporary methods used to provide\n     * backward compatibility with a legacy code.\n     */\n    window.setLocation = function (url) {\n        window.location.href = url;\n    };\n\n    /**\n     * Helper for onclick action.\n     * @param {String} message\n     * @param {String} url\n     * @param {Object} postData\n     * @returns {Boolean}\n     */\n    window.deleteConfirm = function (message, url, postData) {\n        confirm({\n            content: message,\n            actions: {\n                /**\n                 * Confirm action.\n                 */\n                confirm: function () {\n                    if (postData !== undefined) {\n                        postData.action = url;\n                        dataPost().postData(postData);\n                    } else {\n                        setLocation(url);\n                    }\n                }\n            }\n        });\n\n        return false;\n    };\n\n    /**\n     * Helper for onclick action.\n     * @param {String} message\n     * @param {String} url\n     * @returns {Boolean}\n     */\n    window.confirmSetLocation = window.deleteConfirm;\n});\n","mage/adminhtml/accordion.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global varienAccordion, varienLoader, Cookie */\n/* eslint-disable strict */\ndefine([\n    'prototype'\n], function () {\n    window.varienAccordion = new Class.create(); //eslint-disable-line\n    varienAccordion.prototype = {\n        /**\n         * @param {*} containerId\n         * @param {*} activeOnlyOne\n         */\n        initialize: function (containerId, activeOnlyOne) {\n            var links, i;\n\n            this.containerId = containerId;\n            this.activeOnlyOne = activeOnlyOne || false;\n            this.container = $(this.containerId);\n            this.items = $$('#' + this.containerId + ' dt');\n            this.loader = new varienLoader(true); //jscs:ignore requireCapitalizedConstructors\n\n            links = $$('#' + this.containerId + ' dt a');\n\n            for (i in links) {\n                if (links[i].href) {\n                    Event.observe(links[i], 'click', this.clickItem.bind(this));\n                    this.items[i].dd = this.items[i].next('dd');\n                    this.items[i].link = links[i];\n                }\n            }\n\n            this.initFromCookie();\n        },\n\n        /**\n         * Init from cookie.\n         */\n        initFromCookie: function () {\n            var activeItemId, visibility;\n\n            if (this.activeOnlyOne &&\n                (activeItemId = Cookie.read(this.cookiePrefix() + 'active-item')) !== null) {\n                this.hideAllItems();\n                this.showItem(this.getItemById(activeItemId));\n            } else if (!this.activeOnlyOne) {\n                this.items.each(function (item) {\n                    if ((visibility = Cookie.read(this.cookiePrefix() + item.id)) !== null) {\n                        if (visibility == 0) { //eslint-disable-line eqeqeq\n                            this.hideItem(item);\n                        } else {\n                            this.showItem(item);\n                        }\n                    }\n                }.bind(this));\n            }\n        },\n\n        /**\n         * @return {String}\n         */\n        cookiePrefix: function () {\n            return 'accordion-' + this.containerId + '-';\n        },\n\n        /**\n         * @param {*} itemId\n         * @return {*}\n         */\n        getItemById: function (itemId) {\n            var result = null;\n\n            this.items.each(function (item) {\n                if (item.id == itemId) { //eslint-disable-line\n                    result = item;\n                    throw $break;\n                }\n            });\n\n            return result;\n        },\n\n        /**\n         * @param {*} event\n         */\n        clickItem: function (event) {\n            var item = Event.findElement(event, 'dt');\n\n            if (this.activeOnlyOne) {\n                this.hideAllItems();\n                this.showItem(item);\n                Cookie.write(this.cookiePrefix() + 'active-item', item.id, 30 * 24 * 60 * 60);\n            } else {\n                if (this.isItemVisible(item)) { //eslint-disable-line no-lonely-if\n                    this.hideItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 0, 30 * 24 * 60 * 60);\n                } else {\n                    this.showItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 1, 30 * 24 * 60 * 60);\n                }\n            }\n            Event.stop(event);\n        },\n\n        /**\n         * @param {Object} item\n         */\n        showItem: function (item) {\n            if (item && item.link) {\n                if (item.link.href) {\n                    this.loadContent(item);\n                }\n\n                Element.addClassName(item, 'open');\n                Element.addClassName(item.dd, 'open');\n            }\n        },\n\n        /**\n         * @param {Object} item\n         */\n        hideItem: function (item) {\n            Element.removeClassName(item, 'open');\n            Element.removeClassName(item.dd, 'open');\n        },\n\n        /**\n         * @param {*} item\n         * @return {*}\n         */\n        isItemVisible: function (item) {\n            return Element.hasClassName(item, 'open');\n        },\n\n        /**\n         * @param {*} item\n         */\n        loadContent: function (item) {\n            if (item.link.href.indexOf('#') == item.link.href.length - 1) { //eslint-disable-line eqeqeq\n                return;\n            }\n\n            if (Element.hasClassName(item.link, 'ajax')) {\n                this.loadingItem = item;\n                this.loader.load(item.link.href, {\n                    updaterId: this.loadingItem.dd.id\n                }, this.setItemContent.bind(this));\n\n                return;\n            }\n            location.href = item.link.href;\n        },\n\n        /**\n         * @param {Object} content\n         */\n        setItemContent: function (content) {\n            if (content.isJSON) {\n                return;\n            }\n            this.loadingItem.dd.innerHTML = content;\n        },\n\n        /**\n         * Hide all items\n         */\n        hideAllItems: function () {\n            var i;\n\n            for (i in this.items) {\n                if (this.items[i].id) {\n                    Element.removeClassName(this.items[i], 'open');\n                    Element.removeClassName(this.items[i].dd, 'open');\n                }\n            }\n        }\n    };\n});\n","mage/adminhtml/wysiwyg/widget.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global setLocation, Base64, updateElementAtCursor, varienGlobalEvents */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'wysiwygAdapter',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/translate',\n    'mage/mage',\n    'mage/validation',\n    'mage/adminhtml/events',\n    'prototype',\n    'Magento_Ui/js/modal/modal'\n], function (jQuery, wysiwyg, alert) {\n    var widgetTools = {\n\n        /**\n         * Sets the widget to be active and is the scope of the slide out if the value is set\n         */\n        activeSelectedNode: null,\n        editMode: false,\n        cursorLocation: 0,\n\n        /**\n         * Set active selected node.\n         *\n         * @param {Object} activeSelectedNode\n         */\n        setActiveSelectedNode: function (activeSelectedNode) {\n            this.activeSelectedNode = activeSelectedNode;\n        },\n\n        /**\n         * Get active selected node.\n         *\n         * @returns {null}\n         */\n        getActiveSelectedNode: function () {\n            return this.activeSelectedNode;\n        },\n\n        /**\n         *\n         * @param {Boolean} editMode\n         */\n        setEditMode: function (editMode) {\n            this.editMode = editMode;\n        },\n\n        /**\n         * @param {*} id\n         * @param {*} html\n         * @return {String}\n         */\n        getDivHtml: function (id, html) {\n\n            if (!html) {\n                html = '';\n            }\n\n            return '<div id=\"' + id + '\">' + html + '</div>';\n        },\n\n        /**\n         * @param {Object} transport\n         */\n        onAjaxSuccess: function (transport) {\n            var response;\n\n            if (transport.responseText.isJSON()) {\n                response = transport.responseText.evalJSON();\n\n                if (response.error) {\n                    throw response;\n                } else if (response.ajaxExpired && response.ajaxRedirect) {\n                    setLocation(response.ajaxRedirect);\n                }\n            }\n        },\n\n        dialogOpened: false,\n\n        /**\n         * @return {Number}\n         */\n        getMaxZIndex: function () {\n            var max = 0,\n                cn = document.body.childNodes,\n                i, el, zIndex;\n\n            for (i = 0; i < cn.length; i++) {\n                el = cn[i];\n                zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0; //eslint-disable-line eqeqeq\n\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n\n            return max + 10;\n        },\n\n        /**\n         * @param {String} widgetUrl\n         */\n        openDialog: function (widgetUrl) {\n            var oThis = this,\n                title = 'Insert Widget',\n                mode = 'new',\n                dialog;\n\n            if (this.editMode) {\n                title = 'Edit Widget';\n                mode = 'edit';\n            }\n\n            if (this.dialogOpened) {\n                return;\n            }\n\n            this.dialogWindow = jQuery('<div/>').modal({\n\n                title: jQuery.mage.__(title),\n                type: 'slide',\n                buttons: [],\n\n                /**\n                 * Opened.\n                 */\n                opened: function () {\n                    dialog = jQuery(this).addClass('loading magento-message');\n\n                    widgetUrl += 'mode/' + mode;\n\n                    new Ajax.Updater($(this), widgetUrl, {\n                        evalScripts: true,\n\n                        /**\n                         * On complete.\n                         */\n                        onComplete: function () {\n                            dialog.removeClass('loading');\n                        }\n                    });\n                },\n\n                /**\n                 * @param {jQuery.Event} e\n                 * @param {Object} modal\n                 */\n                closed: function (e, modal) {\n                    modal.modal.remove();\n                    oThis.dialogOpened = false;\n                }\n            });\n\n            this.dialogOpened = true;\n            this.dialogWindow.modal('openModal');\n        }\n    },\n    WysiwygWidget = {};\n\n    WysiwygWidget.Widget = Class.create();\n    WysiwygWidget.Widget.prototype = {\n        /**\n         * @param {HTMLElement} formEl\n         * @param {HTMLElement} widgetEl\n         * @param {*} widgetOptionsEl\n         * @param {*} optionsSourceUrl\n         * @param {*} widgetTargetId\n         */\n        initialize: function (formEl, widgetEl, widgetOptionsEl, optionsSourceUrl, widgetTargetId) {\n            $(formEl).insert({\n                bottom: widgetTools.getDivHtml(widgetOptionsEl)\n            });\n\n            this.formEl = formEl;\n            this.widgetEl = $(widgetEl);\n            this.widgetOptionsEl = $(widgetOptionsEl);\n            this.optionsUrl = optionsSourceUrl;\n            this.optionValues = new Hash({});\n            this.widgetTargetId = widgetTargetId;\n\n            if (typeof wysiwyg != 'undefined' && wysiwyg.activeEditor()) { //eslint-disable-line eqeqeq\n                this.bMark = wysiwyg.activeEditor().selection.getBookmark();\n            }\n\n            // disable -- Please Select -- option from being re-selected\n            this.widgetEl.querySelector('option').setAttribute('disabled', 'disabled');\n\n            Event.observe(this.widgetEl, 'change', this.loadOptions.bind(this));\n\n            this.initOptionValues();\n        },\n\n        /**\n         * @return {String}\n         */\n        getOptionsContainerId: function () {\n            return this.widgetOptionsEl.id + '_' + this.widgetEl.value.gsub(/\\//, '_');\n        },\n\n        /**\n         * @param {*} containerId\n         */\n        switchOptionsContainer: function (containerId) {\n            $$('#' + this.widgetOptionsEl.id + ' div[id^=' + this.widgetOptionsEl.id + ']').each(function (e) {\n                this.disableOptionsContainer(e.id);\n            }.bind(this));\n\n            if (containerId != undefined) { //eslint-disable-line eqeqeq\n                this.enableOptionsContainer(containerId);\n            }\n            this._showWidgetDescription();\n        },\n\n        /**\n         * @param {*} containerId\n         */\n        enableOptionsContainer: function (containerId) {\n            var container = $(containerId);\n\n            container.select('.widget-option').each(function (e) {\n                e.removeClassName('skip-submit');\n\n                if (e.hasClassName('obligatory')) {\n                    e.removeClassName('obligatory');\n                    e.addClassName('required-entry');\n                }\n            });\n            container.removeClassName('no-display');\n        },\n\n        /**\n         * @param {*} containerId\n         */\n        disableOptionsContainer: function (containerId) {\n            var container = $(containerId);\n\n            if (container.hasClassName('no-display')) {\n                return;\n            }\n            container.select('.widget-option').each(function (e) {\n                // Avoid submitting fields of unactive container\n                if (!e.hasClassName('skip-submit')) {\n                    e.addClassName('skip-submit');\n                }\n                // Form validation workaround for unactive container\n                if (e.hasClassName('required-entry')) {\n                    e.removeClassName('required-entry');\n                    e.addClassName('obligatory');\n                }\n            });\n            container.addClassName('no-display');\n        },\n\n        /**\n         * Assign widget options values when existing widget selected in WYSIWYG.\n         *\n         * @return {Boolean}\n         */\n        initOptionValues: function () {\n            var e, widgetCode;\n\n            if (!this.wysiwygExists()) {\n                return false;\n            }\n\n            e = this.getWysiwygNode();\n\n            if (e.localName === 'span') {\n                e = e.firstElementChild;\n            }\n\n            if (e != undefined && e.id) { //eslint-disable-line eqeqeq\n                // attempt to Base64-decode id on selected node; exception is thrown if it is in fact not a widget node\n                try {\n                    widgetCode = Base64.idDecode(e.id);\n                } catch (ex) {\n                    return false;\n                }\n\n                if (widgetCode.indexOf('{{widget') !== -1) {\n                    this.optionValues = new Hash({});\n                    widgetCode.gsub(/([a-z0-9\\_]+)\\s*\\=\\s*[\\\"]{1}([^\\\"]+)[\\\"]{1}/i, function (match) {\n\n                        if (match[1] == 'type') { //eslint-disable-line eqeqeq\n                            this.widgetEl.value = match[2];\n                        } else {\n                            this.optionValues.set(match[1], match[2]);\n                        }\n\n                    }.bind(this));\n\n                    this.loadOptions();\n                }\n            }\n        },\n\n        /**\n         * Load options.\n         */\n        loadOptions: function () {\n            var optionsContainerId,\n                params,\n                msg,\n                msgTmpl,\n                $wrapper,\n                typeName = this.optionValues.get('type_name');\n\n            if (!this.widgetEl.value) {\n                if (typeName) {\n                    msgTmpl = jQuery.mage.__('The widget %1 is no longer available. Select a different widget.');\n                    msg = jQuery.mage.__(msgTmpl).replace('%1', typeName);\n\n                    jQuery('body').notification('clear').notification('add', {\n                        error: true,\n                        message: msg,\n\n                        /**\n                         * @param {String} message\n                         */\n                        insertMethod: function (message) {\n                            $wrapper = jQuery('<div/>').html(message);\n\n                            $wrapper.insertAfter('.modal-slide .page-main-actions');\n                        }\n                    });\n                }\n                this.switchOptionsContainer();\n\n                return;\n            }\n\n            optionsContainerId = this.getOptionsContainerId();\n\n            if ($(optionsContainerId) != undefined) { //eslint-disable-line eqeqeq\n                this.switchOptionsContainer(optionsContainerId);\n\n                return;\n            }\n\n            this._showWidgetDescription();\n\n            params = {\n                'widget_type': this.widgetEl.value,\n                values: this.optionValues\n            };\n            new Ajax.Request(this.optionsUrl, {\n                parameters: {\n                    widget: Object.toJSON(params)\n                },\n\n                /**\n                 * On success.\n                 */\n                onSuccess: function (transport) {\n                    try {\n                        widgetTools.onAjaxSuccess(transport);\n                        this.switchOptionsContainer();\n\n                        if ($(optionsContainerId) == undefined) { //eslint-disable-line eqeqeq\n                            this.widgetOptionsEl.insert({\n                                bottom: widgetTools.getDivHtml(optionsContainerId, transport.responseText)\n                            });\n                        } else {\n                            this.switchOptionsContainer(optionsContainerId);\n                        }\n                    } catch (e) {\n                        alert({\n                            content: e.message\n                        });\n                    }\n                }.bind(this)\n            });\n        },\n\n        /**\n         * @private\n         */\n        _showWidgetDescription: function () {\n            var noteCnt = this.widgetEl.next().down('small'),\n                descrCnt = $('widget-description-' + this.widgetEl.selectedIndex),\n                description;\n\n            if (noteCnt != undefined) { //eslint-disable-line eqeqeq\n                description = descrCnt != undefined ? descrCnt.innerHTML : ''; //eslint-disable-line eqeqeq\n                noteCnt.update(description);\n            }\n        },\n\n        /**\n         * Validate field.\n         */\n        validateField: function () {\n            jQuery(this.widgetEl).valid();\n            jQuery('#insert_button').removeClass('disabled');\n        },\n\n        /**\n         * Closes the modal\n         */\n        closeModal: function () {\n            widgetTools.dialogWindow.modal('closeModal');\n        },\n\n        /* eslint-disable max-depth*/\n        /**\n         * Insert widget.\n         */\n        insertWidget: function () {\n            var validationResult,\n                $form = jQuery('#' + this.formEl),\n                formElements,\n                i,\n                params,\n                editor,\n                activeNode;\n\n            // remove cached validator instance, which caches elements to validate\n            jQuery.data($form[0], 'validator', null);\n\n            $form.validate({\n                /**\n                 * Ignores elements with .skip-submit, .no-display ancestor elements\n                 */\n                ignore: function () {\n                    return jQuery(this).closest('.skip-submit, .no-display').length;\n                },\n                errorClass: 'mage-error'\n            });\n\n            validationResult = $form.valid();\n\n            if (validationResult) {\n                formElements = [];\n                i = 0;\n                Form.getElements($(this.formEl)).each(function (e) {\n\n                    if (jQuery(e).closest('.skip-submit, .no-display').length === 0) {\n                        formElements[i] = e;\n                        i++;\n                    }\n                });\n\n                // Add as_is flag to parameters if wysiwyg editor doesn't exist\n                params = Form.serializeElements(formElements);\n\n                if (!this.wysiwygExists()) {\n                    params += '&as_is=1';\n                }\n\n                new Ajax.Request($(this.formEl).action, {\n                    parameters: params,\n                    onComplete: function (transport) {\n                        try {\n                            editor = wysiwyg.get(this.widgetTargetId);\n\n                            widgetTools.onAjaxSuccess(transport);\n                            widgetTools.dialogWindow.modal('closeModal');\n\n                            if (editor) {\n                                editor.focus();\n                                activeNode = widgetTools.getActiveSelectedNode();\n\n                                if (activeNode) {\n                                    editor.selection.select(activeNode);\n                                    editor.selection.setContent(transport.responseText);\n                                    editor.fire('Change');\n                                } else if (this.bMark) {\n                                    editor.selection.moveToBookmark(this.bMark);\n                                }\n                            }\n\n                            if (!activeNode) {\n                                this.updateContent(transport.responseText);\n                            }\n                        } catch (e) {\n                            alert({\n                                content: e.message\n                            });\n                        }\n                    }.bind(this)\n                });\n            }\n        },\n\n        /**\n         * @param {Object} content\n         */\n        updateContent: function (content) {\n            var textarea;\n\n            if (this.wysiwygExists()) {\n                wysiwyg.insertContent(content, false);\n            } else {\n                textarea = document.getElementById(this.widgetTargetId);\n                updateElementAtCursor(textarea, content);\n                varienGlobalEvents.fireEvent('tinymceChange');\n                jQuery(textarea).trigger('change');\n            }\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        wysiwygExists: function () {\n            return typeof wysiwyg != 'undefined' && wysiwyg.get(this.widgetTargetId);\n        },\n\n        /**\n         * @return {null|wysiwyg.Editor|*}\n         */\n        getWysiwyg: function () {\n            return wysiwyg.get(this.widgetTargetId);\n        },\n\n        /**\n         * @return {*|Element}\n         */\n        getWysiwygNode: function () {\n            return widgetTools.getActiveSelectedNode() || wysiwyg.activeEditor().selection.getNode();\n        }\n    };\n\n    WysiwygWidget.chooser = Class.create();\n    WysiwygWidget.chooser.prototype = {\n\n        // HTML element A, on which click event fired when choose a selection\n        chooserId: null,\n\n        // Source URL for Ajax requests\n        chooserUrl: null,\n\n        // Chooser config\n        config: null,\n\n        // Chooser dialog window\n        dialogWindow: null,\n\n        // Chooser content for dialog window\n        dialogContent: null,\n\n        overlayShowEffectOptions: null,\n        overlayHideEffectOptions: null,\n\n        /**\n         * @param {*} chooserId\n         * @param {*} chooserUrl\n         * @param {*} config\n         */\n        initialize: function (chooserId, chooserUrl, config) {\n            this.chooserId = chooserId;\n            this.chooserUrl = chooserUrl;\n            this.config = config;\n        },\n\n        /**\n         * @return {String}\n         */\n        getResponseContainerId: function () {\n            return 'responseCnt' + this.chooserId;\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        getChooserControl: function () {\n            return $(this.chooserId + 'control');\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        getElement: function () {\n            return $(this.chooserId + 'value');\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        getElementLabel: function () {\n            return $(this.chooserId + 'label');\n        },\n\n        /**\n         * Open.\n         */\n        open: function () {\n            $(this.getResponseContainerId()).show();\n        },\n\n        /**\n         * Close.\n         */\n        close: function () {\n            $(this.getResponseContainerId()).hide();\n            this.closeDialogWindow();\n        },\n\n        /**\n         * Choose.\n         */\n        choose: function () {\n            // Open dialog window with previously loaded dialog content\n            var responseContainerId;\n\n            if (this.dialogContent) {\n                this.openDialogWindow(this.dialogContent);\n\n                return;\n            }\n            // Show or hide chooser content if it was already loaded\n            responseContainerId = this.getResponseContainerId();\n\n            // Otherwise load content from server\n            new Ajax.Request(this.chooserUrl, {\n                parameters: {\n                    'element_value': this.getElementValue(),\n                    'element_label': this.getElementLabelText()\n                },\n\n                /**\n                 * On success.\n                 */\n                onSuccess: function (transport) {\n                    try {\n                        widgetTools.onAjaxSuccess(transport);\n                        this.dialogContent = widgetTools.getDivHtml(responseContainerId, transport.responseText);\n                        this.openDialogWindow(this.dialogContent);\n                    } catch (e) {\n                        alert({\n                            content: e.message\n                        });\n                    }\n                }.bind(this)\n            });\n        },\n\n        /**\n         * Open dialog winodw.\n         *\n         * @param {*} content\n         */\n        openDialogWindow: function (content) {\n            this.dialogWindow = jQuery('<div/>').modal({\n                title: this.config.buttons.open,\n                type: 'slide',\n                buttons: [],\n\n                /**\n                 * Opened.\n                 */\n                opened: function () {\n                    jQuery(this).addClass('magento-message');\n                },\n\n                /**\n                 * @param {jQuery.Event} e\n                 * @param {Object} modal\n                 */\n                closed: function (e, modal) {\n                    modal.modal.remove();\n                    this.dialogWindow = null;\n                }\n            });\n\n            this.dialogWindow.modal('openModal').append(content);\n        },\n\n        /**\n         * Close dialog window.\n         */\n        closeDialogWindow: function () {\n            this.dialogWindow.modal('closeModal').remove();\n        },\n\n        /**\n         * @return {*|Number}\n         */\n        getElementValue: function () {\n            return this.getElement().value;\n        },\n\n        /**\n         * @return {String}\n         */\n        getElementLabelText: function () {\n            return this.getElementLabel().innerHTML;\n        },\n\n        /**\n         * @param {*} value\n         */\n        setElementValue: function (value) {\n            this.getElement().value = value;\n        },\n\n        /**\n         * @param {*} value\n         */\n        setElementLabel: function (value) {\n            this.getElementLabel().innerHTML = value;\n        }\n    };\n\n    window.WysiwygWidget = WysiwygWidget;\n    window.widgetTools = widgetTools;\n});\n","mage/adminhtml/wysiwyg/events.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return {\n        afterInitialization: 'afterInitialization',\n        afterChangeContent: 'afterChangeContent',\n        afterUndo: 'afterUndo',\n        afterPaste: 'afterPaste',\n        beforeSetContent: 'beforeSetContent',\n        afterSetContent: 'afterSetContent',\n        afterSave: 'afterSave',\n        afterOpenFileBrowser: 'afterOpenFileBrowser',\n        afterFormSubmit: 'afterFormSubmit',\n        afterBlur: 'afterBlur',\n        afterFocus: 'afterFocus'\n    };\n});\n","mage/adminhtml/wysiwyg/tiny_mce/tinymce5Adapter.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global popups, tinyMceEditors, MediabrowserUtility, Base64 */\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'underscore',\n    'tinymce',\n    'mage/adminhtml/events',\n    'mage/adminhtml/wysiwyg/events',\n    'mage/translate',\n    'prototype',\n    'jquery/ui'\n], function (jQuery, _, tinyMCE, varienGlobalEvents, wysiwygEvents) {\n    'use strict';\n\n    var tinyMceWysiwyg = Class.create();\n\n    tinyMceWysiwyg.prototype = {\n        mediaBrowserOpener: null,\n        mediaBrowserTargetElementId: null,\n        magentoVariablesPlugin: null,\n        mode: 'exact',\n\n        /**\n         * @param {*} htmlId\n         * @param {Object} config\n         */\n        initialize: function (htmlId, config) {\n            this.id = htmlId;\n            this.config = config;\n\n            _.bindAll(\n                this,\n                'beforeSetContent',\n                'saveContent',\n                'onChangeContent',\n                'openFileBrowser',\n                'updateTextArea',\n                'onUndo',\n                'removeEvents'\n            );\n\n            varienGlobalEvents.attachEventHandler('tinymceChange', this.onChangeContent);\n            varienGlobalEvents.attachEventHandler('tinymceBeforeSetContent', this.beforeSetContent);\n            varienGlobalEvents.attachEventHandler('tinymceSetContent', this.updateTextArea);\n            varienGlobalEvents.attachEventHandler('tinymceSaveContent', this.saveContent);\n            varienGlobalEvents.attachEventHandler('tinymceUndo', this.onUndo);\n\n            if (typeof tinyMceEditors === 'undefined') {\n                window.tinyMceEditors = $H({});\n            }\n\n            tinyMceEditors.set(this.id, this);\n        },\n\n        /**\n         * Ensures the undo operation works properly\n         */\n        onUndo: function () {\n            this.addContentEditableAttributeBackToNonEditableNodes();\n        },\n\n        /**\n         * Setup TinyMCE editor\n         */\n        setup: function (mode) {\n            var deferreds = [],\n                settings,\n                self = this;\n\n            this.turnOff();\n\n            if (this.config.plugins) {\n                this.config.plugins.forEach(function (plugin) {\n                    var deferred;\n\n                    self.addPluginToToolbar(plugin.name, '|');\n\n                    if (!plugin.src) {\n                        return;\n                    }\n\n                    deferred = jQuery.Deferred();\n                    deferreds.push(deferred);\n\n                    require([plugin.src], function (factoryFn) {\n                        if (typeof factoryFn === 'function') {\n                            factoryFn(plugin.options);\n                        }\n\n                        tinyMCE.PluginManager.load(plugin.name, plugin.src);\n                        deferred.resolve();\n                    });\n                });\n            }\n\n            if (jQuery.isReady) {\n                tinyMCE.dom.Event.domLoaded = true;\n            }\n\n            settings = this.getSettings();\n\n            if (mode === 'inline') {\n                settings.inline = true;\n\n                if (!isNaN(settings.toolbarZIndex)) {\n                    tinyMCE.ui.FloatPanel.zIndex = settings.toolbarZIndex;\n                }\n\n                this.removeEvents(self.id);\n            }\n\n            jQuery.when.apply(jQuery, deferreds).done(function () {\n                tinyMCE.init(settings);\n                this.getPluginButtons().hide();\n                varienGlobalEvents.clearEventHandlers('open_browser_callback');\n                this.eventBus.clearEventHandlers('open_browser_callback');\n                this.eventBus.attachEventHandler('open_browser_callback', tinyMceEditors.get(self.id).openFileBrowser);\n            }.bind(this));\n        },\n\n        /**\n         * Remove events from instance.\n         *\n         * @param {String} wysiwygId\n         */\n        removeEvents: function (wysiwygId) {\n            var editor;\n\n            if (typeof tinyMceEditors !== 'undefined' && tinyMceEditors.get(wysiwygId)) {\n                editor = tinyMceEditors.get(wysiwygId);\n                varienGlobalEvents.removeEventHandler('tinymceChange', editor.onChangeContent);\n            }\n        },\n\n        /**\n         * Add plugin to the toolbar if not added.\n         *\n         * @param {String} plugin\n         * @param {String} separator\n         */\n        addPluginToToolbar: function (plugin, separator) {\n            var plugins = this.config.tinymce5.plugins.split(' '),\n                toolbar = this.config.tinymce5.toolbar.split(' ');\n\n            if (plugins.indexOf(plugin) === -1) {\n                plugins.push(plugin);\n            }\n\n            if (toolbar.indexOf(plugin) === -1) {\n                toolbar.push(separator || '', plugin);\n            }\n\n            this.config.tinymce5.plugins = plugins.join(' ');\n            this.config.tinymce5.toolbar = toolbar.join(' ');\n        },\n\n        /**\n         * Set the status of the toolbar to disabled or enabled (true for enabled, false for disabled)\n         * @param {Boolean} enabled\n         */\n        setToolbarStatus: function (enabled) {\n            var controlIds = this.get(this.getId()).theme.panel.rootControl.controlIdLookup;\n\n            _.each(controlIds, function (controlId) {\n                controlId.disabled(!enabled);\n                controlId.canFocus = enabled;\n\n                if (controlId.tooltip) {\n                    controlId.tooltip().state.set('rendered', enabled);\n\n                    if (enabled) {\n                        jQuery(controlId.getEl()).children('button').addBack().removeAttr('style');\n                    } else {\n                        jQuery(controlId.getEl()).children('button').addBack().attr('style', 'color: inherit;' +\n                            'background-color: inherit;' +\n                            'border-color: transparent;'\n                        );\n                    }\n                }\n            });\n        },\n\n        /**\n         * @return {Object}\n         */\n        getSettings: function () {\n            var settings,\n                eventBus = this.eventBus;\n\n            settings = {\n                selector: '#' + this.getId(),\n                theme: 'silver',\n                skin: 'oxide',\n                'toolbar_mode': 'wrap',\n                'entity_encoding': 'raw',\n                'convert_urls': false,\n                'content_css': this.config.tinymce5['content_css'],\n                'relative_urls': true,\n                'valid_children': '+body[style]',\n                menubar: false,\n                plugins: this.config.tinymce5.plugins,\n                toolbar: this.config.tinymce5.toolbar,\n                adapter: this,\n                'body_id': 'html-body',\n\n                /**\n                 * @param {Object} editor\n                 */\n                setup: function (editor) {\n                    var onChange;\n\n                    editor.on('BeforeSetContent', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceBeforeSetContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.beforeSetContent);\n                    });\n\n                    editor.on('SaveContent', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceSaveContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterSave);\n                    });\n\n                    editor.on('paste', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymcePaste', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterPaste);\n                    });\n\n                    editor.on('PostProcess', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceSaveContent', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterSave);\n                    });\n\n                    editor.on('undo', function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceUndo', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterUndo);\n                    });\n\n                    editor.on('focus', function () {\n                        eventBus.fireEvent(wysiwygEvents.afterFocus);\n                    });\n\n                    editor.on('blur', function () {\n                        eventBus.fireEvent(wysiwygEvents.afterBlur);\n                    });\n\n                    /**\n                     * @param {*} evt\n                     */\n                    onChange = function (evt) {\n                        varienGlobalEvents.fireEvent('tinymceChange', evt);\n                        eventBus.fireEvent(wysiwygEvents.afterChangeContent);\n                    };\n\n                    editor.on('Change', onChange);\n                    editor.on('keyup', onChange);\n\n                    editor.on('ExecCommand', function (cmd) {\n                        varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);\n                    });\n\n                    editor.on('init', function (args) {\n                        varienGlobalEvents.fireEvent('wysiwygEditorInitialized', args.target);\n                        eventBus.fireEvent(wysiwygEvents.afterInitialization);\n                    });\n                }\n            };\n\n            // Set default initial height\n            settings['min_height'] = this.config.tinymce5['min_height'] ? this.config.tinymce5['min_height'] : 250;\n\n            if (this.config.skin) {\n                settings.skin = this.config.skin;\n            }\n\n            if (this.config['toolbar_mode']) {\n                settings['toolbar_mode'] = this.config['toolbar_mode'];\n            }\n\n            if (this.config.baseStaticUrl && this.config.baseStaticDefaultUrl) {\n                settings['document_base_url'] = this.config.baseStaticUrl;\n            }\n            // Set the document base URL\n            if (this.config['document_base_url']) {\n                settings['document_base_url'] = this.config['document_base_url'];\n            }\n\n            if (this.config['files_browser_window_url']) {\n                settings['file_picker_callback_types'] = 'file image media';\n\n                /**\n                 * @param {*} callback\n                 * @param {*} value\n                 * @param {*} meta\n                 */\n                settings['file_picker_callback'] = function (callback, value, meta) {\n                    var payload = {\n                        callback: callback,\n                        value: value,\n                        meta: meta\n                    };\n\n                    varienGlobalEvents.fireEvent('open_browser_callback', payload);\n                    this.eventBus.fireEvent('open_browser_callback', payload);\n                }.bind(this);\n            }\n\n            if (this.config.width) {\n                settings.width = this.config.width;\n            }\n\n            if (this.config.height) {\n                settings.height = this.config.height;\n            }\n\n            if (this.config.plugins) {\n                settings.magentoPluginsOptions = {};\n\n                _.each(this.config.plugins, function (plugin) {\n                    settings.magentoPluginsOptions[plugin.name] = plugin.options;\n                });\n            }\n\n            if (this.config.settings) {\n                Object.extend(settings, this.config.settings);\n            }\n\n            return settings;\n        },\n\n        /**\n         * @param {String} id\n         */\n        get: function (id) {\n            return tinyMCE.get(id);\n        },\n\n        /**\n         * @return {String|null}\n         */\n        getId: function () {\n            return this.id || (this.activeEditor() ? this.activeEditor().id : null) || tinyMceEditors.values()[0].id;\n        },\n\n        /**\n         * @return {Object}\n         */\n        activeEditor: function () {\n            return tinyMCE.activeEditor;\n        },\n\n        /**\n         * Insert content to active editor.\n         *\n         * @param {String} content\n         * @param {Boolean} ui\n         */\n        insertContent: function (content, ui) {\n            this.activeEditor().execCommand('mceInsertContent', typeof ui !== 'undefined' ? ui : false, content);\n        },\n\n        /**\n         * Replace entire contents of wysiwyg with string content parameter\n         *\n         * @param {String} content\n         */\n        setContent: function (content) {\n            this.get(this.getId()).setContent(content);\n        },\n\n        /**\n         * Set caret location in WYSIWYG editor.\n         *\n         * @param {Object} targetElement\n         */\n        setCaretOnElement: function (targetElement) {\n            this.activeEditor().selection.select(targetElement);\n            this.activeEditor().selection.collapse();\n        },\n\n        /**\n         * @param {Object} o\n         */\n        openFileBrowser: function (o) {\n            var typeTitle = this.translate('Select Images'),\n                storeId = this.config['store_id'] ? this.config['store_id'] : 0,\n                frameDialog = jQuery('div.mce-container[role=\"dialog\"]'),\n                self = this,\n                wUrl = this.config['files_browser_window_url'] +\n                    'target_element_id/' + this.getId() + '/' +\n                    'store/' + storeId + '/';\n\n            this.mediaBrowserOpener = o.callback;\n\n            if (typeof o.meta.filetype !== 'undefined' && o.meta.filetype !== '') { //eslint-disable-line eqeqeq\n                wUrl = wUrl + 'type/' + o.meta.filetype + '/';\n            }\n\n            frameDialog.hide();\n            jQuery('.tox-tinymce-aux').hide();\n\n            require(['mage/adminhtml/browser'], function () {\n                MediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n                        /**\n                         * Closed.\n                         */\n                        closed: function () {\n                            frameDialog.show();\n                            jQuery('.tox-tinymce-aux').show();\n                        },\n\n                        targetElementId: self.activeEditor() ? self.activeEditor().id : null\n                    }\n                );\n            });\n        },\n\n        /**\n         * @param {String} string\n         * @return {String}\n         */\n        translate: function (string) {\n            return jQuery.mage.__ ? jQuery.mage.__(string) : string;\n        },\n\n        /**\n         * @return {null}\n         */\n        getMediaBrowserOpener: function () {\n            return this.mediaBrowserOpener;\n        },\n\n        /**\n         * @return {null}\n         */\n        getMediaBrowserTargetElementId: function () {\n            return this.mediaBrowserTargetElementId;\n        },\n\n        /**\n         * @return {jQuery|*|HTMLElement}\n         */\n        getToggleButton: function () {\n            return $('toggle' + this.getId());\n        },\n\n        /**\n         * Get plugins button.\n         */\n        getPluginButtons: function () {\n            return jQuery('#buttons' + this.getId() + ' > button.plugin');\n        },\n\n        /**\n         * @param {*} mode\n         * @return {wysiwygSetup}\n         */\n        turnOn: function (mode) {\n            this.closePopups();\n\n            this.setup(mode);\n\n            this.getPluginButtons().hide();\n\n            tinyMCE.execCommand('mceAddControl', false, this.getId());\n\n            return this;\n        },\n\n        /**\n         * @param {String} name\n         */\n        closeEditorPopup: function (name) {\n            if (typeof popups !== 'undefined' && popups[name] !== undefined && !popups[name].closed) {\n                popups[name].close();\n            }\n        },\n\n        /**\n         * @return {wysiwygSetup}\n         */\n        turnOff: function () {\n            this.closePopups();\n\n            this.getPluginButtons().show();\n\n            tinyMCE.execCommand('mceRemoveEditor', false, this.getId());\n\n            return this;\n        },\n\n        /**\n         * Close popups.\n         */\n        closePopups: function () {\n            // close all popups to avoid problems with updating parent content area\n            varienGlobalEvents.fireEvent('wysiwygClosePopups');\n            this.closeEditorPopup('browser_window' + this.getId());\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        toggle: function () {\n            var content;\n\n            if (!tinyMCE.get(this.getId())) {\n                this.turnOn();\n\n                return true;\n            }\n\n            content = this.get(this.getId()) ? this.get(this.getId()).getContent() : this.getTextArea().val();\n\n            this.turnOff();\n\n            if (content.match(/{{.+?}}/g)) {\n                this.getTextArea().val(content.replace(/&quot;/g, '\"'));\n            }\n\n            return false;\n        },\n\n        /**\n         * On form validation.\n         */\n        onFormValidation: function () {\n            if (tinyMCE.get(this.getId())) {\n                $(this.getId()).value = tinyMCE.get(this.getId()).getContent();\n            }\n        },\n\n        /**\n         * On change content.\n         */\n        onChangeContent: function () {\n            // Add \"changed\" to tab class if it exists\n            var tab;\n\n            this.updateTextArea();\n\n            if (this.config['tab_id']) {\n                tab = $$('a[id$=' + this.config['tab_id'] + ']')[0];\n\n                if ($(tab) != undefined && $(tab).hasClassName('tab-item-link')) { //eslint-disable-line eqeqeq\n                    $(tab).addClassName('changed');\n                }\n            }\n        },\n\n        /**\n         * @param {Object} o\n         */\n        beforeSetContent: function (o) {\n            o.content = this.encodeContent(o.content);\n        },\n\n        /**\n         * @param {Object} o\n         */\n        saveContent: function (o) {\n            o.content = this.decodeContent(o.content);\n        },\n\n        /**\n         * Return the content stored in the WYSIWYG field\n         * @param {String} id\n         * @return {String}\n         */\n        getContent: function (id) {\n            return id ? this.get(id).getContent() : this.get(this.getId()).getContent();\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getAdapterPrototype: function () {\n            return tinyMceWysiwyg;\n        },\n\n        /**\n         * Fix range selection placement when typing.  This fixes MAGETWO-84769\n         * @param {Object} editor\n         */\n        fixRangeSelection: function (editor) {\n            var selection = editor.selection,\n                dom = editor.dom,\n                rng = dom.createRng(),\n                doc = editor.getDoc(),\n                markerHtml,\n                marker;\n\n            // Validate the range we're trying to fix is contained within the current editors document\n            if (!selection.getContent().length && jQuery.contains(doc, selection.getRng().startContainer)) {\n                markerHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">\\uFEFF</span>';\n                selection.setContent(markerHtml);\n                marker = dom.get('mce_marker');\n                rng.setStartBefore(marker);\n                rng.setEndBefore(marker);\n                dom.remove(marker);\n                selection.setRng(rng);\n            }\n        },\n\n        /**\n         * Update text area.\n         */\n        updateTextArea: function () {\n            var editor = this.get(this.getId()),\n                content;\n\n            if (!editor || editor.id !== this.activeEditor().id) {\n                return;\n            }\n\n            this.addContentEditableAttributeBackToNonEditableNodes();\n\n            content = editor.getContent();\n            content = this.decodeContent(content);\n\n            this.getTextArea().val(content).trigger('change');\n        },\n\n        /**\n         * @return {Object} jQuery textarea element\n         */\n        getTextArea: function () {\n            return jQuery('#' + this.getId());\n        },\n\n        /**\n         * Set the status of the editor and toolbar\n         *\n         * @param {Boolean} enabled\n         */\n        setEnabledStatus: function (enabled) {\n            if (this.activeEditor()) {\n                this.activeEditor().getBody().setAttribute('contenteditable', enabled);\n                this.activeEditor().readonly = !enabled;\n                this.setToolbarStatus(enabled);\n            }\n\n            if (enabled) {\n                this.getTextArea().prop('disabled', false);\n            } else {\n                this.getTextArea().prop('disabled', 'disabled');\n            }\n        },\n\n        /**\n         * Retrieve directives URL with substituted directive value.\n         *\n         * @param {String} directive\n         */\n        makeDirectiveUrl: function (directive) {\n            return this.config['directives_url']\n                .replace(/directive/, 'directive/___directive/' + directive)\n                .replace(/\\/$/, '');\n        },\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        encodeDirectives: function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"') + m[4]));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        },\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        decodeDirectives: function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        },\n\n        /**\n         * @param {Object} attributes\n         * @return {Object}\n         */\n        parseAttributesString: function (attributes) {\n            var result = {};\n\n            // Decode &quot; entity, as regex below does not support encoded quote\n            attributes = attributes.replace(/&quot;/g, '\"');\n\n            attributes.gsub(\n                /(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/,\n                function (match) {\n                    result[match[1]] = match[2];\n                }\n            );\n\n            return result;\n        },\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        decodeContent: function (content) {\n            if (this.config['add_directives']) {\n                content = this.decodeDirectives(content);\n            }\n\n            content = varienGlobalEvents.fireEventReducer('wysiwygDecodeContent', content);\n\n            return content;\n        },\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        encodeContent: function (content) {\n            if (this.config['add_directives']) {\n                content = this.encodeDirectives(content);\n            }\n\n            content = varienGlobalEvents.fireEventReducer('wysiwygEncodeContent', content);\n\n            return content;\n        },\n\n        /**\n         * Reinstate contenteditable attributes on .mceNonEditable nodes\n         */\n        addContentEditableAttributeBackToNonEditableNodes: function () {\n            jQuery('.mceNonEditable', this.activeEditor().getDoc()).attr('contenteditable', false);\n        },\n\n        /**\n         * Calls the save method on all editor instances in the collection.\n         */\n        triggerSave: function () {\n            tinyMCE.triggerSave();\n        }\n    };\n\n    return tinyMceWysiwyg.prototype;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/html5-schema.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    /* eslint-disable max-len */\n\n    var schema = {\n        blockContent: [\n            'address', 'article', 'aside', 'blockquote', 'details', 'dialog', 'div', 'dl', 'fieldset',\n            'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr',\n            'menu', 'nav', 'ol', 'p', 'pre', 'section', 'table', 'ul'\n        ],\n        phrasingContent: [\n            '#comment', '#text', 'a', 'abbr', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas',\n            'cite','code', 'command', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',\n            'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'meter', 'noscript', 'object',\n            'output', 'picture', 'progress', 'q', 'ruby', 's', 'samp', 'script', 'select', 'small',\n            'span', 'strong', 'sub', 'sup', 'textarea', 'time', 'u', 'var', 'video', 'wbr'\n        ],\n        blockElements: [\n            'address', 'article', 'aside', 'blockquote', 'caption', 'center', 'datalist', 'dd', 'dir', 'div',\n            'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'header', 'hgroup', 'hr', 'isindex', 'li', 'menu', 'nav', 'noscript', 'ol', 'optgroup', 'option',\n            'p', 'pre', 'section', 'select', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n        ],\n        boolAttrs: [\n            'autoplay', 'checked', 'compact', 'controls', 'declare', 'defer', 'disabled', 'ismap', 'loop',\n            'multiple', 'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'\n        ],\n        shortEnded: [\n            'area', 'base', 'basefont', 'br', 'col', 'embed', 'frame', 'hr', 'img', 'input', 'isindex',\n            'link', 'meta', 'param', 'source', 'track', 'wbr'\n        ],\n        whiteSpace: [\n            'audio', 'iframe', 'noscript', 'object', 'pre', 'script', 'style', 'textarea', 'video'\n        ],\n        selfClosing: [\n            'colgroup', 'dd', 'dt', 'li', 'option', 'p', 'td', 'tfoot', 'th', 'thead', 'tr'\n        ]\n    };\n\n    schema.flowContent = schema.blockContent.concat(schema.phrasingContent, ['style']);\n    schema.nonEmpty = ['td', 'th', 'iframe', 'video', 'audio', 'object', 'script', 'i', 'em', 'span'].concat(schema.shortEnded);\n\n    _.extend(schema, (function (phrasingContent, flowContent) {\n        var validElements   = [],\n            validChildren   = [],\n            compiled        = {},\n            globalAttrs,\n            rawData;\n\n        globalAttrs = [\n            'id', 'dir', 'lang', 'class', 'style', 'title', 'hidden', 'onclick', 'onkeyup',\n            'tabindex', 'dropzone', 'accesskey', 'draggable', 'translate', 'onmouseup',\n            'onkeydown', 'spellcheck', 'ondblclick', 'onmouseout', 'onkeypress', 'contextmenu',\n            'onmousedown', 'onmouseover', 'onmousemove', 'contenteditable'\n        ];\n\n        rawData = [\n            ['html', 'manifest', 'head body'],\n            ['head', '', 'base command link meta noscript script style title'],\n            ['title hr noscript br'],\n            ['base', 'href target'],\n            ['link', 'href rel media hreflang type sizes hreflang'],\n            ['meta', 'name http-equiv content charset'],\n            ['style', 'media type scoped'],\n            ['script', 'src async defer type charset'],\n            ['body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' +\n                'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' +\n                'onpopstate onresize onscroll onstorage onunload background bgcolor text link vlink alink', flowContent\n            ],\n            ['caption', '', _.without(flowContent, 'table')],\n            ['address dt dd div', '', flowContent],\n            ['h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent],\n            ['blockquote', 'cite', flowContent],\n            ['ol', 'reversed start type', 'li'],\n            ['ul', 'type compact', 'li'],\n            ['li', 'value type', flowContent],\n            ['dl', '', 'dt dd'],\n            ['a', 'href target rel media hreflang type charset name rev shape coords download', phrasingContent],\n            ['q', 'cite', phrasingContent],\n            ['ins del', 'cite datetime', flowContent],\n            ['img', 'src sizes srcset alt usemap ismap width height name longdesc align border hspace vspace'],\n            ['iframe', 'src name width height longdesc frameborder marginwidth marginheight scrolling align sandbox seamless allowfullscreen', flowContent],\n            ['embed', 'src type width height'],\n            ['object', 'data type typemustmatch name usemap form width height declare classid code codebase codetype archive standby align border hspace vspace', flowContent.concat(['param'])],\n            ['param', 'name value valuetype type'],\n            ['map', 'name', flowContent.concat(['area'])],\n            ['area', 'alt coords shape href target rel media hreflang type nohref'],\n            ['table', 'border summary width frame rules cellspacing cellpadding align bgcolor', 'caption colgroup thead tfoot tbody tr col'],\n            ['colgroup', 'span width align char charoff valign', 'col'],\n            ['col', 'span'],\n            ['tbody thead tfoot', 'align char charoff valign', 'tr'],\n            ['tr', 'align char charoff valign bgcolor', 'td th'],\n            ['td', 'colspan rowspan headers abbr axis scope align char charoff valign nowrap bgcolor width height', flowContent],\n            ['th', 'colspan rowspan headers scope abbr axis align char charoff valign nowrap bgcolor width height accept', flowContent],\n            ['form', 'accept-charset action autocomplete enctype method name novalidate target onsubmit onreset', flowContent],\n            ['fieldset', 'disabled form name', flowContent.concat(['legend'])],\n            ['label', 'form for', phrasingContent],\n            ['input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' +\n                'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width usemap align'\n            ],\n            ['button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', phrasingContent],\n            ['select', 'disabled form multiple name required size onfocus onblur onchange', 'option optgroup'],\n            ['optgroup', 'disabled label', 'option'],\n            ['option', 'disabled label selected value'],\n            ['textarea', 'cols dirname disabled form maxlength name readonly required rows wrap'],\n            ['menu', 'type label', flowContent.concat(['li'])],\n            ['noscript', '', flowContent],\n            ['wbr'],\n            ['ruby', '', phrasingContent.concat(['rt', 'rp'])],\n            ['figcaption', '', flowContent],\n            ['mark rt rp summary bdi', '', phrasingContent],\n            ['canvas', 'width height', flowContent],\n            ['video', 'src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered', flowContent.concat(['track', 'source'])],\n            ['audio', 'src crossorigin preload autoplay mediagroup loop muted controls buffered volume', flowContent.concat(['track', 'source'])],\n            ['picture', '', 'img source'],\n            ['source', 'src srcset type media sizes'],\n            ['track', 'kind src srclang label default'],\n            ['datalist', '', phrasingContent.concat(['option'])],\n            ['article section nav aside header footer', '', flowContent],\n            ['hgroup', '', 'h1 h2 h3 h4 h5 h6'],\n            ['figure', '', flowContent.concat(['figcaption'])],\n            ['time', 'datetime', phrasingContent],\n            ['dialog', 'open', flowContent],\n            ['command', 'type label icon disabled checked radiogroup command'],\n            ['output', 'for form name', phrasingContent],\n            ['progress', 'value max', phrasingContent],\n            ['meter', 'value min max low high optimum', phrasingContent],\n            ['details', 'open', flowContent.concat(['summary'])],\n            ['keygen', 'autofocus challenge disabled form keytype name'],\n            ['script', 'language xml:space'],\n            ['style', 'xml:space'],\n            ['embed', 'align name hspace vspace'],\n            ['br', 'clear'],\n            ['applet', 'codebase archive code object alt name width height align hspace vspace'],\n            ['font basefont', 'size color face'],\n            ['h1 h2 h3 h4 h5 h6 div p legend caption', 'align'],\n            ['ol dl menu dir', 'compact'],\n            ['pre', 'width xml:space'],\n            ['hr', 'align noshade size width'],\n            ['isindex', 'prompt'],\n            ['col', 'width align char charoff valign'],\n            ['input button select textarea', 'autofocus'],\n            ['input textarea', 'placeholder onselect onchange onfocus onblur'],\n            ['link script img', 'crossorigin']\n        ];\n\n        rawData.forEach(function (data) {\n            var nodes       = data[0].split(' '),\n                attributes  = data[1] || [],\n                children    = data[2] || [],\n                ni          = nodes.length,\n                nodeName,\n                schemaData;\n\n            if (typeof attributes === 'string') {\n                attributes = attributes.split(' ');\n            }\n\n            if (typeof children === 'string') {\n                children = children.split(' ');\n            }\n\n            while (ni--) {\n                nodeName    = nodes[ni];\n                schemaData  = compiled[nodeName] || {};\n\n                compiled[nodeName] = {\n                    attributes: _.union(schemaData.attributes, globalAttrs, attributes),\n                    children: _.union(schemaData.children, children)\n                };\n            }\n        });\n\n        ['a', 'dfn', 'form', 'meter', 'progress'].forEach(function (nodeName) {\n            var node = compiled[nodeName];\n\n            node.children = _.without(node.children, nodeName);\n        });\n\n        _.each(compiled, function (node, nodeName) {\n            var filteredAttributes = [];\n\n            _.each(node.attributes, function (attribute) { //eslint-disable-line max-nested-callbacks\n                // Disallowing usage of 'on*' attributes.\n                if (!/^on/.test(attribute)) {\n                    filteredAttributes.push(attribute);\n                }\n            });\n\n            node.attributes = filteredAttributes;\n\n            validElements.push(nodeName + '[' + node.attributes.join('|') + ']');\n            validChildren.push(nodeName + '[' + node.children.join('|') + ']');\n        });\n\n        return {\n            nodes: compiled,\n            validElements: validElements,\n            validChildren: validChildren\n        };\n    })(schema.phrasingContent, schema.flowContent));\n\n    return schema;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/setup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable strict */\ndefine([\n    'jquery',\n    'underscore',\n    'wysiwygAdapter',\n    'module',\n    'mage/translate',\n    'prototype',\n    'mage/adminhtml/events',\n    'mage/adminhtml/browser'\n], function (jQuery, _, wysiwygAdapter, module) {\n    var baseConfig = module.config().config || {},\n        wysiwygSetup = Class.create({\n        wysiwygInstance: null\n    });\n\n    wysiwygSetup.prototype = {\n\n        /**\n         * @param {*} htmlId\n         * @param {Object} config\n         */\n        initialize: function (htmlId, config) {\n            var WysiwygInstancePrototype = new wysiwygAdapter.getAdapterPrototype();\n\n            _.bindAll(this, 'openFileBrowser');\n\n            config = _.extend({}, baseConfig, config || {});\n            this.wysiwygInstance = new WysiwygInstancePrototype(htmlId, config);\n            this.wysiwygInstance.eventBus = this.eventBus = new window.varienEvents();\n        },\n\n        /**\n         * @param {*} mode\n         */\n        setup: function (mode) {\n            this.wysiwygInstance.setup(mode);\n        },\n\n        /**\n         * @param {Object} o\n         */\n        openFileBrowser: function (o) {\n            this.wysiwygInstance.openFileBrowser(o);\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        toggle: function () {\n            return this.wysiwygInstance.toggle();\n        },\n\n        /**\n         * On form validation.\n         */\n        onFormValidation: function () {\n            this.wysiwygInstance.onFormValidation();\n        },\n\n        /**\n         * Encodes the content so it can be inserted into the wysiwyg\n         * @param {String} content - The content to be encoded\n         *\n         * @returns {*} - The encoded content\n         */\n        updateContent: function (content) {\n            return this.wysiwygInstance.encodeContent(content);\n        }\n\n    };\n    window.wysiwygSetup = wysiwygSetup;\n\n    return wysiwygSetup;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentowidget/editor_plugin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global tinymce, widgetTools, Base64 */\n/* eslint-disable strict */\ndefine([\n    'wysiwygAdapter',\n    'mage/adminhtml/events',\n    'mage/adminhtml/wysiwyg/widget'\n], function (wysiwyg, varienGlobalEvents) {\n    return function (config) {\n        tinymce.create('tinymce.plugins.magentowidget', {\n\n            /**\n             * @param {tinymce.Editor} editor - Editor instance that the plugin is initialized in.\n             */\n            init: function (editor) {\n                var self = this;\n\n                this.activePlaceholder = null;\n\n                editor.addCommand('mceMagentowidget', function (img) {\n                    if (self.activePlaceholder) {\n                        img = self.activePlaceholder;\n                    }\n\n                    widgetTools.setActiveSelectedNode(img);\n                    widgetTools.openDialog(\n                        config['window_url'] + 'widget_target_id/' + editor.getElement().id + '/'\n                    );\n                });\n\n                // Register Widget plugin button\n                editor.ui.registry.addIcon(\n                    'magentowidget',\n                    '<svg width=\"24\" height=\"24\" viewBox=\"0 0 32.000000 32.000000\" ' +\n                    'preserveAspectRatio=\"xMidYMid meet\"> <g transform=\"translate(0.000000,32.000000) ' +\n                    'scale(0.100000,-0.100000)\" fill=\"#000000\" stroke=\"none\"> <path d=\"M130 290 c0 -5 13 -10 30 ' +\n                    '-10 22 0 28 -4 24 -15 -5 -11 2 -15 26 -15 21 0 30 -4 28 -12 -7 -20 -40 -22 -50 -4 -5 9 -14 16 ' +\n                    '-20 16 -6 0 -19 7 -28 15 -9 8 -25 12 -38 8 -33 -8 -27 -26 8 -21 34 5 40 -6 12 -21 -14 -7 -25 -6 ' +\n                    '-40 5 -12 8 -23 10 -27 5 -5 -8 88 -71 105 -71 3 0 29 14 58 31 l53 30 -23 18 c-13 10 -31 20 -40 ' +\n                    '24 -10 3 -18 11 -18 17 0 5 -13 10 -30 10 -16 0 -30 -4 -30 -10z m58 -82 c-3 -7 -15 -13 -28 -13 ' +\n                    '-13 0 -25 6 -27 13 -3 8 6 12 27 12 21 0 30 -4 28 -12z\"/> <path d=\"M30 151 l0 -60 61 -36 c33 ' +\n                    '-19 64 -35 69 -35 5 0 36 16 69 35 l61 36 0 60 0 61 -65 -37 -65 -36 -65 36 -65 37 0 -61z\"/> </g>' +\n                    '</svg>'\n                );\n                editor.ui.registry.addToggleButton('magentowidget', {\n                    icon: 'magentowidget',\n                    tooltip: jQuery.mage.__('Insert Widget'),\n\n                    /**\n                     * execute openVariablesSlideout for onAction callback\n                     */\n                    onAction: function () {\n                        editor.execCommand('mceMagentowidget');\n                    },\n\n                    /**\n                     * Add a node change handler, selects the button in the UI when a image is selected\n                     * @param {ToolbarToggleButtonInstanceApi} api\n                     */\n                    onSetup: function (api) {\n                        /**\n                         * NodeChange handler\n                         */\n                        editor.on('NodeChange', function (e) {\n                            var placeholder = e.element;\n\n                            if (self.isWidgetPlaceholderSelected(placeholder)) {\n                                widgetTools.setEditMode(true);\n                                api.setActive(true);\n                            } else {\n                                widgetTools.setEditMode(false);\n                                api.setActive(false);\n                            }\n                        });\n                    }\n                });\n\n                // Add a widget placeholder image double click callback\n                editor.on('dblClick', function (e) {\n                    var placeholder = e.target;\n\n                    if (self.isWidgetPlaceholderSelected(placeholder)) {\n                        widgetTools.setEditMode(true);\n                        this.execCommand('mceMagentowidget', null);\n                    }\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to encode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygEncodeContent', function (content) {\n                    content = self.encodeWidgets(self.decodeWidgets(content));\n                    content = self.removeDuplicateAncestorWidgetSpanElement(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to decode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygDecodeContent', function (content) {\n                    content = self.decodeWidgets(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when popups associated with wysiwyg are about to be closed\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygClosePopups', function () {\n                    wysiwyg.closeEditorPopup('widget_window' + wysiwyg.getId());\n                });\n            },\n\n            /**\n             * @param {Object} placeholder - Contains the selected node\n             * @returns {Boolean}\n             */\n            isWidgetPlaceholderSelected: function (placeholder) {\n                var isSelected = false;\n\n                if (placeholder.nodeName &&\n                    (placeholder.nodeName === 'SPAN' || placeholder.nodeName === 'IMG') &&\n                    placeholder.className && placeholder.className.indexOf('magento-widget') !== -1\n                ) {\n                    this.activePlaceholder = placeholder;\n                    isSelected = true;\n                } else {\n                    this.activePlaceholder = null;\n                }\n\n                return isSelected;\n            },\n\n            /**\n             * Convert {{widget}} style syntax to image placeholder HTML\n             * @param {String} content\n             * @return {*}\n             */\n            encodeWidgets: function (content) {\n                return content.gsub(/\\{\\{widget([\\S\\s]*?)\\}\\}/i, function (match) {\n                    var attributes = wysiwyg.parseAttributesString(match[1]),\n                        imageSrc,\n                        imageHtml = '';\n\n                    if (attributes.type) {\n                        attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                        imageSrc = config.placeholders[attributes.type];\n\n                        if (imageSrc) {\n                            imageHtml += '<span class=\"magento-placeholder magento-widget mceNonEditable\" ' +\n                                'contenteditable=\"false\">';\n                        } else {\n                            imageSrc = config['error_image_url'];\n                            imageHtml += '<span ' +\n                                'class=\"magento-placeholder magento-placeholder-error magento-widget mceNonEditable\" ' +\n                                'contenteditable=\"false\">';\n                        }\n\n                        imageHtml += '<img';\n                        imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                        imageHtml += ' src=\"' + imageSrc + '\"';\n                        imageHtml += ' />';\n\n                        if (config.types[attributes.type]) {\n                            imageHtml += config.types[attributes.type];\n                        }\n\n                        imageHtml += '</span>';\n\n                        return imageHtml;\n                    }\n                });\n            },\n\n            /**\n             * Convert image placeholder HTML to {{widget}} style syntax\n             * @param {String} content\n             * @return {*}\n             */\n            decodeWidgets: function (content) {\n                return content.gsub(\n                    /(<span class=\"[^\"]*magento-widget[^\"]*\"[^>]*>)?<img([^>]+id=\"[^>]+)>(([^>]*)<\\/span>)?/i,\n                    function (match) {\n                        var attributes = wysiwyg.parseAttributesString(match[2]),\n                            widgetCode,\n                            result = match[0];\n\n                        if (attributes.id) {\n                            try {\n                                widgetCode = Base64.idDecode(attributes.id);\n                            } catch (e) {\n                                // Ignore and continue.\n                            }\n\n                            if (widgetCode && widgetCode.indexOf('{{widget') !== -1) {\n                                result = widgetCode;\n                            }\n                        }\n\n                        return result;\n                    }\n                );\n            },\n\n            /**\n             * Tinymce has strange behavior with html and this removes one of its side-effects\n             * @param {String} content\n             * @return {String}\n             */\n            removeDuplicateAncestorWidgetSpanElement: function (content) {\n                var parser, doc, returnval = '';\n\n                if (!window.DOMParser) {\n                    return content;\n                }\n\n                parser = new DOMParser();\n                doc = parser.parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html');\n\n                [].forEach.call(doc.querySelectorAll('.magento-widget'), function (widgetEl) {\n                    var widgetChildEl = widgetEl.querySelector('.magento-widget');\n\n                    if (!widgetChildEl) {\n                        return;\n                    }\n\n                    [].forEach.call(widgetEl.childNodes, function (el) {\n                        widgetEl.parentNode.insertBefore(el, widgetEl);\n                    });\n\n                    widgetEl.parentNode.removeChild(widgetEl);\n                });\n\n                returnval += doc.head ? doc.head.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n                returnval += doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n\n                return returnval ? returnval : content;\n            },\n\n            /**\n             * @return {Object}\n             */\n            getInfo: function () {\n                return {\n                    longname: 'Magento Widget Manager Plugin',\n                    author: 'Magento Core Team',\n                    authorurl: 'http://magentocommerce.com',\n                    infourl: 'http://magentocommerce.com',\n                    version: '1.0'\n                };\n            }\n        });\n\n        // Register plugin\n        tinymce.PluginManager.add('magentowidget', tinymce.plugins.magentowidget);\n    };\n});\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global tinymce, MagentovariablePlugin, varienGlobalEvents, Base64 */\n/* eslint-disable strict */\ndefine([\n    'Magento_Variable/js/config-directive-generator',\n    'Magento_Variable/js/custom-directive-generator',\n    'wysiwygAdapter',\n    'jquery',\n    'mage/adminhtml/tools'\n], function (configDirectiveGenerator, customDirectiveGenerator, wysiwyg, jQuery) {\n    return function (config) {\n        tinymce.create('tinymce.plugins.magentovariable', {\n\n            /**\n             * Initialize editor plugin.\n             *\n             * @param {tinymce.editor} editor - Editor instance that the plugin is initialized in.\n             */\n            init: function (editor) {\n                var self = this;\n\n                /**\n                 * Add new command to open variables selector slideout.\n                 */\n                editor.addCommand('openVariablesSlideout', function (commandConfig) {\n                    var selectedElement;\n\n                    if (commandConfig) {\n                        selectedElement = commandConfig.selectedElement;\n                    } else {\n                        selectedElement = tinymce.activeEditor.selection.getNode();\n                    }\n                    MagentovariablePlugin.setEditor(editor);\n                    MagentovariablePlugin.loadChooser(\n                        config.url,\n                        wysiwyg.getId(),\n                        selectedElement\n                    );\n                });\n\n                /**\n                 * Add button to the editor toolbar.\n                 */\n                editor.ui.registry.addIcon(\n                    'magentovariable',\n                    '<svg width=\"24\" height=\"24\" viewBox=\"0 0 32.000000 32.000000\" ' +\n                    'preserveAspectRatio=\"xMidYMid meet\"><g transform=\"translate(0.000000,32.000000) ' +\n                    'scale(0.100000,-0.100000)\" fill=\"#000000\" stroke=\"none\"><path d=\"M68 250 c-56 -44 -75 -136 -37 ' +\n                    '-184 27 -34 42 -33 23 2 -26 50 -9 129 38 179 26 28 10 30 -24 3z\"/><path d=\"M266 253 c5 -10 9 ' +\n                    '-41 9 -70 0 -42 -6 -60 -32 -97 -36 -51 -35 -56 7 -26 54 39 78 139 44 188 -18 26 -40 30 -28 5z\"/>' +\n                    '<path d=\"M128 223 c-15 -4 -15 -6 0 -33 16 -28 16 -30 -11 -58 -30 -31 -34 -42 -13 -42 8 0 17 11 ' +\n                    '20 25 4 14 11 25 16 25 5 0 12 -11 16 -25 6 -25 37 -35 49 -15 3 5 2 10 -3 10 -23 0 -20 44 5 76 ' +\n                    '25 34 25 34 4 34 -12 0 -20 -4 -17  -8 2 -4 0 -14 -5 -22 -7 -10 -12 -11 -15 -4 -10 25 -30 40 ' +\n                    '-46 37z\"/></g>' +\n                    '</svg>'\n                );\n                editor.ui.registry.addToggleButton('magentovariable', {\n                    icon: 'magentovariable',\n                    tooltip: jQuery.mage.__('Insert Variable'),\n\n                    /**\n                     * execute openVariablesSlideout for onAction callback\n                     */\n                    onAction: function () {\n                        editor.execCommand('openVariablesSlideout');\n                    },\n\n                    /**\n                     * Highlight or dismiss Insert Variable button when variable is selected or deselected.\n                     */\n                    onSetup: function (api) {\n                        /**\n                         * Toggle active state of Insert Variable button.\n                         *\n                         * @param {Object} e\n                         */\n                        var toggleVariableButton = function (e) {\n                            api.setActive(false);\n\n                            if (jQuery(e.target).hasClass('magento-variable')) {\n                                api.setActive(true);\n                            }\n                        };\n\n                        editor.on('click', toggleVariableButton);\n                        editor.on('change', toggleVariableButton);\n                    }\n                });\n\n                /**\n                 * Double click handler on the editor to handle dbl click on variable placeholder.\n                 */\n                editor.on('dblclick', function (evt) {\n                    if (jQuery(evt.target).hasClass('magento-variable')) {\n                        editor.selection.collapse(false);\n                        editor.execCommand('openVariablesSlideout', {\n                            ui: true,\n                            selectedElement: evt.target\n                        });\n                    }\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to encode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygEncodeContent', function (content) {\n                    content = self.encodeVariables(content);\n\n                    return content;\n                });\n\n                /**\n                 * Attach event handler for when wysiwyg editor is about to decode its content\n                 */\n                varienGlobalEvents.attachEventHandler('wysiwygDecodeContent', function (content) {\n                    content = self.decodeVariables(content);\n\n                    return content;\n                });\n            },\n\n            /**\n             * Encode variables in content\n             *\n             * @param {String} content\n             * @returns {*}\n             */\n            encodeVariables: function (content) {\n                content = content.gsub(/\\{\\{config path=\\\"([^\\\"]+)\\\"\\}\\}/i, function (match) {\n                    var path = match[1],\n                        magentoVariables,\n                        imageHtml;\n\n                    magentoVariables = JSON.parse(config.placeholders);\n\n                    if (magentoVariables[match[1]] && magentoVariables[match[1]]['variable_type'] === 'default') {\n                        imageHtml = '<span id=\"%id\" class=\"magento-variable magento-placeholder mceNonEditable\">' +\n                            '%s</span>';\n                        imageHtml = imageHtml.replace('%s', magentoVariables[match[1]]['variable_name']);\n                    } else {\n                        imageHtml = '<span id=\"%id\" class=\"' +\n                            'magento-variable magento-placeholder magento-placeholder-error ' +\n                            'mceNonEditable' +\n                            '\">' +\n                            'Not found' +\n                            '</span>';\n                    }\n\n                    return imageHtml.replace('%id', Base64.idEncode(path));\n                });\n\n                content = content.gsub(/\\{\\{customVar code=([^\\}\\\"]+)\\}\\}/i, function (match) {\n                    var path = match[1],\n                        magentoVariables,\n                        imageHtml;\n\n                    magentoVariables = JSON.parse(config.placeholders);\n\n                    if (magentoVariables[match[1]] && magentoVariables[match[1]]['variable_type'] === 'custom') {\n                        imageHtml = '<span id=\"%id\" class=\"magento-variable magento-custom-var magento-placeholder ' +\n                            'mceNonEditable\">%s</span>';\n                        imageHtml = imageHtml.replace('%s', magentoVariables[match[1]]['variable_name']);\n                    } else {\n                        imageHtml = '<span id=\"%id\" class=\"' +\n                            'magento-variable magento-custom-var magento-placeholder ' +\n                            'magento-placeholder-error mceNonEditable' +\n                            '\">' +\n                            match[1] +\n                            '</span>';\n                    }\n\n                    return imageHtml.replace('%id', Base64.idEncode(path));\n                });\n\n                return content;\n            },\n\n            /**\n             * Decode variables in content.\n             *\n             * @param {String} content\n             * @returns {String}\n             */\n            decodeVariables: function (content) {\n                var doc = new DOMParser().parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html'),\n                    returnval = '';\n\n                [].forEach.call(doc.querySelectorAll('span.magento-variable'), function (el) {\n                    var $el = jQuery(el);\n\n                    if ($el.hasClass('magento-custom-var')) {\n                        $el.replaceWith(\n                            customDirectiveGenerator.processConfig(\n                                Base64.idDecode(\n                                    $el.attr('id')\n                                )\n                            )\n                        );\n                    } else {\n                        $el.replaceWith(\n                            configDirectiveGenerator.processConfig(\n                                Base64.idDecode(\n                                    $el.attr('id')\n                                )\n                            )\n                        );\n                    }\n                });\n\n                returnval += doc.head ? doc.head.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n                returnval += doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : '';\n\n                return returnval ? returnval : content;\n            },\n\n            /**\n             * @return {Object}\n             */\n            getInfo: function () {\n                return {\n                    longname: 'Magento Variable Manager Plugin',\n                    author: 'Magento Core Team',\n                    authorurl: 'http://magentocommerce.com',\n                    infourl: 'http://magentocommerce.com',\n                    version: '1.0'\n                };\n            }\n        });\n\n        /**\n         * Register plugin\n         */\n        tinymce.PluginManager.add('magentovariable', tinymce.plugins.magentovariable);\n    };\n});\n","mage/apply/main.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    './scripts'\n], function (_, $, processScripts) {\n    'use strict';\n\n    var dataAttr = 'data-mage-init',\n        nodeSelector = '[' + dataAttr + ']';\n\n    /**\n     * Initializes components assigned to a specified element via data-* attribute.\n     *\n     * @param {HTMLElement} el - Element to initialize components with.\n     * @param {Object|String} config - Initial components' config.\n     * @param {String} component - Components' path.\n     */\n    function init(el, config, component) {\n        require([component], function (fn) {\n            var $el;\n\n            if (typeof fn === 'object') {\n                fn = fn[component].bind(fn);\n            }\n\n            if (_.isFunction(fn)) {\n                fn = fn.bind(null, config, el);\n            } else {\n                $el = $(el);\n\n                if ($el[component]) {\n                    // eslint-disable-next-line jquery-no-bind-unbind\n                    fn = $el[component].bind($el, config);\n                }\n            }\n            // Init module in separate task to prevent blocking main thread.\n            setTimeout(fn);\n        }, function (error) {\n            if ('console' in window && typeof window.console.error === 'function') {\n                console.error(error);\n            }\n\n            return true;\n        });\n    }\n\n    /**\n     * Parses elements 'data-mage-init' attribute as a valid JSON data.\n     * Note: data-mage-init attribute will be removed.\n     *\n     * @param {HTMLElement} el - Element whose attribute should be parsed.\n     * @returns {Object}\n     */\n    function getData(el) {\n        var data = el.getAttribute(dataAttr);\n\n        el.removeAttribute(dataAttr);\n\n        return {\n            el: el,\n            data: JSON.parse(data)\n        };\n    }\n\n    return {\n        /**\n         * Initializes components assigned to HTML elements via [data-mage-init].\n         *\n         * @example Sample 'data-mage-init' declaration.\n         *      data-mage-init='{\"path/to/component\": {\"foo\": \"bar\"}}'\n         */\n        apply: function (context) {\n            var virtuals = processScripts(!context ? document : context),\n                nodes = document.querySelectorAll(nodeSelector);\n\n            _.toArray(nodes)\n                .map(getData)\n                .concat(virtuals)\n                .forEach(function (itemContainer) {\n                    var element = itemContainer.el;\n\n                    _.each(itemContainer.data, function (obj, key) {\n                            if (obj.mixins) {\n                                require(obj.mixins, function () { //eslint-disable-line max-nested-callbacks\n                                    var i, len;\n\n                                    for (i = 0, len = arguments.length; i < len; i++) {\n                                        $.extend(\n                                            true,\n                                            itemContainer.data[key],\n                                            arguments[i](itemContainer.data[key], element)\n                                        );\n                                    }\n\n                                    delete obj.mixins;\n                                    init.call(null, element, obj, key);\n                                });\n                            } else {\n                                init.call(null, element, obj, key);\n                            }\n\n                        }\n                    );\n\n                });\n        },\n        applyFor: init\n    };\n});\n","mage/apply/scripts.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery'\n], function (_, $) {\n    'use strict';\n\n    var scriptSelector = 'script[type=\"text/x-magento-init\"]',\n        dataAttr = 'data-mage-init',\n        virtuals = [];\n\n    /**\n     * Adds components to the virtual list.\n     *\n     * @param {Object} components\n     */\n    function addVirtual(components) {\n        virtuals.push({\n            el: false,\n            data: components\n        });\n    }\n\n    /**\n     * Merges provided data with a current data\n     * of a elements' \"data-mage-init\" attribute.\n     *\n     * @param {Object} components - Object with components and theirs configuration.\n     * @param {HTMLElement} elem - Element whose data should be modified.\n     */\n    function setData(components, elem) {\n        var data = elem.getAttribute(dataAttr);\n\n        data = data ? JSON.parse(data) : {};\n        _.each(components, function (obj, key) {\n            if (_.has(obj, 'mixins')) {\n                data[key] = data[key] || {};\n                data[key].mixins = data[key].mixins || [];\n                data[key].mixins = data[key].mixins.concat(obj.mixins);\n                delete obj.mixins;\n            }\n        });\n\n        data = $.extend(true, data, components);\n        data = JSON.stringify(data);\n        elem.setAttribute(dataAttr, data);\n    }\n\n    /**\n     * Search for the elements by privded selector and extends theirs data.\n     *\n     * @param {Object} components - Object with components and theirs configuration.\n     * @param {String} selector - Selector for the elements.\n     */\n    function processElems(components, selector) {\n        var elems,\n            iterator;\n\n        if (selector === '*') {\n            addVirtual(components);\n\n            return;\n        }\n\n        elems = document.querySelectorAll(selector);\n        iterator = setData.bind(null, components);\n\n        _.toArray(elems).forEach(iterator);\n    }\n\n    /**\n     * Parses content of a provided script node.\n     * Note: node will be removed from DOM.\n     *\n     * @param {HTMLScriptElement} node - Node to be processed.\n     * @returns {Object}\n     */\n    function getNodeData(node) {\n        var data = node.textContent;\n\n        node.parentNode.removeChild(node);\n\n        return JSON.parse(data);\n    }\n\n    /**\n     * Parses 'script' tags with a custom type attribute and moves it's data\n     * to a 'data-mage-init' attribute of an element found by provided selector.\n     * Note: All found script nodes will be removed from DOM.\n     *\n     * @returns {Array} An array of components not assigned to the specific element.\n     *\n     * @example Sample declaration.\n     *      <script type=\"text/x-magento-init\">\n     *          {\n     *              \"body\": {\n     *                  \"path/to/component\": {\"foo\": \"bar\"}\n     *              }\n     *          }\n     *      </script>\n     *\n     * @example Providing data without selector.\n     *      {\n     *          \"*\": {\n     *              \"path/to/component\": {\"bar\": \"baz\"}\n     *          }\n     *      }\n     */\n    return function () {\n        var nodes = document.querySelectorAll(scriptSelector);\n\n        _.toArray(nodes)\n            .map(getNodeData)\n            .forEach(function (item) {\n                _.each(item, processElems);\n            });\n\n        return virtuals.splice(0, virtuals.length);\n    };\n});\n","Magento_UrlRewrite/js/url-rewrite-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/backend/form',\n    'mage/backend/validation'\n], function ($) {\n    'use strict';\n\n    return function (data, element) {\n\n        $(element).form().validation({\n            validationUrl: data.url\n        });\n    };\n});\n","Magento_AdobeStockAdminUi/js/connection.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'ko',\n    'uiComponent',\n    'jquery'\n], function (ko, Component, $) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_AdobeStockAdminUi/connection',\n            connectionFailedMessage: 'Connection test failed.',\n            emptyApiKeyMessage: 'Please fill the \"API Key (Client ID)\" field for a connection test',\n            apiKeyInputId: 'system_adobe_stock_integration_api_key',\n            url: '',\n            success: false,\n            message: '',\n            visible: false\n        },\n\n        /**\n         * Init observable variables\n         * @return {Object}\n         */\n        initObservable: function () {\n            this._super()\n                .observe([\n                    'success',\n                    'message',\n                    'visible'\n                ]);\n\n            return this;\n        },\n\n        /**\n         * @override\n         */\n        initialize: function () {\n            this._super();\n            this.messageClass = ko.computed(function () {\n                return 'message-validation message message-' + (this.success() ? 'success' : 'error');\n            }, this);\n\n            if (!this.success()) {\n                this.showMessage(false, this.connectionFailedMessage);\n            }\n        },\n\n        /**\n         * @param {bool} success\n         * @param {String} message\n         */\n        showMessage: function (success, message) {\n            this.message(message);\n            this.success(success);\n            this.visible(true);\n        },\n\n        /**\n         * Send request to server to test connection to Adobe Stock API and display the result\n         */\n        testConnection: function () {\n            var apiKey = document.getElementById(this.apiKeyInputId).value;\n\n            if (apiKey.length === 0) {\n                this.showMessage(false, this.emptyApiKeyMessage);\n\n                return;\n            }\n\n            this.visible(false);\n\n            $.ajax({\n                type: 'POST',\n                url: this.url,\n                dataType: 'json',\n                data: {\n                    'api_key': apiKey\n                },\n                success: function (response) {\n                    this.showMessage(response.success === true, response.message);\n                }.bind(this),\n                error: function () {\n                    this.showMessage(false, this.connectionFailedMessage);\n                }.bind(this)\n            });\n        }\n    });\n});\n","Magento_Sales/js/bootstrap/order-post-action.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nrequire([\n    'Magento_Sales/order/view/post-wrapper'\n]);\n","Magento_Sales/js/bootstrap/order-create-index.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nrequire([\n    'Magento_Sales/order/create/giftmessage'\n]);\n","Magento_Sales/js/grid/columns/multiselect.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/grid/columns/multiselect'\n], function (Multiselect) {\n    'use strict';\n\n    return Multiselect.extend({\n        /**\n         * Prevent calling this.selectAll(); in parent\n         *\n         * @returns  {Object}\n         */\n        updateState: function () {\n            var selected = this.selected().length,\n                totalRecords = this.totalRecords();\n\n            if (totalRecords && selected === totalRecords && !this.preserveSelectionsOnFilter) {\n                return this;\n            }\n            return this._super();\n        }\n    });\n});\n","Magento_Sales/order/giftoptions_tooltip.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'prototype'\n], function () {\n    'use strict';\n\n    var GiftOptionsTooltip = Class.create();\n\n    GiftOptionsTooltip.prototype = {\n        _tooltipLines: [],\n        _tooltipWindow: null,\n        _tooltipWindowContent: null,\n        _targetLinks: [],\n        _eventMouseOver: null,\n        _eventMouseOut: null,\n        _styleOptions: null,\n        _tooltipContentLoaderFunction: null,\n\n        /**\n         * Initialize tooltip object\n         */\n        initialize: function () {\n            var options = Object.extend({\n                'delta_x': 30,\n                'delta_y': 0,\n                zindex: 1000\n            });\n\n            this._styleOptions = options;\n            this._eventMouseOver = this.showTooltip.bindAsEventListener(this);\n            this._eventMouseOut = this.hideTooltip.bindAsEventListener(this);\n        },\n\n        /**\n         * Set gift options tooltip window\n         *\n         * @param {String} windowId\n         * @param {String} contentId\n         *\n         * @return boolean success\n         */\n        setTooltipWindow: function (windowId, contentId) {\n            if (!$(windowId) || !$(contentId)) {\n                return false;\n            }\n            this._tooltipWindow = $(windowId);\n            this._tooltipWindowContent = $(contentId);\n            $(document.body).insert({\n                bottom: this._tooltipWindow\n            });\n            this.hideTooltip();\n\n            return true;\n        },\n\n        /**\n         * Add tooltip to specified link\n         *\n         * @param {String} linkId\n         * @param {String} itemId - identifier of the item related to link\n         *\n         * @return boolean success\n         */\n        addTargetLink: function (linkId, itemId) {\n            if ($(linkId)) {\n                this._targetLinks[linkId] = [];\n                this._targetLinks[linkId].object = $(linkId);\n                this._targetLinks[linkId].itemId = itemId;\n                this._registerEvents(this._targetLinks[linkId].object);\n\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * Detach event listeners from target links when tooltip is destroyed\n         */\n        destroy: function () {\n            var linkId;\n\n            for (linkId in this._targetLinks) { //eslint-disable-line guard-for-in\n                Event.stopObserving(this._targetLinks[linkId].object, 'mouseover', this._eventMouseOver);\n                Event.stopObserving(this._targetLinks[linkId].object, 'mouseout', this._eventMouseOut);\n            }\n        },\n\n        /**\n         *  Register event listeners\n         *\n         *  @param {HTMLElement} element\n         */\n        _registerEvents: function (element) {\n            Event.observe(element, 'mouseover', this._eventMouseOver);\n            Event.observe(element, 'mouseout', this._eventMouseOut);\n        },\n\n        /**\n         * Move tooltip to mouse position\n         *\n         * @param {Prototype.Event} event\n         */\n        _moveTooltip: function (event) {\n            var mouseX, mouseY;\n\n            Event.stop(event);\n            mouseX = Event.pointerX(event);\n            mouseY = Event.pointerY(event);\n\n            this.setStyles(mouseX, mouseY);\n        },\n\n        /**\n         * Show tooltip\n         *\n         * @param {Object} event\n         *\n         * @return boolean success\n         */\n        showTooltip: function (event) {\n            var link, itemId, tooltipContent;\n\n            Event.stop(event);\n\n            if (this._tooltipWindow) {\n                link = Event.element(event);\n                itemId = this._targetLinks[link.id].itemId;\n                tooltipContent = '';\n\n                if (Object.isFunction(this._tooltipContentLoaderFunction)) {\n                    tooltipContent = this._tooltipContentLoaderFunction(itemId);\n                }\n\n                if (tooltipContent != '') { //eslint-disable-line eqeqeq\n                    this._updateTooltipWindowContent(tooltipContent);\n                    this._moveTooltip(event);\n                    new Element.show(this._tooltipWindow);\n\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Set tooltip window styles\n         *\n         * @param {Number} x\n         * @param {Number} y\n         */\n        setStyles: function (x, y) {\n            Element.setStyle(this._tooltipWindow, {\n                position: 'absolute',\n                top: y + this._styleOptions['delta_y'] + 'px',\n                left: x + this._styleOptions['delta_x'] + 'px',\n                zindex: this._styleOptions.zindex\n            });\n        },\n\n        /**\n         * Hide tooltip\n         */\n        hideTooltip: function () {\n            if (this._tooltipWindow) {\n                new Element.hide(this._tooltipWindow);\n            }\n        },\n\n        /**\n         * Set gift options tooltip content loader function\n         * This function should accept at least one parameter that will serve as an item ID\n         *\n         * @param {Function} loaderFunction - loader function\n         */\n        setTooltipContentLoaderFunction: function (loaderFunction) {\n            this._tooltipContentLoaderFunction = loaderFunction;\n        },\n\n        /**\n         * Update tooltip window content\n         *\n         * @param {String} content\n         */\n        _updateTooltipWindowContent: function (content) {\n            this._tooltipWindowContent.update(content);\n        }\n    };\n\n    window.giftOptionsTooltip = new GiftOptionsTooltip();\n});\n","Magento_Sales/order/edit/message.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.orderEditDialog', {\n        options: {\n            url:     null,\n            message: null,\n            modal:  null\n        },\n\n        /**\n         * @protected\n         */\n        _create: function () {\n            this._prepareDialog();\n        },\n\n        /**\n         * Show modal\n         */\n        showDialog: function () {\n            this.options.dialog.html(this.options.message).modal('openModal');\n        },\n\n        /**\n         * Redirect to edit page\n         */\n        redirect: function () {\n            window.location = this.options.url;\n        },\n\n        /**\n         * Prepare modal\n         * @protected\n         */\n        _prepareDialog: function () {\n            var self = this;\n\n            this.options.dialog = $('<div class=\"ui-dialog-content ui-widget-content\"></div>').modal({\n                type: 'popup',\n                modalClass: 'edit-order-popup',\n                title: $.mage.__('Edit Order'),\n                buttons: [{\n                    text: $.mage.__('Ok'),\n                    'class': 'action-primary',\n\n                    /** @inheritdoc */\n                    click: function () {\n                        self.redirect();\n                    }\n                }]\n            });\n        }\n    });\n\n    return $.mage.orderEditDialog;\n});\n","Magento_Sales/order/edit/address/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * Currently Magento App stores both  region_id and region (as text) values.\n     * To prevent missing region (as text) we need to copy it in hidden field.\n     * @param {Array} config\n     * @param {String} element\n     */\n    return function (config, element) {\n        var form = $(element),\n            regionId = form.find('#region_id'),\n\n            /**\n             * Set region callback\n             */\n            setRegion = function () {\n                form.find('#region').val(regionId.filter(':visible').find(':selected').text());\n            };\n\n        if (regionId.is('visible')) {\n            setRegion();\n        }\n\n        regionId.on('change', setRegion);\n        form.find('#country_id').on('change', setRegion);\n    };\n});\n","Magento_Sales/order/create/scripts.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n define([\n    'jquery',\n    'Magento_Ui/js/modal/confirm',\n    'Magento_Ui/js/modal/alert',\n    'mage/template',\n    'text!Magento_Sales/templates/order/create/shipping/reload.html',\n    'text!Magento_Sales/templates/order/create/payment/reload.html',\n    'mage/translate',\n    'prototype',\n    'Magento_Catalog/catalog/product/composite/configure',\n    'Magento_Ui/js/lib/view/utils/async'\n], function (jQuery, confirm, alert, template, shippingTemplate, paymentTemplate) {\n\n    window.AdminOrder = new Class.create();\n\n    AdminOrder.prototype = {\n        initialize: function (data) {\n            if (!data) data = {};\n            this.loadBaseUrl = false;\n            this.customerId = data.customer_id ? data.customer_id : false;\n            this.storeId = data.store_id ? data.store_id : false;\n            this.quoteId = data['quote_id'] ? data['quote_id'] : false;\n            this.currencyId = false;\n            this.currencySymbol = data.currency_symbol ? data.currency_symbol : '';\n            this.addresses = data.addresses ? data.addresses : $H({});\n            this.shippingAsBilling = data.shippingAsBilling ? data.shippingAsBilling : false;\n            this.gridProducts = $H({});\n            this.gridProductsGift = $H({});\n            this.billingAddressContainer = '';\n            this.shippingAddressContainer = '';\n            this.isShippingMethodReseted = data.shipping_method_reseted ? data.shipping_method_reseted : false;\n            this.overlayData = $H({});\n            this.giftMessageDataChanged = false;\n            this.productConfigureAddFields = {};\n            this.productPriceBase = {};\n            this.collectElementsValue = true;\n            this.isOnlyVirtualProduct = false;\n            this.excludedPaymentMethods = [];\n            this.summarizePrice = true;\n            this.selectAddressEvent = false;\n            this.shippingTemplate = template(shippingTemplate, {\n                data: {\n                    title: jQuery.mage.__('Shipping Method'),\n                    linkText: jQuery.mage.__('Get shipping methods and rates')\n                }\n            });\n            this.paymentTemplate = template(paymentTemplate, {\n                data: {\n                    title: jQuery.mage.__('Payment Method'),\n                    linkText: jQuery.mage.__('Get available payment methods')\n                }\n            });\n\n            jQuery.async('#order-items', (function () {\n                this.dataArea = new OrderFormArea('data', $(this.getAreaId('data')), this);\n                this.itemsArea = Object.extend(new OrderFormArea('items', $(this.getAreaId('items')), this), {\n                    addControlButton: function (button) {\n                        var controlButtonArea = $(this.node).select('.actions')[0];\n                        if (typeof controlButtonArea != 'undefined') {\n                            var buttons = controlButtonArea.childElements();\n                            for (var i = 0; i < buttons.length; i++) {\n                                if (buttons[i].innerHTML.include(button.getLabel())) {\n                                    return;\n                                }\n                            }\n                            button.insertIn(controlButtonArea, 'top');\n                        }\n                    }\n                });\n\n                var searchButtonId = 'add_products',\n                    searchButton = new ControlButton(jQuery.mage.__('Add Products'), searchButtonId),\n                    searchAreaId = this.getAreaId('search');\n                searchButton.onClick = function () {\n                    $(searchAreaId).show();\n                    var el = this;\n                    window.setTimeout(function () {\n                        el.remove();\n                    }, 10);\n                };\n\n                jQuery.async('#order-items .admin__page-section-title', (function () {\n                    this.dataArea.onLoad = this.dataArea.onLoad.wrap(function (proceed) {\n                        proceed();\n                        this._parent.itemsArea.setNode($(this._parent.getAreaId('items')));\n                        this._parent.itemsArea.onLoad();\n                    });\n\n                    this.itemsArea.onLoad = this.itemsArea.onLoad.wrap(function (proceed) {\n                        proceed();\n                        if ($(searchAreaId) && !jQuery('#' + searchAreaId).is(':visible') && !$(searchButtonId)) {\n                            this.addControlButton(searchButton);\n                        }\n                    });\n                    this.areasLoaded();\n                    this.itemsArea.onLoad();\n\n                }).bind(this));\n\n            }).bind(this));\n\n            jQuery('#edit_form')\n                .on('submitOrder', function () {\n                    jQuery(this).trigger('realOrder');\n                })\n                .on('realOrder', this._realSubmit.bind(this));\n        },\n\n        areasLoaded: function () {\n        },\n\n        itemsLoaded: function () {\n        },\n\n        dataLoaded: function () {\n            this.dataShow();\n        },\n\n        setLoadBaseUrl: function (url) {\n            this.loadBaseUrl = url;\n        },\n\n        setAddresses: function (addresses) {\n            this.addresses = addresses;\n        },\n\n        addExcludedPaymentMethod: function (method) {\n            this.excludedPaymentMethods.push(method);\n        },\n\n        setCustomerId: function (id) {\n            this.customerId = id;\n            this.loadArea('header', true);\n            $(this.getAreaId('header')).callback = 'setCustomerAfter';\n            $('back_order_top_button').hide();\n            $('reset_order_top_button').show();\n        },\n\n        setCustomerAfter: function () {\n            this.customerSelectorHide();\n            if (this.storeId) {\n                $(this.getAreaId('data')).callback = 'dataLoaded';\n                this.loadArea(['data'], true);\n            } else {\n                this.storeSelectorShow();\n            }\n        },\n\n        setStoreId: function (id) {\n            this.storeId = id;\n            this.storeSelectorHide();\n            this.sidebarShow();\n            //this.loadArea(['header', 'sidebar','data'], true);\n            this.dataShow();\n            this.loadArea(['header', 'data'], true);\n            location.reload();\n        },\n\n        setCurrencyId: function (id) {\n            this.currencyId = id;\n            //this.loadArea(['sidebar', 'data'], true);\n            this.loadArea(['data'], true);\n        },\n\n        setCurrencySymbol: function (symbol) {\n            this.currencySymbol = symbol;\n        },\n\n        selectAddress: function (el, container) {\n            var id = el.value;\n            if (id.length == 0) {\n                id = '0';\n            }\n\n            this.selectAddressEvent = true;\n            if (this.addresses[id]) {\n                this.fillAddressFields(container, this.addresses[id]);\n            } else {\n                this.fillAddressFields(container, {});\n            }\n            this.selectAddressEvent = false;\n\n            var data = this.serializeData(container);\n            data[el.name] = id;\n\n            this.resetPaymentMethod();\n            if (this.isShippingField(container) && !this.isShippingMethodReseted) {\n                this.resetShippingMethod(data);\n            } else {\n                this.saveData(data);\n            }\n        },\n\n        /**\n         * Checks if the field belongs to the shipping address.\n         *\n         * @param {String} fieldId\n         * @return {Boolean}\n         */\n        isShippingField: function (fieldId) {\n            if (this.shippingAsBilling) {\n                return fieldId.include('billing');\n            }\n\n            return fieldId.include('shipping');\n        },\n\n        /**\n         * Checks if the field belongs to the billing address.\n         *\n         * @param {String} fieldId\n         * @return {Boolean}\n         */\n        isBillingField: function (fieldId) {\n            return fieldId.include('billing');\n        },\n\n        /**\n         * Binds events on container form fields.\n         *\n         * @param {String} container\n         */\n        bindAddressFields: function (container) {\n            var fields = $(container).select('input', 'select', 'textarea'),\n                i;\n\n            for (i = 0; i < fields.length; i++) {\n                jQuery(fields[i]).change(this.changeAddressField.bind(this));\n            }\n        },\n\n        /**\n         * Triggers on each form's element changes.\n         *\n         * @param {Event} event\n         */\n        changeAddressField: function (event) {\n            var field = Event.element(event),\n                re = /[^\\[]*\\[([^\\]]*)_address\\]\\[([^\\]]*)\\](\\[(\\d)\\])?/,\n                matchRes = field.name.match(re),\n                type,\n                name,\n                data,\n                resetShipping = false;\n\n            if (!matchRes) {\n                return;\n            }\n\n            type = matchRes[1];\n            name = matchRes[2];\n\n            if (this.isBillingField(field.id)) {\n                data = this.serializeData(this.billingAddressContainer);\n            } else {\n                data = this.serializeData(this.shippingAddressContainer);\n            }\n            data = data.toObject();\n\n            if (type === 'billing' && this.shippingAsBilling) {\n                this.syncAddressField(this.shippingAddressContainer, field.name, field);\n                resetShipping = true;\n            }\n\n            if (type === 'shipping' && !this.shippingAsBilling) {\n                resetShipping = true;\n            }\n\n            if (resetShipping) {\n                data['reset_shipping'] = true;\n            }\n\n            if (name !== 'customer_address_id' && this.selectAddressEvent === false) {\n                if (this.shippingAsBilling) {\n                    $('order-shipping_address_customer_address_id').value = '';\n                }\n\n                $('order-' + type + '_address_customer_address_id').value = '';\n            }\n\n            data['order[' + type + '_address][customer_address_id]'] = null;\n            data['shipping_as_billing'] = +this.shippingAsBilling;\n\n            if (name === 'customer_address_id') {\n                data['order[' + type + '_address][customer_address_id]'] =\n                    $('order-' + type + '_address_customer_address_id').value;\n            }\n\n            if (name === 'country_id' && this.selectAddressEvent === false) {\n                $('order-' + type + '_address_customer_address_id').value = '';\n            }\n\n            this.resetPaymentMethod();\n\n            if (data['reset_shipping']) {\n                this.resetShippingMethod();\n            } else {\n                this.saveData(data);\n\n                if (name === 'country_id' || name === 'customer_address_id') {\n                    this.loadArea(['shipping_method', 'billing_method', 'totals', 'items'], true, data);\n                }\n            }\n        },\n\n        /**\n         * Set address container form field value.\n         *\n         * @param {String} container - container ID\n         * @param {String} fieldName - form field name\n         * @param {*} fieldValue - form field value\n         */\n        syncAddressField: function (container, fieldName, fieldValue) {\n            var syncName;\n\n            if (this.isBillingField(fieldName)) {\n                syncName = fieldName.replace('billing', 'shipping');\n            }\n\n            $(container).select('[name=\"' + syncName + '\"]').each(function (element) {\n                if (~['input', 'textarea', 'select'].indexOf(element.tagName.toLowerCase())) {\n                    if (element.type === \"checkbox\") {\n                        element.checked = fieldValue.checked;\n                    } else {\n                        element.value = fieldValue.value;\n                    }\n                }\n            });\n        },\n\n        fillAddressFields: function (container, data) {\n            var regionIdElem = false;\n            var regionIdElemValue = false;\n\n            var fields = $(container).select('input', 'select', 'textarea');\n            var re = /[^\\[]*\\[[^\\]]*\\]\\[([^\\]]*)\\](\\[(\\d)\\])?/;\n            for (var i = 0; i < fields.length; i++) {\n                // skip input type file @Security error code: 1000\n                if (fields[i].tagName.toLowerCase() == 'input' && fields[i].type.toLowerCase() == 'file') {\n                    continue;\n                }\n                var matchRes = fields[i].name.match(re);\n                if (matchRes === null) {\n                    continue;\n                }\n                var name = matchRes[1];\n                var index = matchRes[3];\n\n                if (index) {\n                    // multiply line\n                    if (data[name]) {\n                        var values = data[name].split(\"\\n\");\n                        fields[i].value = values[index] ? values[index] : '';\n                    } else {\n                        fields[i].value = '';\n                    }\n                } else if (fields[i].tagName.toLowerCase() == 'select' && fields[i].multiple) {\n                    // multiselect\n                    if (data[name]) {\n                        values = [''];\n                        if (Object.isString(data[name])) {\n                            values = data[name].split(',');\n                        } else if (Object.isArray(data[name])) {\n                            values = data[name];\n                        }\n                        fields[i].setValue(values);\n                    }\n                } else {\n                    fields[i].setValue(data[name] ? data[name] : '');\n                }\n\n                if (fields[i].changeUpdater) {\n                    fields[i].changeUpdater();\n                }\n\n                if (name == 'region' && data['region_id'] && !data['region']) {\n                    fields[i].value = data['region_id'];\n                }\n\n                jQuery(fields[i]).trigger('change');\n            }\n        },\n\n        disableShippingAddress: function (flag) {\n            this.shippingAsBilling = flag;\n            if ($('order-shipping_address_customer_address_id')) {\n                $('order-shipping_address_customer_address_id').disabled = flag;\n            }\n            if ($(this.shippingAddressContainer)) {\n                var dataFields = $(this.shippingAddressContainer).select('input', 'select', 'textarea');\n                for (var i = 0; i < dataFields.length; i++) {\n                    dataFields[i].disabled = flag;\n\n                    if (this.isOnlyVirtualProduct) {\n                        dataFields[i].setValue('');\n                    }\n                }\n                var buttons = $(this.shippingAddressContainer).select('button');\n                // Add corresponding class to buttons while disabling them\n                for (i = 0; i < buttons.length; i++) {\n                    buttons[i].disabled = flag;\n                    if (flag) {\n                        buttons[i].addClassName('disabled');\n                    } else {\n                        buttons[i].removeClassName('disabled');\n                    }\n                }\n            }\n        },\n\n        /**\n         * Equals shipping and billing addresses.\n         *\n         * @param {Boolean} flag\n         */\n        setShippingAsBilling: function (flag) {\n            var data,\n                areasToLoad = ['billing_method', 'shipping_address', 'shipping_method', 'totals', 'giftmessage'];\n\n            this.disableShippingAddress(flag);\n            data = this.serializeData(flag ? this.billingAddressContainer : this.shippingAddressContainer);\n            data = data.toObject();\n            data['shipping_as_billing'] = flag ? 1 : 0;\n            data['reset_shipping'] = 1;\n            // set customer_address_id to null for shipping address in order to treat it as new from backend\n            // Checkbox(Same As Billing Address) uncheck event\n            data['order[shipping_address][customer_address_id]'] = null;\n            this.loadArea(areasToLoad, true, data);\n        },\n\n        /**\n         * Replace shipping method area.\n         */\n        resetShippingMethod: function () {\n            if (!this.isOnlyVirtualProduct) {\n                $(this.getAreaId('shipping_method')).update(this.shippingTemplate);\n            }\n        },\n\n        /**\n         * Replace payment method area.\n         */\n        resetPaymentMethod: function () {\n            $(this.getAreaId('billing_method')).update(this.paymentTemplate);\n        },\n\n        /**\n         * Loads shipping options according to address data.\n         *\n         * @return {Boolean}\n         */\n        loadShippingRates: function () {\n            var addressContainer = this.shippingAsBilling ?\n                'billingAddressContainer' :\n                'shippingAddressContainer',\n                data = this.serializeData(this[addressContainer]).toObject();\n\n            data['collect_shipping_rates'] = 1;\n            this.isShippingMethodReseted = false;\n            this.loadArea(['shipping_method', 'totals'], true, data);\n\n            return false;\n        },\n\n        setShippingMethod: function (method) {\n            var data = {};\n\n            data['order[shipping_method]'] = method;\n            this.loadArea([\n                'shipping_method',\n                'totals',\n                'billing_method'\n            ], true, data);\n        },\n\n        /**\n         * Updates available payment\n         * methods list according to order data.\n         *\n         * @return boolean\n         */\n        loadPaymentMethods: function () {\n            var data = this.serializeData(this.billingAddressContainer).toObject();\n\n            this.loadArea(['billing_method', 'totals'], true, data);\n\n            return false;\n        },\n\n        switchPaymentMethod: function(method){\n            if (this.paymentMethod !== method) {\n                jQuery('#edit_form')\n                    .off('submitOrder')\n                    .on('submitOrder', function(){\n                        jQuery(this).trigger('realOrder');\n                    });\n            }\n            jQuery('#edit_form').trigger('changePaymentMethod', [method]);\n            this.setPaymentMethod(method);\n            var data = {};\n            data['order[payment_method]'] = method;\n            this.loadArea(['card_validation'], true, data);\n        },\n\n        setPaymentMethod: function (method) {\n            if (this.paymentMethod && $('payment_form_' + this.paymentMethod)) {\n                var form = 'payment_form_' + this.paymentMethod;\n                [form + '_before', form, form + '_after'].each(function (el) {\n                    var block = $(el);\n                    if (block) {\n                        block.hide();\n                        block.select('input', 'select', 'textarea').each(function (field) {\n                            field.disabled = true;\n                        });\n                    }\n                });\n            }\n\n            if (!this.paymentMethod || method) {\n                $('order-billing_method_form').select('input', 'select', 'textarea').each(function (elem) {\n                    if (elem.type != 'radio') elem.disabled = true;\n                })\n            }\n\n            if ($('payment_form_' + method)) {\n                jQuery('#' + this.getAreaId('billing_method')).trigger('contentUpdated');\n                this.paymentMethod = method;\n                var form = 'payment_form_' + method;\n                [form + '_before', form, form + '_after'].each(function (el) {\n                    var block = $(el);\n                    if (block) {\n                        block.show();\n                        block.select('input', 'select', 'textarea').each(function (field) {\n                            field.disabled = false;\n                            if (!el.include('_before') && !el.include('_after') && !field.bindChange) {\n                                field.bindChange = true;\n                                field.paymentContainer = form;\n                                field.method = method;\n                                field.observe('change', this.changePaymentData.bind(this))\n                            }\n                        }, this);\n                    }\n                }, this);\n            }\n        },\n\n        changePaymentData: function (event) {\n            var elem = Event.element(event);\n            if (elem && elem.method) {\n                var data = this.getPaymentData(elem.method);\n                if (data) {\n                    this.loadArea(['card_validation'], true, data);\n                } else {\n                    return;\n                }\n            }\n        },\n\n        getPaymentData: function (currentMethod) {\n            if (typeof (currentMethod) == 'undefined') {\n                if (this.paymentMethod) {\n                    currentMethod = this.paymentMethod;\n                } else {\n                    return false;\n                }\n            }\n            if (this.isPaymentValidationAvailable() == false) {\n                return false;\n            }\n            var data = {};\n            var fields = $('payment_form_' + currentMethod).select('input', 'select');\n            for (var i = 0; i < fields.length; i++) {\n                data[fields[i].name] = fields[i].getValue();\n            }\n            if ((typeof data['payment[cc_type]']) != 'undefined' && (!data['payment[cc_type]'] || !data['payment[cc_number]'])) {\n                return false;\n            }\n            return data;\n        },\n\n        applyCoupon: function (code) {\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true, {\n                'order[coupon][code]': code,\n                reset_shipping: true\n            });\n            this.orderItemChanged = false;\n            jQuery('html, body').animate({\n                scrollTop: 0\n            });\n        },\n\n        addProduct: function (id) {\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true, {\n                add_product: id,\n                reset_shipping: true\n            });\n        },\n\n        removeQuoteItem: function (id) {\n            this.loadArea(['items', 'shipping_method', 'totals', 'billing_method'], true,\n                {remove_item: id, from: 'quote', reset_shipping: true});\n        },\n\n        moveQuoteItem: function (id, to) {\n            this.loadArea(['sidebar_' + to, 'items', 'shipping_method', 'totals', 'billing_method'], this.getAreaId('items'),\n                {move_item: id, to: to, reset_shipping: true});\n        },\n\n        productGridShow: function (buttonElement) {\n            this.productGridShowButton = buttonElement;\n            Element.hide(buttonElement);\n            this.showArea('search');\n        },\n\n        productGridRowInit: function (grid, row) {\n            var checkbox = $(row).select('.checkbox')[0];\n            var inputs = $(row).select('.input-text');\n            if (checkbox && inputs.length > 0) {\n                checkbox.inputElements = inputs;\n                for (var i = 0; i < inputs.length; i++) {\n                    var input = inputs[i];\n                    input.checkboxElement = checkbox;\n\n                    var product = this.gridProducts.get(checkbox.value);\n                    if (product) {\n                        var defaultValue = product[input.name];\n                        if (defaultValue) {\n                            if (input.name == 'giftmessage') {\n                                input.checked = true;\n                            } else {\n                                input.value = defaultValue;\n                            }\n                        }\n                    }\n\n                    input.disabled = !checkbox.checked || input.hasClassName('input-inactive');\n\n                    Event.observe(input, 'keyup', this.productGridRowInputChange.bind(this));\n                    Event.observe(input, 'change', this.productGridRowInputChange.bind(this));\n                }\n            }\n        },\n\n        productGridRowInputChange: function (event) {\n            var element = Event.element(event);\n            if (element && element.checkboxElement && element.checkboxElement.checked) {\n                if (element.name != 'giftmessage' || element.checked) {\n                    this.gridProducts.get(element.checkboxElement.value)[element.name] = element.value;\n                } else if (element.name == 'giftmessage' && this.gridProducts.get(element.checkboxElement.value)[element.name]) {\n                    delete (this.gridProducts.get(element.checkboxElement.value)[element.name]);\n                }\n            }\n        },\n\n        productGridRowClick: function (grid, event) {\n            var trElement = Event.findElement(event, 'tr');\n            var qtyElement = trElement.select('input[name=\"qty\"]')[0];\n            var eventElement = Event.element(event);\n\n            if (eventElement.tagName === 'LABEL'\n                && trElement.querySelector('#' + eventElement.htmlFor)\n                && trElement.querySelector('#' + eventElement.htmlFor).type === 'checkbox'\n            ) {\n                event.stopPropagation();\n                trElement.querySelector('#' + eventElement.htmlFor).trigger('click');\n                return;\n            }\n\n            var isInputCheckbox = (eventElement.tagName === 'INPUT' && eventElement.type === 'checkbox');\n            var isInputQty = grid.targetElement && grid.targetElement.tagName === 'INPUT' && grid.targetElement.name === 'qty';\n            if (trElement && !isInputQty) {\n                var checkbox = Element.select(trElement, 'input[type=\"checkbox\"]')[0];\n                var confLink = Element.select(trElement, 'a')[0];\n                var priceColl = Element.select(trElement, '.price')[0];\n                if (checkbox) {\n                    // processing non composite product\n                    if (confLink.readAttribute('disabled')) {\n                        var checked = isInputCheckbox ? checkbox.checked : !checkbox.checked;\n                        grid.setCheckboxChecked(checkbox, checked);\n                        // processing composite product\n                    } else if (isInputCheckbox && !checkbox.checked) {\n                        grid.setCheckboxChecked(checkbox, false);\n                        // processing composite product\n                    } else if (!isInputCheckbox || (isInputCheckbox && checkbox.checked)) {\n                        var listType = confLink.readAttribute('list_type');\n                        var productId = confLink.readAttribute('product_id');\n                        if (typeof this.productPriceBase[productId] == 'undefined') {\n                            var priceBase = priceColl.innerHTML.match(/.*?([\\d,]+\\.?\\d*)/);\n                            if (!priceBase) {\n                                this.productPriceBase[productId] = 0;\n                            } else {\n                                this.productPriceBase[productId] = parseFloat(priceBase[1].replace(/,/g, ''));\n                            }\n                        }\n                        productConfigure.setConfirmCallback(listType, function () {\n                            // sync qty of popup and qty of grid\n                            var confirmedCurrentQty = productConfigure.getCurrentConfirmedQtyElement();\n                            if (qtyElement && confirmedCurrentQty && !isNaN(confirmedCurrentQty.value)) {\n                                qtyElement.value = confirmedCurrentQty.value;\n                            }\n                            // calc and set product price\n                            var productPrice = this._calcProductPrice();\n                            if (this._isSummarizePrice()) {\n                                productPrice += this.productPriceBase[productId];\n                            }\n                            productPrice = parseFloat(Math.round(productPrice + \"e+2\") + \"e-2\");\n                            priceColl.innerHTML = this.currencySymbol + productPrice.toFixed(2);\n                            // and set checkbox checked\n                            grid.setCheckboxChecked(checkbox, true);\n                        }.bind(this));\n                        productConfigure.setCancelCallback(listType, function () {\n                            if (!$(productConfigure.confirmedCurrentId) || !$(productConfigure.confirmedCurrentId).innerHTML) {\n                                grid.setCheckboxChecked(checkbox, false);\n                            }\n                        });\n                        productConfigure.setShowWindowCallback(listType, function () {\n                            // sync qty of grid and qty of popup\n                            var formCurrentQty = productConfigure.getCurrentFormQtyElement();\n                            if (formCurrentQty && qtyElement && !isNaN(qtyElement.value)) {\n                                formCurrentQty.value = qtyElement.value;\n                            }\n                        }.bind(this));\n                        productConfigure.showItemConfiguration(listType, productId);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Is need to summarize price\n         */\n        _isSummarizePrice: function (elm) {\n            if (elm && elm.hasAttribute('summarizePrice')) {\n                this.summarizePrice = parseInt(elm.readAttribute('summarizePrice'));\n            }\n            return this.summarizePrice;\n        },\n        /**\n         * Calc product price through its options\n         */\n        _calcProductPrice: function () {\n            var productPrice = 0;\n            var getPriceFields = function (elms) {\n                var productPrice = 0;\n                var getPrice = function (elm) {\n                    var optQty = 1;\n                    if (elm.hasAttribute('qtyId')) {\n                        if (!$(elm.getAttribute('qtyId')).value) {\n                            return 0;\n                        } else {\n                            optQty = parseFloat($(elm.getAttribute('qtyId')).value);\n                        }\n                    }\n                    if (elm.hasAttribute('price') && !elm.disabled) {\n                        return parseFloat(elm.readAttribute('price')) * optQty;\n                    }\n                    return 0;\n                };\n                for (var i = 0; i < elms.length; i++) {\n                    if (elms[i].type == 'select-one' || elms[i].type == 'select-multiple') {\n                        for (var ii = 0; ii < elms[i].options.length; ii++) {\n                            if (elms[i].options[ii].selected) {\n                                if (this._isSummarizePrice(elms[i].options[ii])) {\n                                    productPrice += getPrice(elms[i].options[ii]);\n                                } else {\n                                    productPrice = getPrice(elms[i].options[ii]);\n                                }\n                            }\n                        }\n                    } else if (((elms[i].type == 'checkbox' || elms[i].type == 'radio') && elms[i].checked)\n                        || ((elms[i].type == 'file' || elms[i].type == 'text' || elms[i].type == 'textarea' || elms[i].type == 'hidden')\n                            && Form.Element.getValue(elms[i]))\n                    ) {\n                        if (this._isSummarizePrice(elms[i])) {\n                            productPrice += getPrice(elms[i]);\n                        } else {\n                            productPrice = getPrice(elms[i]);\n                        }\n                    }\n                }\n                return productPrice;\n            }.bind(this);\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('input'));\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('select'));\n            productPrice += getPriceFields($(productConfigure.confirmedCurrentId).getElementsByTagName('textarea'));\n            return productPrice;\n        },\n\n        productGridCheckboxCheck: function (grid, element, checked) {\n            if (checked) {\n                if (element.inputElements) {\n                    this.gridProducts.set(element.value, {});\n                    var product = this.gridProducts.get(element.value);\n                    for (var i = 0; i < element.inputElements.length; i++) {\n                        var input = element.inputElements[i];\n                        if (!input.hasClassName('input-inactive')) {\n                            input.disabled = false;\n                            if (input.name == 'qty' && !input.value) {\n                                input.value = 1;\n                            }\n                        }\n\n                        if (input.checked || input.name != 'giftmessage') {\n                            product[input.name] = input.value;\n                        } else if (product[input.name]) {\n                            delete (product[input.name]);\n                        }\n                    }\n                }\n            } else {\n                if (element.inputElements) {\n                    for (var i = 0; i < element.inputElements.length; i++) {\n                        element.inputElements[i].disabled = true;\n                    }\n                }\n                this.gridProducts.unset(element.value);\n            }\n            grid.reloadParams = {'products[]': this.gridProducts.keys()};\n        },\n\n        productGridFilterKeyPress: function (grid, event) {\n            var returnKey = parseInt(Event.KEY_RETURN || 13, 10);\n\n            if (event.keyCode === returnKey) {\n                if (typeof event.stopPropagation === 'function') {\n                    event.stopPropagation();\n                }\n\n                if (typeof event.preventDefault === 'function') {\n                    event.preventDefault();\n                }\n            }\n        },\n\n        /**\n         * Submit configured products to quote\n         */\n        productGridAddSelected: function () {\n            if (this.productGridShowButton) Element.show(this.productGridShowButton);\n            var area = ['search', 'items', 'shipping_method', 'totals', 'giftmessage', 'billing_method'];\n            // prepare additional fields and filtered items of products\n            var fieldsPrepare = {};\n            var itemsFilter = [];\n            var products = this.gridProducts.toObject();\n            for (var productId in products) {\n                itemsFilter.push(productId);\n                var paramKey = 'item[' + productId + ']';\n                for (var productParamKey in products[productId]) {\n                    paramKey += '[' + productParamKey + ']';\n                    fieldsPrepare[paramKey] = products[productId][productParamKey];\n                }\n            }\n            this.productConfigureSubmit('product_to_add', area, fieldsPrepare, itemsFilter);\n            productConfigure.clean('quote_items');\n            this.hideArea('search');\n            this.gridProducts = $H({});\n        },\n\n        selectCustomer: function (grid, event) {\n            var element = Event.findElement(event, 'tr');\n            if (element.title) {\n                this.setCustomerId(element.title);\n            }\n        },\n\n        customerSelectorHide: function () {\n            this.hideArea('customer-selector');\n        },\n\n        customerSelectorShow: function () {\n            this.showArea('customer-selector');\n        },\n\n        storeSelectorHide: function () {\n            this.hideArea('store-selector');\n        },\n\n        storeSelectorShow: function () {\n            this.showArea('store-selector');\n        },\n\n        dataHide: function () {\n            this.hideArea('data');\n        },\n\n        dataShow: function () {\n            if ($('submit_order_top_button')) {\n                $('submit_order_top_button').show();\n            }\n            this.showArea('data');\n        },\n\n        clearShoppingCart: function (confirmMessage) {\n            var self = this;\n\n            confirm({\n                content: confirmMessage,\n                actions: {\n                    confirm: function () {\n                        self.collectElementsValue = false;\n                        order.sidebarApplyChanges({'sidebar[empty_customer_cart]': 1});\n                        self.collectElementsValue = true;\n                    }\n                }\n            });\n        },\n\n        sidebarApplyChanges: function (auxiliaryParams) {\n            if ($(this.getAreaId('sidebar'))) {\n                var data = {};\n                if (this.collectElementsValue) {\n                    var elems = $(this.getAreaId('sidebar')).select('input');\n                    for (var i = 0; i < elems.length; i++) {\n                        if (elems[i].getValue()) {\n                            data[elems[i].name] = elems[i].getValue();\n                        }\n                    }\n                }\n                if (auxiliaryParams instanceof Object) {\n                    for (var paramName in auxiliaryParams) {\n                        data[paramName] = String(auxiliaryParams[paramName]);\n                    }\n                }\n                data.reset_shipping = true;\n                this.loadArea(['sidebar', 'items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'], true, data);\n            }\n        },\n\n        sidebarHide: function () {\n            if (this.storeId === false && $('page:left') && $('page:container')) {\n                $('page:left').hide();\n                $('page:container').removeClassName('container');\n                $('page:container').addClassName('container-collapsed');\n            }\n        },\n\n        sidebarShow: function () {\n            if ($('page:left') && $('page:container')) {\n                $('page:left').show();\n                $('page:container').removeClassName('container-collapsed');\n                $('page:container').addClassName('container');\n            }\n        },\n\n        /**\n         * Show configuration of product and add handlers on submit form\n         *\n         * @param productId\n         */\n        sidebarConfigureProduct: function (listType, productId, itemId) {\n            // create additional fields\n            var params = {},\n                isWishlist = !!itemId;\n            params.reset_shipping = true;\n            params.add_product = productId;\n            this.prepareParams(params);\n            for (var i in params) {\n                if (params[i] === null) {\n                    unset(params[i]);\n                } else if (typeof (params[i]) == 'boolean') {\n                    params[i] = params[i] ? 1 : 0;\n                }\n            }\n            var fields = [];\n            for (var name in params) {\n                fields.push(new Element('input', {type: 'hidden', name: name, value: params[name]}));\n            }\n            // add additional fields before triggered submit\n            productConfigure.setBeforeSubmitCallback(listType, function () {\n                productConfigure.addFields(fields);\n            }.bind(this));\n            // response handler\n            productConfigure.setOnLoadIFrameCallback(listType, function (response) {\n                var areas = ['items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'];\n\n                if (!response.ok) {\n                    return;\n                }\n                if (isWishlist) {\n                    this.removeSidebarItem(itemId, 'wishlist').done(function () {\n                        this.loadArea(areas, true);\n                    }.bind(this));\n                } else {\n                    this.loadArea(areas, true);\n                }\n            }.bind(this));\n            // show item configuration\n            itemId = itemId ? itemId : productId;\n            productConfigure.showItemConfiguration(listType, itemId);\n            return false;\n        },\n\n        removeSidebarItem: function (id, from) {\n            return this.loadArea(['sidebar_' + from], 'sidebar_data_' + from, {\n                remove_item: id,\n                from: from\n            });\n        },\n\n        itemsUpdate: function () {\n            var area = ['sidebar', 'items', 'shipping_method', 'billing_method', 'totals', 'giftmessage'];\n            // prepare additional fields\n            var fieldsPrepare = {update_items: 1};\n            var info = $('order-items_grid').select('input', 'select', 'textarea');\n            for (var i = 0; i < info.length; i++) {\n                if (!info[i].disabled && (info[i].type != 'checkbox' || info[i].checked)) {\n                    fieldsPrepare[info[i].name] = info[i].getValue();\n                }\n            }\n            fieldsPrepare = Object.extend(fieldsPrepare, this.productConfigureAddFields);\n            this.productConfigureSubmit('quote_items', area, fieldsPrepare);\n            this.orderItemChanged = false;\n        },\n\n        itemsOnchangeBind: function () {\n            var elems = $('order-items_grid').select('input', 'select', 'textarea');\n            for (var i = 0; i < elems.length; i++) {\n                if (!elems[i].bindOnchange) {\n                    elems[i].bindOnchange = true;\n                    elems[i].observe('change', this.itemChange.bind(this))\n                }\n            }\n        },\n\n        itemChange: function (event) {\n            this.giftmessageOnItemChange(event);\n            this.orderItemChanged = true;\n        },\n\n        /**\n         * Submit batch of configured products\n         *\n         * @param listType\n         * @param area\n         * @param fieldsPrepare\n         * @param itemsFilter\n         */\n        productConfigureSubmit: function (listType, area, fieldsPrepare, itemsFilter) {\n            // prepare loading areas and build url\n            area = this.prepareArea(area);\n            this.loadingAreas = area;\n            var url = this.loadBaseUrl + 'block/' + area + '?isAjax=true';\n\n            // prepare additional fields\n            fieldsPrepare = this.prepareParams(fieldsPrepare);\n            fieldsPrepare.reset_shipping = 1;\n            fieldsPrepare.json = 1;\n\n            // create fields\n            var fields = [];\n            for (var name in fieldsPrepare) {\n                fields.push(new Element('input', {type: 'hidden', name: name, value: fieldsPrepare[name]}));\n            }\n            productConfigure.addFields(fields);\n\n            // filter items\n            if (itemsFilter) {\n                productConfigure.addItemsFilter(listType, itemsFilter);\n            }\n\n            // prepare and do submit\n            productConfigure.addListType(listType, {urlSubmit: url});\n            productConfigure.setOnLoadIFrameCallback(listType, function (response) {\n                this.loadAreaResponseHandler(response);\n            }.bind(this));\n            productConfigure.submit(listType);\n            // clean\n            this.productConfigureAddFields = {};\n        },\n\n        /**\n         * Show configuration of quote item\n         *\n         * @param itemId\n         */\n        showQuoteItemConfiguration: function (itemId) {\n            var listType = 'quote_items';\n            var qtyElement = $('order-items_grid').select('input[name=\"item\\[' + itemId + '\\]\\[qty\\]\"]')[0];\n            productConfigure.setConfirmCallback(listType, function () {\n                // sync qty of popup and qty of grid\n                var confirmedCurrentQty = productConfigure.getCurrentConfirmedQtyElement();\n                if (qtyElement && confirmedCurrentQty && !isNaN(confirmedCurrentQty.value)) {\n                    qtyElement.value = confirmedCurrentQty.value;\n                }\n                this.productConfigureAddFields['item[' + itemId + '][configured]'] = 1;\n                this.itemsUpdate();\n\n            }.bind(this));\n            productConfigure.setShowWindowCallback(listType, function () {\n                // sync qty of grid and qty of popup\n                var formCurrentQty = productConfigure.getCurrentFormQtyElement();\n                if (formCurrentQty && qtyElement && !isNaN(qtyElement.value)) {\n                    formCurrentQty.value = qtyElement.value;\n                }\n            }.bind(this));\n            productConfigure.showItemConfiguration(listType, itemId);\n        },\n\n        accountFieldsBind: function (container) {\n            if ($(container)) {\n                var fields = $(container).select('input', 'select', 'textarea');\n                for (var i = 0; i < fields.length; i++) {\n                    if (fields[i].id == 'group_id') {\n                        fields[i].observe('change', this.accountGroupChange.bind(this))\n                    } else {\n                        fields[i].observe('change', this.accountFieldChange.bind(this))\n                    }\n                }\n            }\n        },\n\n        accountGroupChange: function () {\n            this.loadArea(['data'], true, this.serializeData('order-form_account').toObject());\n        },\n\n        accountFieldChange: function () {\n            this.saveData(this.serializeData('order-form_account'));\n        },\n\n        commentFieldsBind: function (container) {\n            if ($(container)) {\n                var fields = $(container).select('input', 'textarea');\n                for (var i = 0; i < fields.length; i++)\n                    fields[i].observe('change', this.commentFieldChange.bind(this))\n            }\n        },\n\n        commentFieldChange: function () {\n            this.saveData(this.serializeData('order-comment'));\n        },\n\n        giftmessageFieldsBind: function (container) {\n            if ($(container)) {\n                var fields = $(container).select('input', 'textarea');\n                for (var i = 0; i < fields.length; i++)\n                    fields[i].observe('change', this.giftmessageFieldChange.bind(this))\n            }\n        },\n\n        giftmessageFieldChange: function () {\n            this.giftMessageDataChanged = true;\n        },\n\n        giftmessageOnItemChange: function (event) {\n            var element = Event.element(event);\n            if (element.name.indexOf(\"giftmessage\") != -1 && element.type == \"checkbox\" && !element.checked) {\n                var messages = $(\"order-giftmessage\").select('textarea');\n                var name;\n                for (var i = 0; i < messages.length; i++) {\n                    name = messages[i].id.split(\"_\");\n                    if (name.length < 2) continue;\n                    if (element.name.indexOf(\"[\" + name[1] + \"]\") != -1 && messages[i].value != \"\") {\n                        alert({\n                            content: \"First, clean the Message field in Gift Message form\"\n                        });\n                        element.checked = true;\n                    }\n                }\n            }\n        },\n\n        loadArea: function (area, indicator, params) {\n            var deferred = new jQuery.Deferred();\n            var url = this.loadBaseUrl;\n            if (area) {\n                area = this.prepareArea(area);\n                url += 'block/' + area;\n            }\n            if (indicator === true) indicator = 'html-body';\n            params = this.prepareParams(params);\n            params.json = true;\n            if (!this.loadingAreas) this.loadingAreas = [];\n            if (indicator) {\n                this.loadingAreas = area;\n                new Ajax.Request(url, {\n                    parameters: params,\n                    loaderArea: indicator,\n                    onSuccess: function (transport) {\n                        var response = transport.responseText.evalJSON();\n                        this.loadAreaResponseHandler(response);\n                        deferred.resolve();\n                    }.bind(this)\n                });\n            } else {\n                new Ajax.Request(url, {\n                    parameters: params,\n                    loaderArea: indicator,\n                    onSuccess: function (transport) {\n                        deferred.resolve();\n                    }\n                });\n            }\n            if (typeof productConfigure != 'undefined' && area instanceof Array && area.indexOf('items') != -1) {\n                productConfigure.clean('quote_items');\n            }\n            return deferred.promise();\n        },\n\n        loadAreaResponseHandler: function (response) {\n            if (response.error) {\n                alert({\n                    content: response.message\n                });\n            }\n            if (response.ajaxExpired && response.ajaxRedirect) {\n                setLocation(response.ajaxRedirect);\n            }\n            if (!this.loadingAreas) {\n                this.loadingAreas = [];\n            }\n            if (typeof this.loadingAreas == 'string') {\n                this.loadingAreas = [this.loadingAreas];\n            }\n            if (this.loadingAreas.indexOf('message') == -1) {\n                this.loadingAreas.push('message');\n            }\n            if (response.header) {\n                jQuery('.page-actions-inner').attr('data-title', response.header);\n            }\n\n            for (var i = 0; i < this.loadingAreas.length; i++) {\n                var id = this.loadingAreas[i];\n                if ($(this.getAreaId(id))) {\n                    if ((id in response) && id !== 'message' || response[id]) {\n                        $(this.getAreaId(id)).update(response[id]);\n                    }\n                    if ($(this.getAreaId(id)).callback) {\n                        this[$(this.getAreaId(id)).callback]();\n                    }\n                }\n            }\n        },\n\n        prepareArea: function (area) {\n            if (this.giftMessageDataChanged) {\n                return area.without('giftmessage');\n            }\n            return area;\n        },\n\n        saveData: function (data) {\n            this.loadArea(false, false, data);\n        },\n\n        showArea: function (area) {\n            var id = this.getAreaId(area);\n            if ($(id)) {\n                $(id).show();\n                this.areaOverlay();\n            }\n        },\n\n        hideArea: function (area) {\n            var id = this.getAreaId(area);\n            if ($(id)) {\n                $(id).hide();\n                this.areaOverlay();\n            }\n        },\n\n        areaOverlay: function () {\n            $H(order.overlayData).each(function (e) {\n                e.value.fx();\n            });\n        },\n\n        getAreaId: function (area) {\n            return 'order-' + area;\n        },\n\n        prepareParams: function (params) {\n            if (!params) {\n                params = {};\n            }\n            if (!params.customer_id) {\n                params.customer_id = this.customerId;\n            }\n            if (!params.store_id) {\n                params.store_id = this.storeId;\n            }\n            if (!params.currency_id) {\n                params.currency_id = this.currencyId;\n            }\n            if (!params.form_key) {\n                params.form_key = FORM_KEY;\n            }\n\n            if (this.isPaymentValidationAvailable()) {\n                var data = this.serializeData('order-billing_method');\n                if (data) {\n                    data.each(function (value) {\n                        params[value[0]] = value[1];\n                    });\n                }\n            } else {\n                params['payment[method]'] = this.paymentMethod;\n            }\n            return params;\n        },\n\n        /**\n         * Prevent from sending credit card information to server for some payment methods\n         *\n         * @returns {boolean}\n         */\n        isPaymentValidationAvailable: function () {\n            return ((typeof this.paymentMethod) == 'undefined'\n                || this.excludedPaymentMethods.indexOf(this.paymentMethod) == -1);\n        },\n\n        /**\n         * Serializes container form elements data.\n         *\n         * @param {String} container\n         * @return {Object}\n         */\n        serializeData: function (container) {\n            var fields = $(container).select('input', 'select', 'textarea'),\n                data = Form.serializeElements(fields, true);\n\n            return $H(data);\n        },\n\n        toggleCustomPrice: function (checkbox, elemId, tierBlock) {\n            if (checkbox.checked) {\n                $(elemId).disabled = false;\n                $(elemId).show();\n                if ($(tierBlock)) $(tierBlock).hide();\n            } else {\n                $(elemId).disabled = true;\n                $(elemId).hide();\n                if ($(tierBlock)) $(tierBlock).show();\n            }\n        },\n\n        submit: function () {\n            var $editForm = jQuery('#edit_form'),\n                beforeSubmitOrderEvent;\n\n            if ($editForm.valid()) {\n                $editForm.trigger('processStart');\n                beforeSubmitOrderEvent = jQuery.Event('beforeSubmitOrder');\n                $editForm.trigger(beforeSubmitOrderEvent);\n                if (beforeSubmitOrderEvent.result !== false) {\n                    $editForm.trigger('submitOrder');\n                }\n            }\n        },\n\n        _realSubmit: function () {\n            var disableAndSave = function () {\n                disableElements('save');\n                jQuery('#edit_form').on('invalid-form.validate', function () {\n                    enableElements('save');\n                    jQuery('#edit_form').trigger('processStop');\n                    jQuery('#edit_form').off('invalid-form.validate');\n                });\n                jQuery('#edit_form').triggerHandler('save');\n            }\n            if (this.orderItemChanged) {\n                var self = this;\n\n                jQuery('#edit_form').trigger('processStop');\n\n                confirm({\n                    content: jQuery.mage.__('You have item changes'),\n                    actions: {\n                        confirm: function () {\n                            jQuery('#edit_form').trigger('processStart');\n                            disableAndSave();\n                        },\n                        cancel: function () {\n                            self.itemsUpdate();\n                        }\n                    }\n                });\n            } else {\n                disableAndSave();\n            }\n        },\n\n        overlay: function (elId, show, observe) {\n            if (typeof (show) == 'undefined') {\n                show = true;\n            }\n\n            var orderObj = this;\n            var obj = this.overlayData.get(elId);\n            if (!obj) {\n                obj = {\n                    show: show,\n                    el: elId,\n                    order: orderObj,\n                    fx: function (event) {\n                        this.order.processOverlay(this.el, this.show);\n                    }\n                };\n                obj.bfx = obj.fx.bindAsEventListener(obj);\n                this.overlayData.set(elId, obj);\n            } else {\n                obj.show = show;\n                Event.stopObserving(window, 'resize', obj.bfx);\n            }\n\n            Event.observe(window, 'resize', obj.bfx);\n\n            this.processOverlay(elId, show);\n        },\n\n        processOverlay: function (elId, show) {\n            var el = $(elId);\n\n            if (!el) {\n                return;\n            }\n\n            var parentEl = el.up(1);\n            if (show) {\n                parentEl.removeClassName('ignore-validate');\n            } else {\n                parentEl.addClassName('ignore-validate');\n            }\n\n            if (Prototype.Browser.IE) {\n                parentEl.select('select').each(function (elem) {\n                    if (show) {\n                        elem.needShowOnSuccess = false;\n                        elem.style.visibility = '';\n                    } else {\n                        elem.style.visibility = 'hidden';\n                        elem.needShowOnSuccess = true;\n                    }\n                });\n            }\n\n            parentEl.setStyle({position: 'relative'});\n            el.setStyle({\n                display: show ? 'none' : ''\n            });\n        },\n\n        validateVat: function (parameters) {\n            var params = {\n                country: $(parameters.countryElementId).value,\n                vat: $(parameters.vatElementId).value\n            };\n\n            if (this.storeId !== false) {\n                params.store_id = this.storeId;\n            }\n\n            var currentCustomerGroupId = $(parameters.groupIdHtmlId)\n                ? $(parameters.groupIdHtmlId).value : '';\n\n            new Ajax.Request(parameters.validateUrl, {\n                parameters: params,\n                onSuccess: function (response) {\n                    var message = '';\n                    var groupActionRequired = null;\n                    try {\n                        response = response.responseText.evalJSON();\n\n                        if (null === response.group) {\n                            if (true === response.valid) {\n                                message = parameters.vatValidMessage;\n                            } else if (true === response.success) {\n                                message = parameters.vatInvalidMessage.replace(/%s/, params.vat);\n                            } else {\n                                message = parameters.vatValidationFailedMessage;\n                            }\n                        } else {\n                            if (true === response.valid) {\n                                message = parameters.vatValidAndGroupValidMessage;\n                                if (0 === response.group) {\n                                    message = parameters.vatValidAndGroupInvalidMessage;\n                                    groupActionRequired = 'inform';\n                                } else if (currentCustomerGroupId != response.group) {\n                                    message = parameters.vatValidAndGroupChangeMessage;\n                                    groupActionRequired = 'change';\n                                }\n                            } else if (response.success) {\n                                message = parameters.vatInvalidMessage.replace(/%s/, params.vat);\n                                groupActionRequired = 'inform';\n                            } else {\n                                message = parameters.vatValidationFailedMessage;\n                                groupActionRequired = 'inform';\n                            }\n                        }\n                    } catch (e) {\n                        message = parameters.vatValidationFailedMessage;\n                    }\n                    if (null === groupActionRequired) {\n                        alert({\n                            content: message\n                        });\n                    } else {\n                        this.processCustomerGroupChange(\n                            parameters.groupIdHtmlId,\n                            message,\n                            parameters.vatCustomerGroupMessage,\n                            parameters.vatGroupErrorMessage,\n                            response.group,\n                            groupActionRequired\n                        );\n                    }\n                }.bind(this)\n            });\n        },\n\n        processCustomerGroupChange: function (groupIdHtmlId, message, customerGroupMessage, errorMessage, groupId, action) {\n            var groupMessage = '';\n            try {\n                var currentCustomerGroupId = $(groupIdHtmlId).value;\n                var currentCustomerGroupTitle =\n                    $$('#' + groupIdHtmlId + ' > option[value=' + currentCustomerGroupId + ']')[0].text;\n                var customerGroupOption = $$('#' + groupIdHtmlId + ' > option[value=' + groupId + ']')[0];\n                groupMessage = customerGroupMessage.replace(/%s/, customerGroupOption.text);\n            } catch (e) {\n                groupMessage = errorMessage;\n                if (action === 'change') {\n                    message = '';\n                    action = 'inform';\n                }\n            }\n\n            if (action === 'change') {\n                var confirmText = message.replace(/%s/, customerGroupOption.text);\n                confirmText = confirmText.replace(/%s/, currentCustomerGroupTitle);\n                confirm({\n                    content: confirmText,\n                    actions: {\n                        confirm: function() {\n                            $$('#' + groupIdHtmlId + ' option').each(function (o) {\n                                o.selected = o.readAttribute('value') == groupId;\n                            });\n                            this.accountGroupChange();\n                        }.bind(this)\n                    }\n                })\n            } else if (action === 'inform') {\n                alert({\n                    content: message + '\\n' + groupMessage\n                });\n            }\n        }\n    };\n\n    window.OrderFormArea = Class.create();\n    OrderFormArea.prototype = {\n        _name: null,\n        _node: null,\n        _parent: null,\n        _callbackName: null,\n\n        initialize: function (name, node, parent) {\n            if (!node)\n                return;\n            this._name = name;\n            this._parent = parent;\n            this._callbackName = node.callback;\n            if (typeof this._callbackName == 'undefined') {\n                this._callbackName = name + 'Loaded';\n                node.callback = this._callbackName;\n            }\n            parent[this._callbackName] = parent[this._callbackName].wrap((function (proceed) {\n                proceed();\n                this.onLoad();\n            }).bind(this));\n\n            this.setNode(node);\n        },\n\n        setNode: function (node) {\n            if (!node.callback) {\n                node.callback = this._callbackName;\n            }\n            this.node = node;\n        },\n\n        onLoad: function () {\n        }\n    };\n\n    window.ControlButton = Class.create();\n\n    ControlButton.prototype = {\n        _label: '',\n        _node: null,\n\n        initialize: function (label, id) {\n            this._label = label;\n            this._node = new Element('button', {\n                'class': 'action-secondary action-add',\n                'type': 'button'\n            });\n            if (typeof id !== 'undefined') {\n                this._node.setAttribute('id', id)\n            }\n        },\n\n        onClick: function () {\n        },\n\n        insertIn: function (element, position) {\n            var node = Object.extend(this._node),\n                content = {};\n            node.observe('click', this.onClick);\n            node.update('<span>' + this._label + '</span>');\n            content[position] = node;\n            Element.insert(element, content);\n        },\n\n        getLabel: function () {\n            return this._label;\n        }\n    };\n});\n","Magento_Sales/order/create/giftmessage.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/********************* GIFT OPTIONS POPUP ***********************/\n/********************* GIFT OPTIONS SET ***********************/\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'mage/translate',\n    'mage/validation',\n    'prototype'\n], function (jQuery) {\n\n    window.giftMessagesController = {\n        toogleRequired: function (source, objects) {\n            if (!$(source).value.blank()) {\n                objects.each(function (item) {\n                    $(item).addClassName('required-entry');\n                    var label = findFieldLabel($(item));\n\n                    if (label) {\n                        var span = label.down('span');\n\n                        if (!span) {\n                            Element.insert(label, {\n                                bottom: '&nbsp;<span class=\"required\">*</span>'\n                            });\n                        }\n                    }\n                });\n            } else {\n                objects.each(function (item) {\n                    if ($(source).formObj && $(source).formObj.validator) {\n                        $(source).formObj.validator.reset(item);\n                    }\n                    $(item).removeClassName('required-entry');\n                    var label = findFieldLabel($(item));\n\n                    if (label) {\n                        var span = label.down('span');\n\n                        if (span) {\n                            Element.remove(span);\n                        }\n                    }\n                    // Hide validation advices if exist\n                    if ($(item) && $(item).advices) {\n                        $(item).advices.each(function (pair) {\n                            if (pair.value != null) pair.value.hide();\n                        });\n                    }\n                });\n            }\n        },\n        toogleGiftMessage: function (container) {\n            if (!$(container).toogleGiftMessage) {\n                $(container).toogleGiftMessage = true;\n                $(this.getFieldId(container, 'edit')).show();\n                $(container).down('.action-link').addClassName('open');\n                $(container).down('.default-text').hide();\n                $(container).down('.close-text').show();\n            } else {\n                $(container).toogleGiftMessage = false;\n                $(this.getFieldId(container, 'message')).formObj = $(this.getFieldId(container, 'form'));\n                var form = jQuery('#' + this.getFieldId(container, 'form'));\n\n                jQuery('#' + this.getFieldId(container, 'form')).validate({\n                    errorClass: 'mage-error'\n                });\n\n                if (!form.valid()) {\n                    return false;\n                }\n\n                new Ajax.Request($(this.getFieldId(container, 'form')).action, {\n                    parameters: Form.serialize($(this.getFieldId(container, 'form')), true),\n                    loaderArea: container,\n                    onComplete: function (transport) {\n\n                        $(container).down('.action-link').removeClassName('open');\n                        $(container).down('.default-text').show();\n                        $(container).down('.close-text').hide();\n                        $(this.getFieldId(container, 'edit')).hide();\n\n                        if (transport.responseText.match(/YES/g)) {\n                            $(container).down('.default-text').down('.edit').show();\n                            $(container).down('.default-text').down('.add').hide();\n                        } else {\n                            $(container).down('.default-text').down('.add').show();\n                            $(container).down('.default-text').down('.edit').hide();\n                        }\n\n                    }.bind(this)\n                });\n            }\n\n            return false;\n        },\n        saveGiftMessage: function (container) {\n            $(this.getFieldId(container, 'message')).formObj = $(this.getFieldId(container, 'form'));\n\n            var form = jQuery('#' + this.getFieldId(container, 'form'));\n\n            form.validate({\n                errorClass: 'mage-error'\n            });\n\n            if (!form.valid()) {\n                return;\n            }\n\n            new Ajax.Request($(this.getFieldId(container, 'form')).action, {\n                parameters: Form.serialize($(this.getFieldId(container, 'form')), true),\n                loaderArea: container,\n                onSuccess: function (response) {\n                    var message = '<div class=\"messages\"><div class=\"message message-success success\">' +\n                        response.responseText +\n                        '<div data-ui-id=\"messages-message-success\"></div></div></div>';\n\n                    jQuery('#messages').html(message);\n                    jQuery(document).scrollTop(0);\n                }\n            });\n        },\n        getFieldId: function (container, name) {\n            return container + '_' + name;\n        }\n    };\n\n    function findFieldLabel(field) {\n        var tdField = $(field).up('td');\n\n        if (tdField) {\n            var tdLabel = tdField.previous('td');\n\n            if (tdLabel) {\n                var label = tdLabel.down('label');\n\n                if (label) {\n                    return label;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    window.findFieldLabel = findFieldLabel;\n\n    window.GiftOptionsPopup = Class.create();\n    GiftOptionsPopup.prototype = {\n        //giftOptionsWindowMask: null,\n        giftOptionsWindow: null,\n\n        initialize: function () {\n            $$('.action-link').each(function (el) {\n                Event.observe(el, 'click', this.showItemGiftOptions.bind(this));\n            }, this);\n\n            // Move gift options popup to start of body, because soon it will contain FORM tag that can break DOM layout if within other FORM\n            var oldPopupContainer = $('gift_options_configure');\n\n            if (oldPopupContainer) {\n                oldPopupContainer.remove();\n            }\n\n            var newPopupContainer = $('gift_options_configure_new');\n\n            $(document.body).insert({\n                top: newPopupContainer\n            });\n            newPopupContainer.id = 'gift_options_configure';\n\n            // Put controls container inside a FORM tag so we can use Validator\n            var form = new Element('form', {\n                action: '#', id: 'gift_options_configuration_form', method: 'post'\n            });\n            var formContents = $('gift_options_form_contents');\n\n            if (formContents) {\n                formContents.parentNode.appendChild(form);\n                form.appendChild(formContents);\n            }\n\n            this.giftOptionsWindow = $('gift_options_configure');\n\n            jQuery(this.giftOptionsWindow).dialog({\n                autoOpen:   false,\n                modal:      true,\n                resizable:  false,\n                dialogClass: 'gift-options-popup',\n                minWidth:   500,\n                width:      '75%',\n                position: {\n                    my: 'left+12.5% top',\n                    at: 'center top',\n                    of: 'body'\n                },\n                open: function () {\n                    jQuery(this).closest('.ui-dialog').addClass('ui-dialog-active');\n\n                    var topMargin = jQuery(this).closest('.ui-dialog').children('.ui-dialog-titlebar').outerHeight() + 30;\n\n                    jQuery(this).closest('.ui-dialog').css({\n                        'margin-top' : topMargin,\n                        'z-index': 1000\n                    });\n                    jQuery(this).closest('.ui-dialog').nextAll('.ui-widget-overlay').css('z-index', 999);\n                },\n                close: function () {\n                    jQuery(this).closest('.ui-dialog').removeClass('ui-dialog-active');\n                }\n            });\n        },\n\n        showItemGiftOptions: function (event) {\n            var element = Event.element(event).id;\n            var itemId = element.sub('gift_options_link_', '');\n\n            jQuery(this.giftOptionsWindow).dialog('open');\n\n            this.setTitle(itemId);\n\n            Event.observe($('gift_options_cancel_button'), 'click', this.onCloseButton.bind(this));\n            Event.observe($('gift_options_ok_button'), 'click', this.onOkButton.bind(this));\n            Event.stop(event);\n        },\n\n        setTitle: function (itemId) {\n            var productTitleElement = $('order_item_' + itemId + '_title');\n            var productTitle = '';\n\n            if (productTitleElement) {\n                productTitle = productTitleElement.innerHTML;\n            }\n            jQuery(this.giftOptionsWindow).dialog({\n                title: jQuery.mage.__('Gift Options for ') + productTitle\n            });\n        },\n\n        onOkButton: function () {\n            var giftOptionsForm = jQuery('#gift_options_configuration_form');\n\n            if (!giftOptionsForm.validate({\n                errorClass: 'mage-error'\n            }).valid()) {\n                return false;\n            }\n\n            if (typeof (giftOptionsForm[0].reset) === 'function') {\n                giftOptionsForm[0].reset();\n            }\n            this.closeWindow();\n\n            return true;\n        },\n\n        onCloseButton: function () {\n            this.closeWindow();\n        },\n\n        closeWindow: function () {\n            jQuery(this.giftOptionsWindow).dialog('close');\n        }\n    };\n\n    window.GiftMessageSet = Class.create();\n\n    GiftMessageSet.prototype = {\n        destPrefix: 'current_item_giftmessage_',\n        sourcePrefix: 'giftmessage_',\n        fields: ['sender', 'recipient', 'message'],\n        isObserved: false,\n        callback: null,\n\n        initialize: function () {\n            $$('.action-link').each(function (el) {\n                Event.observe(el, 'click', this.setData.bind(this));\n            }, this);\n        },\n\n        setData: function (event) {\n            var element = Event.element(event).id;\n\n            this.id = element.sub('gift_options_link_', '');\n\n            if ($('gift-message-form-data-' + this.id)) {\n                this.fields.each(function (el) {\n                    if ($(this.sourcePrefix + this.id + '_' + el) && $(this.destPrefix + el)) {\n                        $(this.destPrefix + el).value = $(this.sourcePrefix + this.id + '_' + el).value;\n                    }\n                }, this);\n                $('gift_options_giftmessage').show();\n            } else if ($('gift_options_giftmessage')) {\n                $('gift_options_giftmessage').hide();\n            }\n\n            if (!this.isObserved) {\n                Event.observe('gift_options_ok_button', 'click', this.saveData.bind(this));\n                this.isObserved = true;\n            }\n        },\n\n        prepareSaveData: function () {\n            var hash = $H();\n\n            $$('div[id^=gift_options_data_]').each(function (el) {\n                var fields = el.select('input', 'select', 'textarea');\n                var data = Form.serializeElements(fields, true);\n\n                hash.update(data);\n            });\n\n            return hash;\n        },\n\n        setSaveCallback: function (callback) {\n            if (typeof callback == 'function') {\n                this.callback = callback;\n            }\n        },\n\n        saveData: function (event) {\n            this.fields.each(function (el) {\n                if ($(this.sourcePrefix + this.id + '_' + el) && $(this.destPrefix + el)) {\n                    $(this.sourcePrefix + this.id + '_' + el).value = $(this.destPrefix + el).value;\n                }\n            }, this);\n\n            if ($(this.sourcePrefix + this.id + '_form')) {\n                $(this.sourcePrefix + this.id + '_form').request();\n            } else if (typeof order != 'undefined') {\n                var data = this.prepareSaveData();\n                var self = this;\n\n                jQuery.when(order.loadArea(['items'], true, data.toObject())).done(function () {\n                    if (self.callback !== null) {\n                        self.callback();\n                    }\n                });\n            }\n        }\n    };\n\n});\n","Magento_Sales/order/create/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global AdminOrder */\ndefine([\n    'jquery',\n    'Magento_Sales/order/create/scripts'\n], function (jQuery) {\n    'use strict';\n\n    var $el = jQuery('#edit_form'),\n        config,\n        baseUrl,\n        order,\n        payment;\n\n    if (!$el.length || !$el.data('order-config')) {\n        return;\n    }\n\n    config = $el.data('order-config');\n    baseUrl = $el.data('load-base-url');\n\n    order = new AdminOrder(config);\n    order.setLoadBaseUrl(baseUrl);\n\n    payment = {\n        switchMethod: order.switchPaymentMethod.bind(order)\n    };\n\n    window.order = order;\n    window.payment = payment;\n});\n","Magento_Sales/order/view/post-wrapper.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/confirm',\n    'mage/translate'\n], function ($, confirm) {\n    'use strict';\n\n    /**\n     * @param {String} url\n     * @returns {jQuery}\n     */\n    function getForm(url) {\n        return $('<form>', {\n            'action': url,\n            'method': 'POST'\n        }).append($('<input>', {\n            'name': 'form_key',\n            'value': window.FORM_KEY,\n            'type': 'hidden'\n        }));\n    }\n\n    $(document).on('click', '#order-view-cancel-button', function () {\n        var msg = $.mage.__('Are you sure you want to cancel this order?'),\n            url = $('#order-view-cancel-button').data('url');\n\n        confirm({\n            'content': msg,\n            'actions': {\n\n                /**\n                 * 'Confirm' action handler.\n                 */\n                confirm: function () {\n                    getForm(url).appendTo('body').trigger('submit');\n                }\n            }\n        });\n\n        return false;\n    });\n\n    $(document).on('click', '#order-view-hold-button', function () {\n        var url = $('#order-view-hold-button').data('url');\n\n        getForm(url).appendTo('body').trigger('submit');\n    });\n\n    $(document).on('click', '#order-view-unhold-button', function () {\n        var url = $('#order-view-unhold-button').data('url');\n\n        getForm(url).appendTo('body').trigger('submit');\n    });\n});\n","Magento_Tax/js/bootstrap.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nrequire([\n    'mage/backend/editablemultiselect'\n]);\n","Magento_Tax/js/price/adjustment.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'mage/translate'\n], function (Element, $t) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            bodyTmpl: 'Magento_Tax/price/adjustment',\n            taxPriceType: 'final_price',\n            taxPriceCssClass: 'price-including-tax',\n            bothPrices: 3,\n            inclTax: 2,\n            exclTax: 1,\n            modules: {\n                price: '${ $.parentName }'\n            },\n            listens: {\n                price: 'initializePriceAttributes'\n            }\n        },\n\n        /**\n         * {@inheritdoc}\n         */\n        initialize: function () {\n            this._super()\n                .initializePriceAttributes();\n\n            return this;\n        },\n\n        /**\n         * Update parent price.\n         *\n         * @returns {Object} Chainable.\n         */\n        initializePriceAttributes: function () {\n            if (this.displayBothPrices && this.price()) {\n                this.price().priceWrapperCssClasses = this.taxPriceCssClass;\n                this.price().priceWrapperAttr = {\n                    'data-label': $t('Incl. Tax')\n                };\n            }\n\n            return this;\n        },\n\n        /**\n         * Get price tax adjustment.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} tax html\n         */\n        getTax: function (row) {\n            return row['price_info']['extension_attributes']['tax_adjustments']['formatted_prices'][this.taxPriceType];\n        },\n\n        /**\n         * UnsanitizedHtml version of getTax.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} tax html\n         */\n        getTaxUnsanitizedHtml: function (row) {\n            return this.getTax(row);\n        },\n\n        /**\n         * Set price tax type.\n         *\n         * @param {String} priceType\n         * @return {Object}\n         */\n        setPriceType: function (priceType) {\n            this.taxPriceType = priceType;\n\n            return this;\n        },\n\n        /**\n         * Return whether display setting is to display\n         * both price including tax and price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayBothPrices: function () {\n            return +this.source.data.displayTaxes === this.bothPrices;\n        },\n\n        /**\n         * Return whether display setting is to display price including tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceIncludeTax: function () {\n            return +this.source.data.displayTaxes === this.inclTax;\n        },\n\n        /**\n         * Return whether display setting is to display price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceExclTax: function () {\n            return +this.source.data.displayTaxes === this.exclTax;\n        }\n    });\n});\n","Magento_InventoryGroupedProductAdminUi/js/form/element/quantity-per-source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'mage/translate',\n    'Magento_Ui/js/form/element/abstract'\n], function ($t, Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            elementTmpl: 'Magento_InventoryGroupedProductAdminUi/dynamic-rows/cells/cell-source',\n            itemsToDisplay: 3,\n            isFullList: true,\n            showFullListDescription: $t('Show more...'),\n            listens: {\n                value: 'updateItems'\n            }\n        },\n\n        /**\n         * Observe elements.\n         *\n         * @returns {exports}\n         */\n        initObservable: function () {\n            this._super()\n                .observe(['items', 'isFullList']);\n\n            return this;\n        },\n\n        /**\n         * Prepare data to use.\n         *\n         * @param {Object} data\n         * @private\n         */\n        updateItems: function (data) {\n            this.isFullList(data.length > this.itemsToDisplay);\n            this.isFullList() ? this.items(data.slice(0, this.itemsToDisplay)) : this.items(data);\n        }\n    });\n});\n","Magento_InventoryGroupedProductAdminUi/js/form/element/grid-column-quantity-per-source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'mage/translate',\n    'Magento_Ui/js/grid/columns/column'\n], function ($t, Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventoryGroupedProductAdminUi/grid/column/quantity-per-source',\n            itemsToDisplay: 3,\n            showFullListDescription: $t('Show more...')\n        },\n\n        /**\n         * Get source items from product data.\n         *\n         * @param {Object} rowData\n         * @returns {Array}\n         */\n        getSourceItemsData: function (rowData) {\n            return rowData['quantity_per_source'];\n        }\n    });\n});\n","Magento_Eav/js/input-types.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'mage/translate'\n], function ($) {\n    'use strict';\n\n    return function (config) {\n        $('select#frontend_input').each(function () {\n            var select = $(this),\n                currentValue = select.find('option:selected').val(),\n                compatibleTypes = config.inputTypes,\n                enabledTypes = [],\n                iterator,\n                warning = $('<label>')\n                    .hide()\n                    .text($.mage.__('These changes affect all related products.'))\n                    .addClass('mage-error')\n                    .attr({\n                        generated: true, for: select.attr('id')\n                    }),\n                hint = $('<p>')\n                    .hide()\n                    .addClass('note')\n                    .attr({\n                        generated: true\n                    }),\n                hints = config.hints,\n\n            /**\n             * Toggle hint about changes types\n             */\n            toggleWarning = function () {\n                if (select.find('option:selected').val() === currentValue) {\n                    warning.hide();\n                } else {\n                    warning.show();\n                }\n            },\n\n            /**\n             * Toggle hint\n             */\n            toggleHint = function () {\n                if (typeof hints[select.find('option:selected').val()] !== 'undefined') {\n                    select.after(hint.show().text(hints[select.find('option:selected').val()]));\n                } else {\n                    hint.hide();\n                }\n            },\n\n            /**\n             * Remove unsupported options\n             */\n            removeOption = function () {\n                if (!~enabledTypes.indexOf($(this).val())) {\n                    $(this).remove();\n                }\n            };\n\n            // find enabled types for switching dor current input type\n            for (iterator = 0; iterator < compatibleTypes.length; iterator++) {\n                if (compatibleTypes[iterator].indexOf(currentValue) >= 0) {\n                    enabledTypes = compatibleTypes[iterator];\n                }\n            }\n\n            // Check current type (allow only compatible types)\n            if (~enabledTypes.indexOf(currentValue)) {\n                // Enable select and keep only available options (all other will be removed)\n                select.prop('disabled', false).find('option').each(removeOption);\n                // Add warning on page and event for show/hide it\n                select.after(warning).on('change', toggleWarning);\n            }\n            //bind hint toggling on change event\n            select.on('change', toggleHint);\n            //show hint for currently selected value\n            toggleHint();\n        });\n    };\n});\n","Magento_AdobeIms/js/config.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([], function () {\n    'use strict';\n\n    return {\n        loginUrl: 'https://ims-na1.adobelogin.com/ims/authorize',\n        profileUrl: 'adobe_ims/user/profile',\n        logoutUrl: 'adobe_ims/user/logout',\n        manageAccountLink: 'https://account.adobe.com/',\n        login: {\n            callbackParsingParams: {\n                regexpPattern: /auth\\[code=(success|error);message=(.+)\\]/,\n                codeIndex: 1,\n                messageIndex: 2,\n                nameIndex: 3,\n                successCode: 'success',\n                errorCode: 'error'\n            },\n            popupWindowParams: {\n                width: 500,\n                height: 600,\n                top: 100,\n                left: 300\n            },\n            popupWindowTimeout: 10000\n        }\n    };\n});\n\n","Magento_AdobeIms/js/user.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine(['ko'], function (ko) {\n    'use strict';\n\n    return {\n        isAuthorized: ko.observable(false),\n        name: ko.observable(''),\n        email: ko.observable('')\n    };\n});\n","Magento_AdobeIms/js/signIn.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'uiComponent',\n    'jquery',\n    'Magento_AdobeIms/js/action/authorization'\n], function (Component, $, login) {\n    'use strict';\n\n    return Component.extend({\n\n        defaults: {\n            profileUrl: 'adobe_ims/user/profile',\n            logoutUrl: 'adobe_ims/user/logout',\n            user: {\n                isAuthorized: false,\n                name: '',\n                email: '',\n                image: ''\n            },\n            loginConfig: {\n                url: 'https://ims-na1.adobelogin.com/ims/authorize',\n                callbackParsingParams: {\n                    regexpPattern: /auth\\[code=(success|error);message=(.+)\\]/,\n                    codeIndex: 1,\n                    messageIndex: 2,\n                    nameIndex: 3,\n                    successCode: 'success',\n                    errorCode: 'error'\n                },\n                popupWindowParams: {\n                    width: 500,\n                    height: 600,\n                    top: 100,\n                    left: 300\n                },\n                popupWindowTimeout: 60000\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            this._super().observe(['user']);\n\n            return this;\n        },\n\n        /**\n         * Login to Adobe\n         *\n         * @return {window.Promise}\n         */\n        login: function () {\n            var deferred = $.Deferred();\n\n            if (this.user().isAuthorized) {\n                deferred.resolve();\n            }\n            login(this.loginConfig)\n                .then(function (response) {\n                    this.loadUserProfile();\n                    deferred.resolve(response);\n                }.bind(this))\n                .fail(function (error) {\n                    deferred.reject(error);\n                });\n\n            return deferred.promise();\n        },\n\n        /**\n         * Retrieve data to authorized user.\n         *\n         * @return array\n         */\n        loadUserProfile: function () {\n            $.ajax({\n                type: 'GET',\n                url: this.profileUrl,\n                showLoader: true,\n                dataType: 'json',\n                context: this,\n\n                /**\n                 * @param {Object} response\n                 * @returns void\n                 */\n                success: function (response) {\n                    this.user({\n                        isAuthorized: true,\n                        name: response.result.name,\n                        email: response.result.email,\n                        image: response.result.image\n                    });\n                },\n\n                /**\n                 * @param {Object} response\n                 * @returns {String}\n                 */\n                error: function (response) {\n                    return response.message;\n                }\n            });\n        },\n\n        /**\n         * Logout from adobe account\n         */\n        logout: function () {\n            $.ajax({\n                type: 'POST',\n                url: this.logoutUrl,\n                data: {\n                    'form_key': window.FORM_KEY\n                },\n                dataType: 'json',\n                context: this,\n                showLoader: true,\n                success: function () {\n                    this.user({\n                        isAuthorized: false,\n                        name: '',\n                        email: '',\n                        image: ''\n                    });\n                }.bind(this),\n\n                /**\n                 * @param {Object} response\n                 * @returns {String}\n                 */\n                error: function (response) {\n                    return response.message;\n                }\n            });\n        }\n    });\n});\n","Magento_AdobeIms/js/action/authorization.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * Build window params\n     * @param {Object} windowParams\n     * @returns {String}\n     */\n    function buildWindowParams(windowParams) {\n        var output = '',\n            coma = '',\n            paramName,\n            paramValue;\n\n        for (paramName in windowParams) {\n            if (windowParams[paramName]) {\n                paramValue = windowParams[paramName];\n                output += coma + paramName + '=' + paramValue;\n                coma = ',';\n            }\n        }\n\n        return output;\n    }\n\n    return function (config) {\n        var authWindow,\n            deferred = $.Deferred(),\n            watcherId,\n            stopWatcherId;\n\n        /**\n         * Close authorization window if already opened\n         */\n        if (window.adobeIMSAuthWindow) {\n            window.adobeIMSAuthWindow.close();\n        }\n\n        /**\n         * Opens authorization window with special parameters\n         */\n        authWindow = window.adobeIMSAuthWindow = window.open(\n            config.url,\n            'authorization_widnow',\n            buildWindowParams(\n                config.popupWindowParams || {\n                    width: 500,\n                    height: 300\n                }\n            )\n        );\n\n        /**\n         * Stop handle\n         */\n        function stopHandle() {\n            // Clear timers\n            clearTimeout(stopWatcherId);\n            clearInterval(watcherId);\n\n            // Close window\n            authWindow.close();\n        }\n\n        /**\n         * Start handle\n         */\n        function startHandle() {\n            var responseData;\n\n            try {\n\n                if (authWindow.document.domain !== document.domain ||\n                    authWindow.document.readyState !== 'complete') {\n                    return;\n                }\n\n                /**\n                 * If within 10 seconds the result is not received, then reject the request\n                 */\n                stopWatcherId = setTimeout(function () {\n                    stopHandle();\n                    deferred.reject(new Error('Time\\'s up.'));\n                }, config.popupWindowTimeout || 60000);\n\n                responseData = authWindow.document.body.innerHTML.match(\n                    config.callbackParsingParams.regexpPattern\n                );\n\n                if (!responseData) {\n                    return;\n                }\n\n                stopHandle();\n\n                if (responseData[config.callbackParsingParams.codeIndex] ===\n                    config.callbackParsingParams.successCode) {\n                    deferred.resolve({\n                        isAuthorized: true,\n                        lastAuthSuccessMessage: responseData[config.callbackParsingParams.messageIndex]\n                    });\n                } else {\n                    deferred.reject(responseData[config.callbackParsingParams.messageIndex]);\n                }\n            } catch (e) {\n                if (authWindow.closed) {\n                    clearTimeout(stopWatcherId);\n                    clearInterval(watcherId);\n\n                    // eslint-disable-next-line max-depth\n                    if (window.adobeIMSAuthWindow && window.adobeIMSAuthWindow.closed) {\n                        deferred.reject(new Error('Authentication window was closed.'));\n                    }\n                }\n            }\n        }\n\n        /**\n         * Watch a result 1 time per second\n         */\n        watcherId = setInterval(startHandle, 1000);\n\n        return deferred.promise();\n    };\n});\n","Magento_InventoryShippingAdminUi/js/form/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/form/form',\n    'underscore',\n    'mageUtils'\n], function ($, Form, _, utils) {\n    'use strict';\n\n    return Form.extend({\n        defaults: {\n            sourceSelectionUrl: '${ $.sourceSelectionUrl }'\n        },\n\n        /**\n         * Process source selection algorithm\n         *\n         * @param {String} redirect\n         * @param {Object} data\n         */\n        processAlgorithm: function (redirect, data) {\n            var formData = utils.filterFormData(this.source.get('data'));\n\n            data.requestData = [];\n\n            _.each(formData.items, function (item) {\n                data.requestData.push({\n                    orderItem: item.orderItemId,\n                    sku: item.sku,\n                    qty: item.qtyToShip\n                });\n            });\n\n            data.orderId = formData['order_id'];\n            data.websiteId = formData.websiteId;\n            data = utils.serialize(utils.filterFormData(data));\n            data['form_key'] = window.FORM_KEY;\n\n            if (!this.sourceSelectionUrl || this.sourceSelectionUrl === 'undefined') {\n                return $.Deferred.resolve();\n            }\n\n            $('body').trigger('processStart');\n\n            $.ajax({\n                url: this.sourceSelectionUrl,\n                data: data,\n\n                /**\n                 * Success callback.\n                 *\n                 * @param {Object} response\n                 */\n                success: function (response) {\n                    var dataItems = this.source.get('data.items');\n\n                    _.each(dataItems, function (item) {\n                        if (response[item.orderItemId]) {\n                            this.source.set('data.items.' + item['record_id'] + '.sources', response[item.orderItemId]);\n                        }\n                    }.bind(this));\n                    this.source.trigger('reInitSources');\n                    this.source.set('data.sourceCodes', response.sourceCodes ? response.sourceCodes : []);\n                }.bind(this),\n\n                /**\n                 * Complete callback.\n                 */\n                complete: function () {\n                    $('body').trigger('processStop');\n                }\n            });\n        }\n    });\n});\n","Magento_InventoryShippingAdminUi/js/form/element/qty_to_deduct.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/form/element/abstract',\n    'mageUtils'\n], function (Abstract, utils) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            sourceCode: null,\n            qtyAvailable: 0\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initialize: function () {\n            var path,\n                qtyToShip,\n                isManageStock;\n\n            this._super();\n\n            //TODO: Is it right way?\n            path = utils.getPart(utils.getPart(this.parentScope, -2), -2);\n            qtyToShip = this.source.get(path + '.qtyToShip');\n            isManageStock = this.source.get(path + '.isManageStock');\n\n            this.validation['less-than-equals-to'] = isManageStock ? this.qtyAvailable : qtyToShip;\n\n            return this;\n        },\n\n        /**\n         * Toggle disabled state.\n         *\n         * @param {String} selected\n         */\n        toggleDisable: function (selected) {\n            this.disabled(selected ? selected.toString() !== this.sourceCode : !selected);\n        }\n    });\n});\n","Magento_InventoryShippingAdminUi/js/form/element/source_code.js":"define([\n    'underscore',\n    'Magento_Ui/js/form/element/select'\n], function (_, select) {\n    'use strict';\n\n    return select.extend({\n        /**\n         * @inheritdoc\n         */\n        setOptions: function (data) {\n            var result = this._super(data);\n\n            if (data.length === 1) {\n                this.value(data[0].value);\n            }\n\n            return result;\n        }\n    });\n});\n","Magento_InventoryShippingAdminUi/js/order/grid/cell/allocated-sources.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventoryShippingAdminUi/order/grid/cell/allocated-sources-cell.html',\n            itemsToDisplay: 5\n        },\n\n        /**\n         *\n         * @param {Array} record\n         * @returns {Array}\n         */\n        getTooltipData: function (record) {\n            return record[this.index];\n        },\n\n        /**\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getAllocatedSources: function (record) {\n            return this.getTooltipData(record).slice(0, this.itemsToDisplay);\n        }\n    });\n});\n","Magento_User/js/delete-user-account.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var postData;\n\n    return function (params, elem) {\n\n        elem.on('click', function () {\n\n            postData = {\n                'data': {\n                    'user_id': params.objId,\n                    'current_password': $('[name=\"current_password\"]').val()\n                }\n            };\n\n            if ($.validator.validateElement($('[name=\"current_password\"]'))) {\n                window.deleteConfirm(params.message, params.url, postData);\n            }\n        });\n    };\n});\n","Magento_User/js/roles-tree.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'jquery/ui',\n    'jquery/jstree/jquery.jstree'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.rolesTree', {\n        options: {\n            treeInitData: {},\n            editFormSelector: '',\n            resourceFieldName: 'resource[]',\n            checkboxVisible: true\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.element.jstree({\n                plugins: ['checkbox'],\n                checkbox: {\n                    // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n                    three_state: false,\n                    // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n                    visible: this.options.checkboxVisible,\n                    cascade: 'undetermined'\n                },\n                core: {\n                    data: this.options.treeInitData,\n                    themes: {\n                        dots: false\n                    }\n                }\n            });\n            this._bind();\n        },\n\n        /**\n         * @private\n         */\n        _destroy: function () {\n            this.element.jstree('destroy');\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            this.element.on('select_node.jstree', $.proxy(this._selectChildNodes, this));\n            this.element.on('deselect_node.jstree', $.proxy(this._deselectChildNodes, this));\n            this.element.on('changed.jstree', $.proxy(this._changedNode, this));\n        },\n\n        /**\n         * @param {Event} event\n         * @param {Object} selected\n         * @private\n         */\n        _selectChildNodes: function (event, selected) {\n            // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n            selected.instance.open_node(selected.node);\n            selected.node.children.each(function (id) {\n                var selector = '[id=\"' + id + '\"]';\n\n                selected.instance.select_node(\n                    selected.instance.get_node($(selector), false)\n                );\n            });\n            // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n        },\n\n        /**\n         * @param {Event} event\n         * @param {Object} selected\n         * @private\n         */\n        _deselectChildNodes: function (event, selected) {\n            selected.node.children.each(function (id) {\n                var selector = '[id=\"' + id + '\"]';\n\n                // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n                selected.instance.deselect_node(\n                    selected.instance.get_node($(selector), false)\n                );\n                // jscs:enable requireCamelCaseOrUpperCaseIdentifiers\n            });\n        },\n\n        /**\n         * Add selected resources to form to be send later\n         *\n         * @param {Event} event\n         * @param {Object} selected\n         * @private\n         */\n        _changedNode: function (event, selected) {\n            var form = $(this.options.editFormSelector),\n                fieldName = this.options.resourceFieldName,\n                items = selected.selected.concat($(this.element).jstree('get_undetermined'));\n\n            if (this.options.editFormSelector === '') {\n                return;\n            }\n            form.find('input[name=\"' + this.options.resourceFieldName +  '\"]').remove();\n            items.each(function (id) {\n                $('<input>', {\n                    type: 'hidden',\n                    name: fieldName,\n                    value: id\n                }).appendTo(form);\n            });\n        }\n    });\n\n    return $.mage.rolesTree;\n});\n","Magento_AdminAdobeIms/postcss.config.js":"module.exports = {\n    plugins: [\n        require('postcss-import'),\n        require('postcss-varfallback'),\n        require('postcss-dropunusedvars'),\n        require('cssnano')\n    ]\n};\n","Magento_AdminAdobeIms/js/adobe-ims-reauth.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'uiComponent',\n    'jquery',\n    'Magento_AdobeIms/js/action/authorization'\n], function (Component, $, login) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            loginConfig: {\n                url: 'https://ims-na1-stg.adobelogin.com/ims/authorize',\n                callbackParsingParams: {\n                    regexpPattern: /auth\\[code=(success|error);message=(.+)\\]/,\n                    codeIndex: 1,\n                    messageIndex: 2,\n                    nameIndex: 3,\n                    successCode: 'success',\n                    errorCode: 'error'\n                },\n                popupWindowParams: {\n                    width: 500,\n                    height: 600,\n                    top: 100,\n                    left: 300\n                },\n                popupWindowTimeout: 60000\n            }\n        },\n\n        /**\n         * @override\n         */\n        initialize: function () {\n            this._super();\n            this.login();\n        },\n\n        /**\n         * Open popup for Adobe reauth\n         *\n         * @return {window.Promise}\n         */\n        login: function () {\n            var deferred = $.Deferred(),\n                loginConfig = this.loginConfig;\n\n            $('input.ims_verification').on('click', function () {\n                login(loginConfig)\n                    .then(function (response) {\n                        if (response.isAuthorized === true) {\n                            $('input.ims_verified').val(true);\n                        }\n                        deferred.resolve(response);\n                    })\n                    .fail(function (error) {\n                        deferred.reject(error);\n                    });\n            });\n\n            return deferred.promise();\n        }\n    });\n});\n","Magento_AdminAdobeIms/js/admin_adobe_ims_load_icons.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'Magento_AdminAdobeIms/js/loadicons'\n], function ($, _, loadicons) {\n    'use strict';\n\n    var icons = {},\n\n    loadIcons = {\n        /**\n         * loadicons initialization\n         */\n        init: function () {\n            loadicons(icons.spectrumCssIcons);\n            loadicons(icons.spectrumIcons);\n        },\n\n        /**\n         * @param {Object} iconUrls\n         * @constructor\n         */\n        'Magento_AdminAdobeIms/js/admin_adobe_ims_load_icons': function (iconUrls) {\n            icons = iconUrls;\n            loadIcons.init();\n        }\n    };\n\n    return loadIcons;\n});\n","Magento_AdminAdobeIms/js/loadicons.js":"/*\nCopyright 2018 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\n// UMD pattern via umdjs\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory);\n  }\n  else if (typeof module === 'object' && module.exports) {\n    // CommonJS-like\n    module.exports = factory();\n  }\n  else {\n    // Browser\n    root.loadIcons = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function() {\n  function handleError(string) {\n    string = 'loadIcons: '+string;\n    var error = new Error(string);\n\n    console.error(error.toString());\n\n    if (typeof callback === 'function') {\n      callback(error);\n    }\n  }\n\n  function injectSVG(svgURL, callback) {\n    var error;\n    // 200 for web servers, 0 for CEP panels\n    if (this.status !== 200 && this.status !== 0) {\n      handleError('Failed to fetch icons, server returned ' + this.status);\n      return;\n    }\n\n    // Parse the SVG\n    var parser = new DOMParser();\n    try {\n      var doc = parser.parseFromString(this.responseText, 'image/svg+xml');\n      var svg = doc.firstChild;\n    }\n    catch (err) {\n      handleError('Error parsing SVG: ' + err);\n      return;\n    }\n\n    // Make sure a real SVG was returned\n    if (svg && svg.tagName === 'svg') {\n      // Hide the element\n      svg.style.display = 'none';\n\n      svg.setAttribute('data-url', svgURL);\n\n      // Insert it into the head\n      document.head.insertBefore(svg, null);\n\n      // Pass the SVG to the callback\n      if (typeof callback === 'function') {\n        callback(null, svg);\n      }\n    }\n    else {\n      handleError('Parsed SVG document contained something other than an SVG');\n    }\n  }\n\n  function loadIcons(svgURL, callback) {\n    // Request the SVG sprite\n    var req = new XMLHttpRequest();\n    req.open('GET', svgURL, true);\n    req.addEventListener('load', injectSVG.bind(req, svgURL, callback));\n    req.addEventListener('error', function(event) {\n      handleError('Request failed');\n    });\n    req.send();\n  }\n\n  return loadIcons;\n}));\n","JetRails_Cloudflare/js/global.js":"function getDomainName () {\n\treturn window.domain\n}\n\nfunction getSkinBaseUrl ( path = \"\" ) {\n\treturn window.skin_base + path\n}\n\nmodule.exports = { getDomainName, getSkinBaseUrl }\n","JetRails_Cloudflare/js/index.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst ui = require (\"jquery-ui-dist/jquery-ui.js\")\nconst notification = require (\"cloudflare/core/notification\")\nconst common = require (\"cloudflare/common\")\nconst global = require (\"cloudflare/global\")\n\nrequire (\"cloudflare/speed/automatic_platform_optimization\")\nrequire (\"cloudflare/speed/image_resizing\")\nrequire (\"cloudflare/speed/prefetch_urls\")\nrequire (\"cloudflare/speed/amp_real_url\")\nrequire (\"cloudflare/speed/auto_minify\")\nrequire (\"cloudflare/speed/mirage\")\nrequire (\"cloudflare/speed/mobile_redirect\")\nrequire (\"cloudflare/speed/rocket_loader\")\nrequire (\"cloudflare/speed/polish\")\nrequire (\"cloudflare/speed/enhanced_http2_prioritization\")\nrequire (\"cloudflare/speed/brotli\")\nrequire (\"cloudflare/speed/tcp_turbo\")\nrequire (\"cloudflare/speed/early_hints.js\")\nrequire (\"cloudflare/page_rules/page_rules\")\nrequire (\"cloudflare/network/websockets\")\nrequire (\"cloudflare/network/maximum_upload_size\")\nrequire (\"cloudflare/network/pseudo_ipv4\")\nrequire (\"cloudflare/network/true_client_ip_header\")\nrequire (\"cloudflare/network/response_buffering\")\nrequire (\"cloudflare/network/http_2\")\nrequire (\"cloudflare/network/ip_geolocation\")\nrequire (\"cloudflare/network/onion_routing\")\nrequire (\"cloudflare/network/http_3\")\nrequire (\"cloudflare/network/ipv6_compatibility\")\nrequire (\"cloudflare/network/zero_rtt_connection_resumption\")\nrequire (\"cloudflare/network/grpc.js\")\nrequire (\"cloudflare/network/http_2_to_origin.js\")\nrequire (\"cloudflare/firewall/access_rules\")\nrequire (\"cloudflare/firewall/bot_management\")\nrequire (\"cloudflare/firewall/bot_fight_mode\")\nrequire (\"cloudflare/firewall/challenge_passage\")\nrequire (\"cloudflare/firewall/user_agent_blocking\")\nrequire (\"cloudflare/firewall/web_application_firewall\")\nrequire (\"cloudflare/firewall/security_level\")\nrequire (\"cloudflare/firewall/zone_lockdown\")\nrequire (\"cloudflare/firewall/javascript_detections\")\nrequire (\"cloudflare/firewall/privacy_pass_support\")\nrequire (\"cloudflare/firewall/browser_integrity_check\")\nrequire (\"cloudflare/firewall/firewall_rules.js\")\nrequire (\"cloudflare/ssl_tls/always_use_https\")\nrequire (\"cloudflare/ssl_tls/minimum_tls_version\")\nrequire (\"cloudflare/ssl_tls/authenticated_origin_pulls\")\nrequire (\"cloudflare/ssl_tls/ssl_tls_recommender\")\nrequire (\"cloudflare/ssl_tls/certificate_transparency_monitoring\")\nrequire (\"cloudflare/ssl_tls/tls_13\")\nrequire (\"cloudflare/ssl_tls/ssl\")\nrequire (\"cloudflare/ssl_tls/opportunistic_encryption\")\nrequire (\"cloudflare/ssl_tls/disable_universal_ssl\")\nrequire (\"cloudflare/ssl_tls/http_strict_transport_security\")\nrequire (\"cloudflare/ssl_tls/automatic_https_rewrites\")\nrequire (\"cloudflare/caching/development_mode\")\nrequire (\"cloudflare/caching/purge_cache\")\nrequire (\"cloudflare/caching/caching_level\")\nrequire (\"cloudflare/caching/browser_cache_expiration\")\nrequire (\"cloudflare/caching/always_online\")\nrequire (\"cloudflare/caching/enable_query_string_sort\")\nrequire (\"cloudflare/caching/argo_tiered_cache.js\")\nrequire (\"cloudflare/caching/crawler_hints.js\")\nrequire (\"cloudflare/caching/tiered_cache_topology.js\")\nrequire (\"cloudflare/overview/status\")\nrequire (\"cloudflare/dns/cname_flattening\")\nrequire (\"cloudflare/dns/custom_nameservers\")\nrequire (\"cloudflare/dns/cloudflare_nameservers\")\nrequire (\"cloudflare/dns/dns_records\")\nrequire (\"cloudflare/scrape_shield/hotlink_protection\")\nrequire (\"cloudflare/scrape_shield/email_address_obfuscation\")\nrequire (\"cloudflare/scrape_shield/server_side_excludes\")\n\n$(window).on ( \"load\", function () {\n\n\t// Wrapper on all AJAX calls (detect session expiration)\n\tvar oldAjax = $.ajax\n\t$.ajax = function () {\n\t\tvar successCallback = arguments [ 0 ].success\n\t\targuments [ 0 ].success = function ( response, status, xhr ) {\n\t\t\tif ( ( xhr.getResponseHeader (\"content-type\") || \"\" ).indexOf (\"html\") >= 0 ) {\n\t\t\t\t$(\".cloudflare-dashboard\").addClass (\"logged-off\")\n\t\t\t\tnotification.showMessages ({\n\t\t\t\t\terrors: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcode: 42,\n\t\t\t\t\t\t\tmessage: \"It appears that you are no longer logged in. Please refresh page and try again.\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsuccessCallback.apply ( this, arguments )\n\t\t\t}\n\t\t}\n\t\toldAjax.apply ( null, arguments )\n\t}\n\n\tif ( $(`.cloudflare-dashboard .tabs [data-tab='${window.localStorage.getItem (\"cloudflare.tab\") || \"overview\"}']`).length > 0 ) {\n\t\t$(`.cloudflare-dashboard .tabs [data-tab='${window.localStorage.getItem (\"cloudflare.tab\") || \"overview\"}']`).trigger (\"click\")\n\t}\n\telse {\n\t\t$(`.cloudflare-dashboard .tabs [data-tab='overview']`).trigger (\"click\")\n\t}\n\n\t$(\".proxied\").each ( ( index ) => {\n\t\t$(this).data ( \"value\", /proxied_on/.test ( $(this).attr (\"src\") ) )\n\t})\n\n\tconst triggerEvent = function () {\n\t\tvar section = $(this).closest (\"section\")\n\t\tvar event = {\n\t\t\t\"target\": {\n\t\t\t\t\"tab\": $( section ).data (\"tab-name\"),\n\t\t\t\t\"section\": $( section ).data (\"section-name\"),\n\t\t\t\t\"action\": $(this).data (\"target\")\n\t\t\t},\n\t\t\t\"form\": {\n\t\t\t\t\"endpoint\": $(this).closest (\"section\").data (\"endpoint\").replace ( /(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/, \"$1\" + $(this).data (\"target\") + \"$3\" ),\n\t\t\t\t\"key\": $(this).closest (\"section\").data (\"form-key\")\n\t\t\t},\n\t\t\t\"section\": section,\n\t\t\t\"trigger\": $(this)\n\t\t}\n\t\tevent.target.name = event.target.tab + \".\" + event.target.section + \".\" + event.target.action\n\t\tevent.target.name = \"cloudflare.\" + event.target.name\n\t\t$.event.trigger ( event.target.name, event )\n\t\t// console.log ( \"Triggered: \" + event.target.name )\n\t}\n\n\t$(document).on ( \"click\", \".trigger\", triggerEvent )\n\t$(document).on ( \"change\", \".trigger-select\", triggerEvent )\n\t$(document).on ( \"change\", \".trigger-radio\", triggerEvent )\n\t$(document).on ( \"keyup\", \".trigger-change\", triggerEvent )\n\n})\n\n$(document).on ( \"click\", \"[data-tab]\", function () {\n\tvar section = $(this).closest (\"section\")\n\tif ( $(this).hasClass (\"active\") && !$(section).hasClass (\"at_least_one\") ) {\n\t\t$(section).find (\"[data-tab-content]\").removeClass (\"active\")\n\t\t$(section).find (\"[data-tab]\").removeClass (\"active\")\n\t}\n\telse {\n\t\t$(section).find (\"[data-tab-content]\").removeClass (\"active\")\n\t\t$(section).find (\"[data-tab]\").removeClass (\"active\")\n\t\t$(this).addClass (\"active\")\n\t\t$(section).find (\"[data-tab-content='\" + $(this).data (\"tab\") + \"']\").addClass (\"active\")\n\t}\n})\n\n$(document).on ( \"change\", \".dynamic-trigger\", function () {\n\tconst target = $(this).val ()\n\t$(this).parent ().find (\"div[data-dynamic-wrapper]\").removeClass (\"active\")\n\t$(this).parent ().find (\"div[data-dynamic-wrapper='\" + target + \"']\").addClass (\"active\")\n\t$(this).parent ().find (\"[data-dynamic-show]\").each ( function () {\n\t\tif ( $(this).data (\"dynamic-show\").includes ( target.toLowerCase () ) ) {\n\t\t\t$(this).show ()\n\t\t}\n\t\telse {\n\t\t\t$(this).hide ()\n\t\t}\n\t})\n})\n\n$(document).on ( \"click\", \".dynamic-trigger\", function () {\n\tconst target = $(this).data (\"tab\")\n\tif ( target ) {\n\t\t$(this).parent ().find (\"div[data-dynamic-wrapper]\").removeClass (\"active\")\n\t\t$(this).parent ().find (\"div[data-dynamic-wrapper='\" + target + \"']\").addClass (\"active\")\n\t\t$(this).parent ().find (\"[data-dynamic-show]\").each ( function () {\n\t\t\tif ( $(this).data (\"dynamic-show\").includes ( target.toLowerCase () ) ) {\n\t\t\t\t$(this).show ()\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$(this).hide ()\n\t\t\t}\n\t\t})\n\t}\n})\n\n$(document).on ( \"click\", \".proxied\", function () {\n\tlet source = $(this).attr (\"src\")\n\tif ( /proxied_on/.test ( source ) ) {\n\t\tsource = source.replace ( /proxied_on/, \"proxied_off\" )\n\t\t$(this).data ( \"value\", false )\n\t}\n\telse {\n\t\tsource = source.replace ( /proxied_off/, \"proxied_on\" )\n\t\t$(this).data ( \"value\", true )\n\t}\n\t$(this).attr ( \"src\", source )\n\tif ( $(this).hasClass (\"change\") ) $(this).trigger (\"change\")\n})\n\n$(document).on ( \"click\", \".cloudflare-dashboard ul.tabs li\", function () {\n\tlet target = $(this).data (\"tab\")\n\t$(\".cloudflare-dashboard .content\").removeClass (\"selected\")\n\t$(\".cloudflare-dashboard .tabs li\").removeClass (\"selected\")\n\t$(`.cloudflare-dashboard .content[data-target='${target}']`).addClass (\"selected\")\n\t$(this).addClass (\"selected\")\n\t$(`.initialize.${target}`).addClass (\"loading\")\n\twindow.localStorage.setItem ( \"cloudflare.tab\", target )\n\tcommon.loadSections (`.${target}`)\n})\n","JetRails_Cloudflare/js/common.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\n\nfunction loadSections ( additional = \"\" ) {\n\t$(\"section.cloudflare.initialize\" + additional ).each ( ( index, section ) => {\n\t\t$.ajax ({\n\t\t\turl: $( section ).data (\"endpoint\"),\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\tform_key: $( section ).data (\"form-key\")\n\t\t\t},\n\t\t\tsuccess: ( response ) => {\n\t\t\t\t$(section).removeClass (\"loading\")\n\t\t\t\thasErrors = response => {\n\t\t\t\t\tif ( \"code\" in response && response.code == 1009 ) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t\tif ( \"success\" in response ) {\n\t\t\t\t\t\treturn response.success === false\n\t\t\t\t\t}\n\t\t\t\t\tif ( \"state\" in response && \"success\" in response.state ) {\n\t\t\t\t\t\treturn response.state.success === false\n\t\t\t\t\t}\n\t\t\t\t\tif ( \"webp\" in response && \"success\" in response.webp ) {\n\t\t\t\t\t\treturn response.webp.success === false\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif ( hasErrors ( response ) ) {\n\t\t\t\t\tvar header = \"Authorization Error\"\n\t\t\t\t\tvar message = \"It appears that the configured Cloudflare token does not have sufficient permissions to render this section.\"\n\t\t\t\t\tif ( response && response.errors && response.errors.some ( e => e.message.startsWith (\"API Tokens are not supported\") ) ) {\n\t\t\t\t\t\theader = \"Unsupported Error\"\n\t\t\t\t\t\tmessage = \"Currently, this API endpoint cannot be used with token authorization. This may change in the future.\"\n\t\t\t\t\t}\n\t\t\t\t\t$(section).find (\".row:nth-child( n + 2 )\").remove ()\n\t\t\t\t\t$(section).find (\".wrapper_bottom\").remove ()\n\t\t\t\t\t$(section).find (\".wrapper_right\").remove ()\n\t\t\t\t\t$(section).find (\".wrapper_left *:nth-child( n + 3 )\").remove ()\n\t\t\t\t\t$(section).find (\".row\").append (`\n\t\t\t\t\t\t<div class=\"wrapper_right\" >\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h5 class=\"error\" >${header}</h5>\n\t\t\t\t\t\t\t\t<p>${message}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tvar event = {\n\t\t\t\t\t\"target\": {\n\t\t\t\t\t\t\"tab\": $( section ).data (\"tab-name\"),\n\t\t\t\t\t\t\"section\": $( section ).data (\"section-name\"),\n\t\t\t\t\t\t\"action\": \"initialize\"\n\t\t\t\t\t},\n\t\t\t\t\t\"section\": section,\n\t\t\t\t\t\"response\": response\n\t\t\t\t}\n\t\t\t\tevent.target.name = [\n\t\t\t\t\t\"cloudflare\",\n\t\t\t\t\tevent.target.tab,\n\t\t\t\t\tevent.target.section,\n\t\t\t\t\tevent.target.action\n\t\t\t\t].join (\".\")\n\t\t\t\t$.event.trigger ( event.target.name, event )\n\t\t\t\t// console.log ( \"Triggered: \" + event.target.name )\n\t\t\t}\n\t\t})\n\t})\n}\n\nmodule.exports = {\n\tloadSections: loadSections\n}\n","JetRails_Cloudflare/js/core/notification.js":"const $ = jQuery = jquery = require (\"jquery\")\n\nfunction addMessage ( type, message ) {\n\tif ( $(\".cloudflare_notification\").length == 0 ) {\n\t\t$(\"body\").append ( $(\"<div class='cloudflare_notification' >\") )\n\t}\n\ticon = type == \"response_success\" ? \"&#xF004;\" : \"&#xF005;\"\n\ttype = type == \"response_success\" ? \"response_success\" : \"response_error\"\n\tconst notification = $(\"<div class='notification \" + type + \"' >\")\n\t\t.append ( $(\"<span class='message' >\").text ( message ) )\n\t\t.append ( $(\"<span class='progress' >\") )\n\t\t.append ( $(\"<span class='cloudflare-icon close' >\").html (\"&#xF01A;\") )\n\t\t.append ( $(\"<i class='cloudflare-icon status' >\").html ( icon ) )\n\t$(\".cloudflare_notification\").append ( notification )\n\tsetTimeout ( function () {\n\t\t$( notification ).addClass (\"auto_remove\")\n\t}, 200 )\n\tvar timeout = setTimeout ( function () {\n\t\t$( notification ).remove ()\n\t}, 10200 )\n\t$( notification ).on ( \"click\", function () {\n\t\t$(this).removeClass (\"auto_remove\")\n\t\t$(this).addClass (\"locked\")\n\t\tclearTimeout ( timeout )\n\t})\n\t$( notification ).on ( \"mouseover\", function () {\n\t\tif ( !$(this).hasClass (\"locked\") ) {\n\t\t\t$(this).removeClass (\"auto_remove\")\n\t\t\tclearTimeout ( timeout )\n\t\t}\n\t})\n\t$( notification ).on ( \"mouseout\", function () {\n\t\tif ( !$(this).hasClass (\"locked\") ) {\n\t\t\t$(this).addClass (\"auto_remove\")\n\t\t\tclearTimeout ( timeout )\n\t\t\ttimeout = setTimeout ( function () {\n\t\t\t\t$( notification ).remove ()\n\t\t\t}, 10000 )\n\t\t}\n\t})\n\t$( notification ).find (\".close\").on ( \"click\", function () {\n\t\tclearTimeout ( timeout )\n\t\t$(this).parent ().remove ()\n\t})\n}\n\nfunction addMessages ( type, messages ) {\n\tif ( !Array.isArray ( messages ) ) messages = [ messages ]\n\tmessages.map ( ( message ) => {\n\t\taddMessage ( type, message )\n\t})\n}\n\nfunction addSuccess ( message ) {\n\taddMessages ( \"response_success\", message )\n}\n\nfunction addError ( message ) {\n\taddMessages ( \"response_error\", message )\n}\n\nfunction showMessages ( data ) {\n\tif ( data.error ) {\n\t\tdata.errors = [{ code: data.code, message: data.error }]\n\t}\n\tif ( data.errors ) {\n\t\taddError ( data.errors.map ( i => `${i.code}: ${i.message}` ) )\n\t}\n\tif ( data.messages ) {\n\t\taddSuccess ( data.messages.map ( i => {\n\t\t\tif ( typeof i === \"string\" ) return i\n\t\t\treturn `${i.code}: ${i.message}`\n\t\t}))\n\t}\n}\n\nmodule.exports = {\n\taddMessage: addMessage,\n\taddMessages: addMessages,\n\taddSuccess: addSuccess,\n\taddError: addError,\n\tshowMessages: showMessages\n}\n","JetRails_Cloudflare/js/core/modal.js":"const $ = jQuery = jquery = require (\"jquery\")\n\nfunction createComponents ( large ) {\n\tlet container = $(\"<div class='container' >\")\n\tif ( large && typeof large !== \"boolean\" ) {\n\t\t$( container ).css ({ width: large + \"px\" })\n\t}\n\telse if ( large ) {\n\t\t$( container ).css ({ width: \"630px\" })\n\t}\n\treturn {\n\t\tmodal: $(\"<div class='cloudflare_modal' >\"),\n\t\tcontainer: container,\n\t\tclose: $(\"<div class='close cloudflare-font' >\").html (\"&#xF01A\")\n\t}\n}\n\nfunction bindComponents ( components ) {\n\t$( components.close ).on ( \"click\", function () {\n\t\t$( components.modal ).removeClass (\"active\")\n\t\tsetTimeout ( function () { $( components.modal ).remove () }, 1000 )\n\t})\n}\n\nfunction render ( components ) {\n\t$(\"body\").append (\n\t\tcomponents.modal.append (\n\t\t\tcomponents.container.append ( components.close )\n\t\t)\n\t)\n}\n\nfunction Modal ( large = false ) {\n\tconst components = createComponents ( large )\n\tbindComponents ( components )\n\n\treturn {\n\t\tcomponents: components,\n\t\taddTitle: ( title, subTitle = \"\" ) => {\n\t\t\tlet titleElement = $(\"<div class='title' >\")\n\t\t\t$( components.container ).append ( titleElement.html ( title ) )\n\t\t\tif ( subTitle.trim () !== \"\" ) {\n\t\t\t\t$( titleElement ).append ( $(\"<div class='sub-title' >\").text ( subTitle ) )\n\t\t\t}\n\t\t},\n\t\taddRow: ( label, element, tight = false ) => {\n\t\t\tlet row = $(\"<div class='row' >\")\n\t\t\tif ( tight ) $( row ).addClass (\"tight\")\n\t\t\trow.append ( $(\"<div class='label' >\").html ( label ) )\n\t\t\trow.append ( $(\"<div class='element' >\").html ( element ) )\n\t\t\t$( components.container ).append ( row )\n\t\t},\n\t\taddButton: ( options ) => {\n\t\t\tif ( !( \"buttonsContainer\" in components ) ) {\n\t\t\t\tcomponents.buttonsContainer = $(\"<div class='buttons' >\")\n\t\t\t\t$(components.container).append ( components.buttonsContainer )\n\t\t\t}\n\t\t\tvar button = $(`<input type=\"button\" class=\"${options.class}\" value=\"${options.label}\" />`)\n\t\t\tif ( \"callback\" in options ) $( button ).on ( \"click\", options.callback.bind ( null, components ) )\n\t\t\t$(components.buttonsContainer).append ( button )\n\t\t},\n\t\taddElement: ( element ) => {\n\t\t\t$(components.container).append ( element )\n\t\t},\n\t\tclose: () => {\n\t\t\t$(\".cloudflare_modal\").removeClass (\"active\")\n\t\t\tsetTimeout ( function () { $( components.modal ).remove () }, 1000 )\n\t\t},\n\t\tshow: () => {\n\t\t\t$(\"*\").blur ()\n\t\t\trender ( components )\n\t\t\tsetTimeout ( function () {\n\t\t\t\t$( components.modal ).addClass (\"active\")\n\t\t\t\t$( components.modal ).find (\"input,textarea,select\").first ().focus ()\n\t\t\t}, 200 )\n\t\t}\n\t}\n}\n\nfunction confirm () {\n\tvar modal = $(\"<div class='cloudflare_modal' >\")\n\tvar container = $(\"<div class='container' >\")\n\tvar close = $(\"<div class='close' >\")\n\t$( close ).on ( \"click\", function () {\n\t\t$(\".cloudflare_modal\").removeClass (\"active\")\n\t\tsetTimeout ( function () { $( modal ).remove () }, 1000 )\n\t})\n\t$(\"body\").append ( modal.append ( container.append ( close ) ) )\n\tsetTimeout ( function () { $( modal ).addClass (\"active\") }, 200 )\n}\n\nfunction createInput ( type = \"text\", name, placeholder = \"\", value = \"\" ) {\n\treturn $(`<input type=\"${type}\" name=\"${name}\" placeholder=\"${placeholder}\" value=\"${value}\" />`)\n}\n\nfunction createRow ( label, element ) {\n\treturn $(\"<div class='row tight' >\")\n\t\t.html ( $(\"<div class='label' >\").text ( label ) )\n\t\t.append ( element )\n}\n\nfunction createRows () {\n\tlet rows = $(\"<div class='rows' >\")\n\tfor ( let i in arguments ) {\n\t\t$(rows).append ( arguments [ i ] )\n\t}\n\treturn rows\n}\n\nfunction createSelect ( name, options, multiple = false ) {\n\tlet select = $(`<select name='${name}' ${multiple ? \"multiple\" : \"\"} >`)\n\toptions = options.map ( option => {\n\t\tvar element = new Option ( option.label, option.value )\n\t\tif ( option.selected ) $(element).prop ( \"selected\", true )\n\t\tif ( option.disabled ) $(element).prop ( \"disabled\", true )\n\t\treturn element\n\t})\n\t$(select).append ( options )\n\treturn select\n}\n\nfunction createTextarea ( name, placeholder = \"\", value = \"\" ) {\n\tlet textarea = $(`<textarea name=\"${name}\" placeholder=\"${placeholder}\" >`).text ( value )\n\treturn textarea\n}\n\nfunction createSwitch ( name, state = false ) {\n\treturn $(`<label class=\"switch\" >`)\n\t\t.append ( $(`<input type=\"checkbox\" name=\"${name}\" >`).prop ( \"checked\", state ) )\n\t\t.append ( $(`<span class=\"knob\" >`) )\n}\n\nfunction createIconButton ( className, icon ) {\n\treturn $(`<div class=\"icon-button cloudflare-font ${className}\" >`).html ( icon )\n}\n\nmodule.exports = {\n\tModal: Modal,\n\tconfirm: confirm,\n\tcreateInput: createInput,\n\tcreateSelect: createSelect,\n\tcreateRows: createRows,\n\tcreateRow: createRow,\n\tcreateTextarea: createTextarea,\n\tcreateSwitch: createSwitch,\n\tcreateIconButton: createIconButton\n}\n","JetRails_Cloudflare/js/dns/cname_flattening.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.dns.cname_flattening.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.dns.cname_flattening.update\", selectElement.update )\n","JetRails_Cloudflare/js/dns/cloudflare_nameservers.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\n\n$(document).on ( \"cloudflare.dns.cloudflare_nameservers.initialize\", function ( event, data ) {\n\t$(data.section).find (\"table tr:not(:first)\").remove ()\n\tdata.response.result.map ( entry => {\n\t\tvar row = $(\"<tr>\")\n\t\t$( row ).append ( $(\"<td>\")\n\t\t\t.attr ( \"class\", \"type_cfns\" )\n\t\t\t.text ( \"NS\" )\n\t\t)\n\t\t$( row ).append ( $(\"<td>\").text ( entry ) )\n\t\t$(data.section).find (\"table\").append ( row )\n\t})\n})\n","JetRails_Cloudflare/js/dns/custom_nameservers.js":"const notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\nconst common = require (\"cloudflare/common\")\nconst global = require (\"cloudflare/global\")\n\n$(document).on ( \"cloudflare.dns.custom_nameservers.initialize\", function ( event, data ) {\n\tvar table = $(data.section).find (\"table.nameservers\")\n\tvar records = Object.keys ( data.response.result )\n\t$(table).find (\"tbody > tr\").remove ()\n\t$(table).hide ()\n\t$(data.section).find (\"#action\")\n\t\t.data ( \"data\", records )\n\t\t.val (`${ records.length > 0 ? \"Edit\" : \"Add\"} Custom Nameservers`)\n\tif ( records.length > 0 ) {\n\t\t$(table).show ()\n\t\trecords.map ( record => {\n\t\t\tvar nameserver = data.response.result [ record ]\n\t\t\t$(table).find (\"tbody\").append ( $(\"<tr>\")\n\t\t\t\t.data ( \"nameserver\", nameserver )\n\t\t\t\t.append ( $(\"<td>\").text ( record ) )\n\t\t\t\t.append ( $(\"<td>\").text ( nameserver.ipv4 ) )\n\t\t\t\t.append ( $(\"<td>\").text ( nameserver.ipv6 ) )\n\t\t\t)\n\t\t})\n\t}\n})\n\n$(document).on ( \"cloudflare.dns.custom_nameservers.edit\", function ( event, data ) {\n\tvar records = $(data.trigger).data (\"data\") || []\n\tvar section = data.section\n\tvar confirm = new modal.Modal ( 800 )\n\tvar yourSite = global.getDomainName ()\n\tconfirm.addTitle (\"Custom Nameservers\")\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Nameservers (Separate URLS by new line)\") ),\n\t\tmodal.createTextarea ( \"nameservers\", `Example: ns1.${yourSite}\\nns2.${yourSite}`, records.join (\"\\n\") ),\n\t\ttrue\n\t)\n\tvar saveCallback = components => {\n\t\t$(components.modal).addClass (\"loading\")\n\t\tvar nameservers = $(components.container).find (\"[name='nameservers']\").val ()\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"nameservers\": nameservers.split (\"\\n\")\n\t\t\t\t\t.map ( e => e.trim () )\n\t\t\t\t\t.filter ( e => e.length > 0 )\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".custom_nameservers\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => { saveCallback ( components ) } })\n\tconfirm.show ()\n})\n","JetRails_Cloudflare/js/dns/dns_records.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\nconst global = require (\"cloudflare/global\")\n\nfunction createTtlSelect ( selected = \"1\" ) {\n\tlet select = modal.createSelect ( \"ttl_value\", [\n\t\t{ label: secondsToAppropriate ( 1 ), value: 1 },\n\t\t{ label: secondsToAppropriate ( 120 ), value: 120 },\n\t\t{ label: secondsToAppropriate ( 300 ), value: 300 },\n\t\t{ label: secondsToAppropriate ( 600 ), value: 600 },\n\t\t{ label: secondsToAppropriate ( 900 ), value: 900 },\n\t\t{ label: secondsToAppropriate ( 1800 ), value: 1800 },\n\t\t{ label: secondsToAppropriate ( 3600 ), value: 3600 },\n\t\t{ label: secondsToAppropriate ( 7200 ), value: 7200 },\n\t\t{ label: secondsToAppropriate ( 18000 ), value: 18000 },\n\t\t{ label: secondsToAppropriate ( 43200 ), value: 43200 },\n\t\t{ label: secondsToAppropriate ( 86400 ), value: 86400 }\n\t])\n\treturn select.val ( selected )\n}\n\nfunction secondsToAppropriate ( seconds ) {\n\tif ( seconds == 1 ) return \"Automatic\"\n\tif ( seconds < 60 ) return seconds + \" seconds\"\n\tif ( seconds == 60 ) return \"1 minute\"\n\tif ( seconds < 3600 ) return seconds / 60 + \" minutes\"\n\tif ( seconds == 3600 ) return \"1 hour\"\n\tif ( seconds < 216000 ) return seconds / 3600 + \" hours\"\n\tif ( seconds = 216000 ) return \"1 day\"\n\treturn seconds / 216000 + \" days\"\n}\n\nfunction filterResults ( term, results ) {\n\tlet searchTerm = ( term + \"\" ).toLowerCase ().trim ()\n\treturn !results ? [] : results.filter ( entry => {\n\t\treturn ( entry.name + \"\" ).toLowerCase ().indexOf ( searchTerm ) > -1 ||\n\t\t\t   ( entry.content + \"\" ).toLowerCase ().indexOf ( searchTerm ) > -1\n\t})\n}\n\nfunction sortResults ( section, results ) {\n\tlet pivot = $(section).find (\".sort-asc, .sort-desc\")\n\tif ( pivot.length > 0 ) {\n\t\tlet access = ( obj, path ) => {\n\t\t\treturn path.reduce ( ( o, i ) => o [ i ], obj )\n\t\t}\n\t\tlet attribute = $(pivot).data (\"sort\").split (\".\")\n\t\tlet isAsc = $(pivot).hasClass (\"sort-asc\") === true\n\t\tresults = results.sort ( ( a, b ) => {\n\t\t\tlet aValue = ( access ( a, attribute ) + \"\").toLowerCase ()\n\t\t\tlet bValue = ( access ( b, attribute ) + \"\").toLowerCase ()\n\t\t\tif ( isAsc ) {\n\t\t\t\tif ( aValue < bValue ) return -1\n\t\t\t\tif ( aValue > bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( aValue > bValue ) return -1\n\t\t\t\tif ( aValue < bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t})\n\t}\n\treturn results\n}\n\nfunction populateResult ( section ) {\n\tlet results = $(section).data (\"result\")\n\tresults = filterResults ( $(section).find (\".search\").val (), results )\n\tresults = sortResults ( section, results )\n\tlet table = $(section).find (\"table > tbody\")\n\t$(table).children ().remove ()\n\t$(section).data ( \"item-count\", results.length )\n\tlet itemCount = $(section).data (\"item-count\")\n\tlet page = $(section).data (\"page\")\n\tlet pageSize = $(section).data (\"page-size\")\n\tlet pageCount = Math.ceil ( itemCount / pageSize )\n\tlet from = pageSize * ( page - 1 ) + 1\n\tif ( itemCount == 0 ) from = 0\n\tlet to = Math.min ( pageSize * page, itemCount )\n\t$(section).find (\".pagination_container .pages\").html (\"\")\n\t$(section).find (\".pagination_container .showing\").html (`${from} - ${to} of ${itemCount} records`)\n\tlet pages = $(section).find (\".pagination_container .pages\")\n\tlet createPage = ( number ) => {\n\t\treturn $(`<span class=\"page\" >`)\n\t\t\t.addClass ( number == page ? \"\" : \"trigger\" )\n\t\t\t.addClass ( number == page ? \"current\" : \"\" )\n\t\t\t.data ( \"target\", \"page\" )\n\t\t\t.data ( \"page\", number )\n\t\t\t.text ( number )\n\t}\n\tif ( pageCount > 7 ) {\n\t\t$(pages).append ( createPage ( 1 ) )\n\t\tif ( pageCount > 7 && page > 4 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\tlet start = Math.max ( 2, page - 3 )\n\t\tlet end = Math.min ( pageCount - 1, page + 3 )\n\t\tif ( page - 4 < 0 ) end += Math.abs ( page - 4 )\n\t\tif ( page + 3 > pageCount ) start -= page + 3 - pageCount\n\t\tif ( pageCount <= 7 && page < 4 ) end -= 1\n\t\tif ( pageCount <= 7 && page > 4 ) start += 1\n\t\tfor ( let i = start; i <= end; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t\tif ( pageCount > 7 && page < pageCount - 3 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\t$(pages).append ( createPage ( pageCount ) )\n\t}\n\telse {\n\t\tfor ( let i = 1; i <= pageCount; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t}\n\tif ( page == 1 ) {\n\t\t$(section).find (\".previous\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".previous\").removeClass (\"disabled\")\n\t}\n\tif ( page == pageCount ) {\n\t\t$(section).find (\".next\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".next\").removeClass (\"disabled\")\n\t}\n\tconst imageBase = global.getSkinBaseUrl ()\n\tfor ( let i = 0; i < results.length; i++ ) {\n\t\tif ( i >= ( page - 1 ) * pageSize && i < page * pageSize ) {\n\t\t\tlet entry = results [ i ]\n\t\t\tlet formattedName = [ \"CAA\", \"SRV\" ].indexOf ( entry.type ) > -1 ? entry.name : entry.name.replace ( /\\.[^.]+\\.[^.]+$/, \"\" )\n\t\t\tvar formattedContent = entry.content\n\t\t\tif ( entry.type == \"SRV\" ) {\n\t\t\t\tformattedName = formattedName.replace ( /\\.$/, \"\" ) + \".\"\n\t\t\t\tformattedContent = `SRV ${entry.data.priority} ${entry.data.weight} ${entry.data.port} ${entry.data.target}.`\n\t\t\t}\n\t\t\telse if ( entry.type == \"LOC\" ) {\n\t\t\t\tformattedContent = \"IN LOC \" + entry.content.replace ( /(\\d\\.[0-9]*[1-9])0*|(\\d)\\.0+/g, \"$1$2\" )\n\t\t\t}\n\t\t\tvar row = $(\"<tr>\")\n\t\t\t$(row).data ( \"entry\", entry )\n\t\t\t$( row ).append ( $(\"<td>\")\n\t\t\t\t.attr ( \"class\", \"type type_\" + entry.type.toLowerCase () )\n\t\t\t\t.text ( entry.type )\n\t\t\t)\n\t\t\t$( row ).append ( $(\"<td>\")\n\t\t\t\t.attr ( \"class\", \"name\" )\n\t\t\t\t.html ( $(\"<div class='editable' contenteditable='true' >\")\n\t\t\t\t\t.text ( formattedName )\n\t\t\t\t\t.attr ( \"name\", \"content\" )\n\t\t\t\t\t.addClass ( \"show-form-\" + entry.type.toLowerCase () + \"-name\" )\n\t\t\t\t\t.data ( \"old\", formattedName )\n\t\t\t\t\t.val ( formattedName )\n\t\t\t\t)\n\t\t\t)\n\t\t\t$( row ).append ( $(\"<td>\")\n\t\t\t\t.attr ( \"class\", \"value\" )\n\t\t\t\t.html ( $(\"<div class='editable' contenteditable='true' >\")\n\t\t\t\t\t.text ( formattedContent )\n\t\t\t\t\t.addClass ( \"type_\" + entry.type.toLowerCase () )\n\t\t\t\t\t.attr ( \"name\", \"content\" )\n\t\t\t\t\t.addClass ( \"show-form-\" + entry.type.toLowerCase () )\n\t\t\t\t\t.data ( \"old\", formattedContent )\n\t\t\t\t\t.val ( formattedContent )\n\t\t\t\t)\n\t\t\t\t.append ( entry.type == \"MX\" ? `<div class=\"priority\" >${entry.priority}</div>` : \"\" )\n\t\t\t)\n\t\t\t$( row ).append ( $(\"<td>\")\n\t\t\t\t.attr ( \"class\", \"ttl\" )\n\t\t\t\t.text ( secondsToAppropriate ( entry.ttl ) )\n\t\t\t\t.data ( \"ttl\", entry.ttl )\n\t\t\t)\n\t\t\t$( row ).append ( $(\"<td>\")\n\t\t\t\t.attr ( \"class\", \"status\" )\n\t\t\t\t.html ( entry.proxiable ? entry.proxied ? \"<img class='proxied change' src='\" + imageBase + \"/images/proxied_on.svg' />\" : \"<img class='proxied change' src='\" + imageBase + \"/images/proxied_off.svg' />\" : \"\" )\n\t\t\t)\n\t\t\t$( row ).append ( $(\"<td>\").attr ( \"class\", \"delete\" )\n\t\t\t\t.html ( $(\"<div class='trigger delete_entry cloudflare-font' >\")\n\t\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t.data ( \"type\", entry.type )\n\t\t\t\t\t.data ( \"name\", entry.name )\n\t\t\t\t\t.html (\"&#xF01A;\")\n\t\t\t\t)\n\t\t\t)\n\t\t\trow.appendTo ( table )\n\t\t}\n\t}\n\tif ( results.length == 0 ) {\n\t\t$(table).append ( $(\"<tr>\").append ( $(\"<td colspan='6' >\").text (\"No DNS records found.\") ) )\n\t}\n}\n\n$(document).on ( \"cloudflare.dns.dns_records.initialize\", function ( event, data ) {\n\t$(data.section).data ( \"result\", data.response.result )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.delete\", function ( event, data ) {\n\tvar id = $(data.trigger).data (\"id\")\n\tvar type = $(data.trigger).data (\"type\").toUpperCase ()\n\tvar name = $(data.trigger).data (\"name\")\n\tvar confirm = new modal.Modal ()\n\tconfirm.addTitle (\"Confirm\")\n\tconfirm.addElement ( $(\"<p>\").text (`Are you sure you want to delete the ${type} Record?`) )\n\tconfirm.addElement ( $(\"<li>\").append ( $(\"<strong>\").text ( name ) ) )\n\tconfirm.addButton ({ label: \"OK\", callback: ( components ) => {\n\t\tconfirm.close ()\n\t\t$(data.section).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".dns_records\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.create\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"type\": $(data.section).find (\"select.type\").val (),\n\t\t\t\"name\": $(data.section).find (\"div.active > input[name='name']\").val (),\n\t\t\t\"content\": $(data.section).find (\"div.active > input[name='content']\").val (),\n\t\t\t\"ttl\": $(data.section).find (\"select.ttl\").val (),\n\t\t\t\"proxied\": $(data.section).find (\".proxied.add\").data (\"value\"),\n\t\t\t\"priority\": $(data.section).find (\".priority.add\").val ()\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\tnotification.showMessages ( response )\n\t\t\tif ( response.success ) {\n\t\t\t\t$(data.section).find (\"[name='name'],[name='content']\").val (\"\")\n\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\tcommon.loadSections (\".dns.dns_records\")\n\t\t\t}\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.search\", function ( event, data ) {\n\t$(data.section).data ( \"page\", 1 )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"focus\", \".show-form-mx\", function () {\n\tvar confirm = new modal.Modal ()\n\tlet oldPriority = parseInt ( $(document).find (\".priority.add\").val () ) || 1\n\tlet oldValue = $(this).val ()\n\tif ( $(this).hasClass (\"editable\") ) {\n\t\toldPriority = $(this).parent ().find (\".priority\").text ()\n\t}\n\tconfirm.addTitle ( \"Add Record: MX content\", $(this).val () )\n\tconfirm.addRow ( \"Server\", $(\"<input type='text' placeholder='Mail server' name='server' >\").val ( oldValue ) )\n\tconfirm.addRow ( \"Priority\", $(\"<input type='text' placeholder='1' name='priority' >\").val ( oldPriority ) )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tvar that = this\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar priority = $( components.container ).find (\"input[name='priority']\").val ()\n\t\tlet newValue = $( components.container ).find (\"input[name='server']\").val ()\n\t\tif ( priority.trim () === \"\" ) priority = \"1\"\n\t\t$(document).find (\".priority.add\").val ( priority )\n\t\t$(that).data ( \"priority\", parseInt ( priority ) )\n\t\t$(that).parent ().find (\".priority\").text ( parseInt ( priority ) )\n\t\t$(that).val ( newValue ).text ( newValue )\n\t\tif ( $(this).hasClass (\"editable\") && ( oldPriority != parseInt ( priority ) ) || newValue != oldValue ) {\n\t\t\tlet tempVal = $(that).val () + \" \"\n\t\t\t$(that).val ( tempVal ).text ( tempVal ).trigger (\"change\")\n\t\t}\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-loc\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ()\n\tvar latitude = modal.createRows (\n\t\tmodal.createRow ( \"degrees\", modal.createInput ( \"text\", \"lat-degrees\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"minutes\", modal.createInput ( \"text\", \"lat-minutes\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"seconds\", modal.createInput ( \"text\", \"lat-seconds\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"direction\", modal.createSelect ( \"lat-direction\", [\n\t\t\t{ \"value\": \"N\", \"label\": \"North\", \"selected\": true },\n\t\t\t{ \"value\": \"S\", \"label\": \"South\" }\n\t\t]))\n\t)\n\tvar longitude = modal.createRows (\n\t\tmodal.createRow ( \"degrees\", modal.createInput ( \"text\", \"lon-degrees\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"minutes\", modal.createInput ( \"text\", \"lon-minutes\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"seconds\", modal.createInput ( \"text\", \"lon-seconds\", \"\", \"0\" ) ),\n\t\tmodal.createRow ( \"direction\", modal.createSelect ( \"lon-direction\", [\n\t\t\t{ \"value\": \"W\", \"label\": \"West\", \"selected\": true },\n\t\t\t{ \"value\": \"E\", \"label\": \"East\" }\n\t\t]))\n\t)\n\tvar percision = modal.createRows (\n\t\tmodal.createRow ( \"horizontal precision\", modal.createInput ( \"text\", \"pre-horizontal\", false, \"0\" ) ),\n\t\tmodal.createRow ( \"vertical precision\", modal.createInput ( \"text\", \"pre-vertical\", false, \"0\" ) )\n\t)\n\tvar altitude = modal.createInput ( \"text\", \"altitude\", false, \"0\" )\n\tvar size = modal.createInput ( \"text\", \"size\", false, \"0\" )\n\tvar matches = $(this).val ().match (/^IN LOC ([^ ]+) ([^ ]+) ([^ ]+) ([NS]) ([^ ]+) ([^ ]+) ([^ ]+) ([WE]) ([^ ]+)m ([^ ]+)m ([^ ]+)m ([^ ]+)m$/)\n\tif ( matches ) {\n\t\t$(latitude).find (\"[name='lat-degrees']\").val ( matches [ 1 ] )\n\t\t$(latitude).find (\"[name='lat-minutes']\").val ( matches [ 2 ] )\n\t\t$(latitude).find (\"[name='lat-seconds']\").val ( matches [ 3 ] )\n\t\t$(latitude).find (\"[name='lat-direction']\").val ( matches [ 4 ] )\n\t\t$(longitude).find (\"[name='lon-degrees']\").val ( matches [ 5 ] )\n\t\t$(longitude).find (\"[name='lon-minutes']\").val ( matches [ 6 ] )\n\t\t$(longitude).find (\"[name='lon-seconds']\").val ( matches [ 7 ] )\n\t\t$(longitude).find (\"[name='lon-direction']\").val ( matches [ 8 ] )\n\t\t$(altitude).val ( matches [ 9 ] )\n\t\t$(size).val ( matches [ 10 ] )\n\t\t$(percision).find (\"[name='pre-horizontal']\").val ( matches [ 11 ] )\n\t\t$(percision).find (\"[name='pre-vertical']\").val ( matches [ 12 ] )\n\t}\n\tconfirm.addTitle ( \"Add Record: LOC content\", $(this).val () )\n\tconfirm.addRow ( \"Latitude\", latitude, true )\n\tconfirm.addRow ( \"Longitude\", longitude, true )\n\tconfirm.addRow ( \"Altitude (in meters)\", altitude, true )\n\tconfirm.addRow ( \"Size (in meters)\", size, true )\n\tconfirm.addRow ( \"Percision (in meters)\", percision, true )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar latDegrees = $( components.container ).find (\"[name='lat-degrees']\").val ().trim ()\n\t\tvar latMinutes = $( components.container ).find (\"[name='lat-minutes']\").val ().trim ()\n\t\tvar latSeconds = $( components.container ).find (\"[name='lat-seconds']\").val ().trim ()\n\t\tvar latDirection = $( components.container ).find (\"[name='lat-direction']\").val ()\n\t\tvar lonDegrees = $( components.container ).find (\"[name='lon-degrees']\").val ().trim ()\n\t\tvar lonMinutes = $( components.container ).find (\"[name='lon-minutes']\").val ().trim ()\n\t\tvar lonSeconds = $( components.container ).find (\"[name='lon-seconds']\").val ().trim ()\n\t\tvar lonDirection = $( components.container ).find (\"[name='lon-direction']\").val ()\n\t\tvar altitude = $( components.container ).find (\"[name='altitude']\").val ().trim ()\n\t\tvar size = $( components.container ).find (\"[name='size']\").val ().trim ()\n\t\tvar preHorizontal = $( components.container ).find (\"[name='pre-horizontal']\").val ().trim ()\n\t\tvar preVertical = $( components.container ).find (\"[name='pre-vertical']\").val ().trim ()\n\t\tlet newValue = `IN LOC ${latDegrees} ${latMinutes} ${latSeconds} ${latDirection} ${lonDegrees} ${lonMinutes} ${lonSeconds} ${lonDirection} ${altitude}m ${size}m ${preHorizontal}m ${preVertical}m`\n\t\t\t.replace ( /(\\d\\.[0-9]*[1-9])0*|(\\d)\\.0+/g, \"$1$2\" )\n\t\t$(that).val ( newValue ).text ( newValue ).trigger (\"change\")\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-srv-name\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ()\n\tvar service = modal.createInput ( \"text\", \"service\", \"_sip\" )\n\tvar protocol = $(\"<select name='protocol' ><option value='_udp' >UDP</option><option value='_tcp' >TCP</option><option value='_tls' selected >TLS</option><select/>\")\n\tvar name = modal.createInput ( \"text\", \"name\", global.getDomainName (), global.getDomainName () )\n\tlet oldValue = `${service.val ()}.${protocol.val ()}.${name.val ()}.`\n\tif ( $(that).hasClass (\"editable\") ) {\n\t\toldValue = $(that).text ()\n\t}\n\tvar matches = $(this).val ().match (/^([^.]+)\\.([^.]+)\\.(.+)\\.$/)\n\tif ( matches ) {\n\t\t$(service).val ( matches [ 1 ] )\n\t\t$(protocol).val ( matches [ 2 ] )\n\t\t$(name).val ( matches [ 3 ] )\n\t}\n\tconfirm.addTitle ( \"Add Record: SRV name\", $(this).val () )\n\tconfirm.addRow ( \"Service name\", service )\n\tconfirm.addRow ( \"Protocol\", protocol )\n\tconfirm.addRow ( \"Name\", name )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar service = $( components.container ).find (\"input[name='service']\").val ().trim () || \"_sip\"\n\t\tvar protocol = $( components.container ).find (\"select[name='protocol']\").val ().trim ()\n\t\tvar name = $( components.container ).find (\"input[name='name']\").val ().trim () || global.getDomainName ()\n\t\tlet newValue = `${service}.${protocol}.${name}.`\n\t\t$(that).val ( newValue ).text ( newValue )\n\t\tif ( $(that).hasClass (\"editable\") && oldValue != newValue ) {\n\t\t\t$(that).trigger (\"change\")\n\t\t}\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-srv\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ()\n\tvar priority = modal.createInput ( \"text\", \"priority\", \"1\", \"1\" )\n\tvar weight = modal.createInput ( \"text\", \"weight\", \"10\", \"1\" )\n\tvar port = modal.createInput ( \"text\", \"port\", \"8444\", \"1\" )\n\tvar target = modal.createInput ( \"text\", \"target\", \"example.com\", global.getDomainName () )\n\tvar matches = $(this).val ().match (/^SRV ([^ ]+) ([^ ]+) ([^ ]+) (.+)\\.$/)\n\tif ( matches ) {\n\t\t$(priority).val ( matches [ 1 ] )\n\t\t$(weight).val ( matches [ 2 ] )\n\t\t$(port).val ( matches [ 3 ] )\n\t\t$(target).val ( matches [ 4 ] )\n\t}\n\tlet oldValue = $(that).val ()\n\tif ( $(that).hasClass (\"editable\") ) {\n\t\toldValue = $(that).text ()\n\t}\n\tconfirm.addTitle ( \"Add Record: SRV content\", $(this).val () )\n\tconfirm.addRow ( \"Priority\", priority )\n\tconfirm.addRow ( \"Weight\", weight )\n\tconfirm.addRow ( \"Port\", port )\n\tconfirm.addRow ( \"Target\", target )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar priority = $( components.container ).find (\"input[name='priority']\").val ().trim () || \"1\"\n\t\tvar weight = $( components.container ).find (\"input[name='weight']\").val ().trim () || \"1\"\n\t\tvar port = $( components.container ).find (\"input[name='port']\").val ().trim () || \"1\"\n\t\tvar target = $( components.container ).find (\"input[name='target']\").val ().trim () || global.getDomainName ()\n\t\tlet newValue = `SRV ${priority} ${weight} ${port} ${target}.`\n\t\t$(that).val ( newValue ).text ( newValue )\n\t\tif ( $(that).hasClass (\"editable\") && oldValue != newValue ) {\n\t\t\t$(that).trigger (\"change\")\n\t\t}\n\t\telse {\n\t\t\t$(document).find (\".priority.add\").val ( priority )\n\t\t}\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-spf\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ()\n\tvar policy = modal.createTextarea ( \"policy\", \"Policy parameters\", $(this).val () )\n\tconfirm.addTitle ( \"Add Record: SPF content\", $(this).val () )\n\tconfirm.addRow ( \"Content\", policy, true )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar policy = $( components.container ).find (\"[name='policy']\").val ()\n\t\t$(that).val ( policy ).text ( policy ).trigger (\"change\")\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-txt\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ()\n\tvar text = modal.createTextarea ( \"text\", \"Text\", $(this).val () )\n\tconfirm.addTitle ( \"Add Record: TXT content\", $(this).val () )\n\tconfirm.addRow ( \"Content\", text, true )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar text = $( components.container ).find (\"[name='text']\").val ()\n\t\t$(that).val ( text ).text ( text ).trigger (\"change\")\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"focus\", \".show-form-caa\", function () {\n\tvar that = this\n\tvar confirm = new modal.Modal ( true )\n\tvar tag = modal.createSelect ( \"tag\", [\n\t\t{ label: \"Only allow specific hostnames\", value: \"issue\", selected: true },\n\t\t{ label: \"Only allow wildcards\", value: \"issuewild\" },\n\t\t{ label: \"Send violation reports to URL (http:, https:, or mailto:)\", value: \"iodef\" }\n\t])\n\tvar value = modal.createInput ( \"text\", \"value\", \"Certificate authority (CA) domain name\" )\n\tlet oldValue = $(that).hasClass (\".editable\") ? $(this).text () : $(this).val ()\n\tvar matches = oldValue.match (/0 ((?:issue|issuewild|iodef)) \\\"(.+)\\\"/)\n\tif ( matches ) {\n\t\t$(tag).val ( matches [ 1 ] )\n\t\t$(value).val ( matches [ 2 ] )\n\t}\n\tconfirm.addTitle ( \"Add Record: CAA content\", $(this).val () )\n\tconfirm.addRow ( \"Tag\", tag )\n\tconfirm.addRow ( \"Value\", value )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tvar tag = $( components.container ).find (\"[name='tag']\").val ().trim ()\n\t\tvar value = $( components.container ).find (\"[name='value']\").val ().trim ()\n\t\tlet newValue = `0 ${tag} \"${value}\"`\n\t\t$(that).val ( newValue ).text ( newValue ).trigger (\"change\")\n\t\tconfirm.close ()\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.page\", function ( event, data ) {\n\t$(data.section).data ( \"page\", $(data.trigger).data (\"page\") )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.next_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") + 1 <= Math.ceil ( $(data.section).data (\"item-count\") / $(data.section).data (\"page-size\") ) ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") + 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.previous_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") - 1 > 0 ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") - 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.sort\", function ( event, data ) {\n\t$(data.section).data ( \"page\", 1 )\n\t$(data.section).data ( \"sort\", $(data.trigger).data (\"sort\") )\n\tif ( $(data.trigger).hasClass (\"sort-asc\") ) {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).removeClass (\"sort-asc\").addClass (\"sort-desc\")\n\t\t$(data.section).data ( \"direction\", \"desc\" )\n\t}\n\telse if ( $(data.trigger).hasClass (\"sort-desc\") ) {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.section).data ( \"direction\", \"\" )\n\t}\n\telse {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).addClass (\"sort-asc\")\n\t\t$(data.section).data ( \"direction\", \"asc\" )\n\t}\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.export\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key },\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\tlet blob = new Blob ( [ response ], { type: \"octet/stream\" } )\n\t\t\tlet url = window.URL.createObjectURL ( blob )\n\t\t\tlet a = document.createElement (\"a\")\n\t\t\tdocument.body.appendChild ( a )\n\t\t\ta.style = \"display: none\"\n\t\t\ta.href = url\n\t\t\ta.download = global.getDomainName () + \".txt\"\n\t\t\ta.click\u00a0()\n\t\t\twindow.URL.revokeObjectURL ( url )\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.dns.dns_records.upload\", function ( event, data ) {\n\tlet prompt = new modal.Modal ()\n\tlet form = $(`<form method=\"POST\" enctype=\"multipart/form-data\" >`)\n\t\t.css ( \"display\", \"none\" )\n\tlet fileInput = $(\"<input id='file_select' >\")\n\t\t.prop ( \"type\", \"file\" )\n\t\t.prop ( \"name\", \"file\" )\n\tlet submitInput = $(\"<input>\")\n\t\t.prop ( \"type\", \"submit\" )\n\t\t.prop ( \"name\", \"submit\" )\n\t\t.css ({ \"display\": \"none\" })\n\tlet fileButton = modal.createInput ( \"button\", \"select\", \"\", \"Select a file\" )\n\t\t.on ( \"click\", () => $(fileInput).trigger (\"click\") )\n\tlet fileName = modal.createInput ( \"text\", \"filename\", \"\", \"\" )\n\t\t.prop ( \"disabled\", true )\n\t\t.css ( \"margin-left\", \"10px\" )\n\t\t.on ( \"click\", () => $(fileInput).trigger (\"click\") )\n\t$(fileInput).on ( \"change\", () => {\n\t\tlet newVal = $(fileInput).val ().split (\"\\\\\").pop ()\n\t\t$(fileName).val ( newVal == null ? \"\" : newVal )\n\t})\n\tlet messagesContainer = $(\"<div>\").addClass (\"message_container\")\n\t$(form).append ( fileInput ).append ( submitInput )\n\t\t.on ( \"submit\", ( event ) => {\n\t\t\tevent.preventDefault ()\n\t\t\t$(prompt.components.modal).addClass (\"loading\")\n\t\t\tlet formData = new FormData ( form [ 0 ] )\n\t\t\tformData.set ( \"form_key\", data.form.key )\n\t\t\tformData.set ( \"file\", ($(fileInput)) [ 0 ].files [ 0 ] )\n\t\t\t$.ajax ({\n\t\t\t\turl: data.form.endpoint,\n\t\t\t\ttype: \"POST\",\n\t\t\t\tdata: formData,\n\t\t\t\tcache: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tprocessData: false,\n\t\t\t\tsuccess: ( response ) => {\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t\tif ( response.success && response.result.recs_added == response.result.total_records_parsed ) {\n\t\t\t\t\t\tprompt.close ()\n\t\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\t\tcommon.loadSections (\".dns.dns_records\")\n\t\t\t\t\t}\n\t\t\t\t\telse if ( response.success ) {\n\t\t\t\t\t\t$(prompt.components.modal).removeClass (\"loading\")\n\t\t\t\t\t\t$(messagesContainer).html ( $(\"<div>\")\n\t\t\t\t\t\t\t.text (`${response.result.recs_added} record(s) added`)\n\t\t\t\t\t\t\t.addClass (\"status\")\n\t\t\t\t\t\t)\n\t\t\t\t\t\tresponse.messages.map ( message => {\n\t\t\t\t\t\t\t$(messagesContainer).append ( $(\"<div>\").text ( message.message ) )\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif ( response.result.recs_added > 0 ) {\n\t\t\t\t\t\t\tcommon.loadSections (\".dns.dns_records\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(prompt.components.modal).removeClass (\"loading\")\n\t\t\t\t\t\tprompt.close ()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\tprompt.addTitle (\"Upload DNS File\")\n\tprompt.addElement ( $(\"<p>\").text (\"If you have a DNS file that is in the BIND format, you can upload it here and we will do our best to parse it so you don't have to retype it.\") )\n\tprompt.addElement ( form )\n\tprompt.addElement ( $(\"<div>\")\n\t\t.append ( fileButton )\n\t\t.append ( fileName )\n\t\t.css ({\n\t\t\tdisplay: \"flex\",\n\t\t\tpadding: \"22.5px\",\n\t\t\tbackground: \"#F5F5F5\",\n\t\t\tborder: \"solid 1px #DEDEDE\"\n\t\t})\n\t)\n\tprompt.addElement ( messagesContainer )\n\tprompt.addButton ({ label: \"Cancel\", class: \"gray\", callback: prompt.close })\n\tprompt.addButton ({ label: \"Upload\", callback: () => $(form).trigger (\"submit\") })\n\tprompt.show ()\n})\n\n$(document).on ( \"blur\", \".editable\", ( event ) => {\n\tlet target = event.target\n\tlet oldValue = $(target).data (\"old\")\n\tlet newValue = $(target).text ()\n\tif ( oldValue !== newValue ) {\n\t\t$(target).trigger ( \"change\", { target } )\n\t}\n})\n\n$(document).on ( \"change\", \".editable, .proxied, td.ttl\", ( event ) => {\n\tlet target = event.target\n\tlet oldValue = $(target).data (\"old\")\n\tlet newValue = $(target).text ()\n\tif ( oldValue !== newValue || $(target).hasClass (\"proxied\") ) {\n\t\t$(target).data ( \"old\", newValue )\n\t\tlet entry = $(event.target).closest (\"tr\")\n\t\tlet id = $(entry).data (\"entry\").id\n\t\tlet type = $(entry).data (\"entry\").type\n\t\tlet name = $(entry).find (\"td.name\").text ()\n\t\tlet content = $(entry).find (\"td.value > .editable\").text ()\n\t\tlet ttl = $(entry).find (\".ttl\").data (\"ttl\")\n\t\tlet proxied = $(entry).find (\".proxied\").length > 0 &&\n\t\t\t\t\t  $(entry).find (\".proxied\").prop (\"src\").indexOf (\"proxied_on\") >= 0\n\t\tlet priority = $(entry).find (\".value .priority\").text () || 0\n\t\tlet section = $(entry).closest (\"section\")\n\t\tlet endpoint = $(section).data (\"endpoint\").replace ( /(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/, \"$1edit$3\" )\n\t\tlet formKey = $(section).data (\"form-key\")\n\t\t$(section).addClass (\"loading\")\n\t\t$(section).find (\"[contenteditable]\").prop ( \"contenteditable\", false )\n\t\t$.ajax ({\n\t\t\turl: endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": formKey,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"type\": type,\n\t\t\t\t\"name\": name,\n\t\t\t\t\"content\": content,\n\t\t\t\t\"ttl\": ttl,\n\t\t\t\t\"proxied\": proxied,\n\t\t\t\t\"priority\": priority == \"\" ? 0 : priority\n\t\t\t},\n\t\t\tsuccess: ( response ) => {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t$(section).find (\"[contenteditable]\").prop ( \"contenteditable\", true )\n\t\t\t\tcommon.loadSections (\".dns.dns_records\")\n\t\t\t}\n\t\t})\n\t}\n})\n\n$(document).on ( \"click\", \".cloudflare td.ttl\", ( event ) => {\n\tif ( $(event.target).hasClass (\"ttl\") ) {\n\t\tlet target = $(event.target)\n\t\tlet entry = $(target).closest (\"tr\")\n\t\tlet proxied = $(entry).find (\".proxied\")\n\t\tif ( proxied.length == 0 || $(proxied).eq ( 0 ).prop (\"src\").indexOf (\"proxied_off\") > -1 ) {\n\t\t\tlet select = createTtlSelect ( $(target).data (\"ttl\") )\n\t\t\t$(select).on ( \"change\", () => {\n\t\t\t\tlet value = $(select).val ()\n\t\t\t\t$(select).trigger (\"blur\")\n\t\t\t\t$(target).data ( \"ttl\", value )\n\t\t\t\t$(target).html ( secondsToAppropriate ( value ) )\n\t\t\t\t$(target).trigger (\"change\")\n\t\t\t})\n\t\t\t$(target).html ( select.focus () )\n\t\t}\n\t}\n})\n","JetRails_Cloudflare/js/scrape_shield/server_side_excludes.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.scrape_shield.server_side_excludes.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.scrape_shield.server_side_excludes.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/scrape_shield/email_address_obfuscation.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.scrape_shield.email_address_obfuscation.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.scrape_shield.email_address_obfuscation.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/scrape_shield/hotlink_protection.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.scrape_shield.hotlink_protection.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.scrape_shield.hotlink_protection.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/overview/status.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\n\n$(document).on ( \"cloudflare.overview.status.initialize\", function ( event, data ) {\n\tif ( data.response && data.response.result && data.response.result.paused ) {\n\t\t$(data.section).find (\".section_title\").text (\"Resume\")\n\t\t$(data.section).find (\".wrapper_left > p\").text (\"Cloudflare has been temporarily deactivated for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive the performance and security benefits. All of your settings have been saved.\")\n\t\t$(data.section).find (\".trigger\").val (\"Resume\")\n\t\t$(data.section).find (\".trigger\").data ( \"target\", \"resume\" )\n\t}\n\telse {\n\t\t$(data.section).find (\".section_title\").text (\"Pause Website\")\n\t\t$(data.section).find (\".wrapper_left > p\").text (\"Pause will temporarily deactivate Cloudflare for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive performance and security benefits. All of your settings will be saved.\")\n\t\t$(data.section).find (\".trigger\").val (\"Pause\")\n\t\t$(data.section).find (\".trigger\").data ( \"target\", \"pause\" )\n\t}\n})\n\n$(document).on ( \"cloudflare.overview.status.pause\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key },\n\t\tsuccess: function ( response, status, xhr ) {\n\t\t\t// if ( ( xhr.getResponseHeader (\"content-type\") || \"\" ).indexOf (\"json\") < 0 ) {\n\t\t\t// \talert (\"Please log back in\")\n\t\t\t// }\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\tnotification.showMessages ( response )\n\t\t\tif ( response.result && response.result.paused ) {\n\t\t\t\t$(data.section).find (\".section_title\").text (\"Resume\")\n\t\t\t\t$(data.section).find (\".wrapper_left > p\").text (\"Cloudflare has been temporarily deactivated for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive the performance and security benefits. All of your settings have been saved.\")\n\t\t\t\t$(data.section).find (\".trigger\").val (\"Resume\")\n\t\t\t\t$(data.section).find (\".trigger\").data ( \"target\", \"resume\" )\n\t\t\t}\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.overview.status.resume\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key },\n\t\tsuccess: function ( response ) {\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\tnotification.showMessages ( response )\n\t\t\tif ( response.result && !response.result.paused ) {\n\t\t\t\t$(data.section).find (\".section_title\").text (\"Pause Website\")\n\t\t\t\t$(data.section).find (\".wrapper_left > p\").text (\"Pause will temporarily deactivate Cloudflare for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive performance and security benefits. All of your settings will be saved.\")\n\t\t\t\t$(data.section).find (\".trigger\").val (\"Pause\")\n\t\t\t\t$(data.section).find (\".trigger\").data ( \"target\", \"pause\" )\n\t\t\t}\n\t\t}\n\t})\n})\n","JetRails_Cloudflare/js/network/http_2.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.http_2.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.http_2.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/grpc.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.grpc.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.grpc.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/onion_routing.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.onion_routing.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.onion_routing.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/zero_rtt_connection_resumption.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.zero_rtt_connection_resumption.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.zero_rtt_connection_resumption.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/maximum_upload_size.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.network.maximum_upload_size.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.network.maximum_upload_size.update\", selectElement.update )\n","JetRails_Cloudflare/js/network/http_2_to_origin.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.http_2_to_origin.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.http_2_to_origin.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/true_client_ip_header.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.true_client_ip_header.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.true_client_ip_header.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/websockets.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.websockets.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.websockets.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/pseudo_ipv4.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.network.pseudo_ipv4.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.network.pseudo_ipv4.update\", selectElement.update )\n","JetRails_Cloudflare/js/network/ip_geolocation.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.ip_geolocation.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.ip_geolocation.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/ipv6_compatibility.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.ipv6_compatibility.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.ipv6_compatibility.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/response_buffering.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.response_buffering.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.response_buffering.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/network/http_3.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.network.http_3.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.network.http_3.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/always_online.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.caching.always_online.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.caching.always_online.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/tiered_cache_topology.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.caching.tiered_cache_topology.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.caching.tiered_cache_topology.update\", selectElement.update )\n","JetRails_Cloudflare/js/caching/enable_query_string_sort.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.caching.enable_query_string_sort.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.caching.enable_query_string_sort.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/development_mode.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.caching.development_mode.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.caching.development_mode.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/purge_cache.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst modal = require (\"cloudflare/core/modal\")\nconst notification = require (\"cloudflare/core/notification\")\nconst global = require (\"cloudflare/global\")\n\n$(document).on ( \"cloudflare.caching.purge_cache.custom\", ( event, data ) => {\n\tconst yourSite = global.getDomainName ()\n\tlet prompt = new modal.Modal ( 800 )\n\tlet choosen = null\n\tconst createRow = ( value, description ) => {\n\t\tconst onClick = () => {\n\t\t\tchoosen = value\n\t\t\t$(`p.purge_cache-container div`).css ({ display: \"none\" })\n\t\t\t$(`p.purge_cache-container div[data-type=\"${value}\"]`).css ({ display: \"block\" })\n\t\t\t$(\".cloudflare_modal .buttons .purge\").css ({ display: \"block\" })\n\t\t}\n\t\treturn $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\").css ({ verticalAlign: \"top\" })\n\t\t\t\t.append (\n\t\t\t\t\t$(\"<input>\")\n\t\t\t\t\t\t.attr ( \"type\", \"radio\" )\n\t\t\t\t\t\t.attr ( \"name\", \"type\" )\n\t\t\t\t\t\t.attr ( \"value\", value )\n\t\t\t\t\t\t.attr ( \"id\", `purge_type-${value}` )\n\t\t\t\t\t\t.on ( \"click\", onClick )\n\t\t\t\t)\n\t\t\t)\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append (\n\t\t\t\t\t$(`<label for='purge_type-${value}' >`)\n\t\t\t\t\t\t.css ({ minHeight: 60, display: \"block\", fontSize: \"1.05em\" })\n\t\t\t\t\t\t.html ( description )\n\t\t\t\t\t\t.on ( \"click\", onClick )\n\t\t\t\t)\n\t\t\t)\n\t}\n\tprompt.addTitle ( \"Custom Purge\" )\n\tprompt.addElement ( $(\"<p>\").css ({ paddingBottom: 0 })\n\t\t.append ( $(\"<strong>\").text (\"Purge by:\") )\n\t\t.append ( $(\"<table>\").css ({ marginTop: 15 })\n\t\t\t.append ( createRow ( \"url\", \"<b>URL:</b> Any assets in the Cloudflare cache that match the URL(s) exactly will be purged from the cache.\" ))\n\t\t\t.append ( createRow ( \"hostname\", \"<b>Hostname:</b> Any assets at URLs with a host that matches one of the provided values will be purged from the cache. (Enterprise only)\" ))\n\t\t\t.append ( createRow ( \"tag\", \"<b>Tag:</b> Any assets served with a Cache-tag response header that matches one of the provided values will be purged from the cache. (Enterprise only)\" ))\n\t\t\t.append ( createRow ( \"prefix\", \"<b>Prefix:</b> Any assets in the directory will be purged from cache. (Enterprise only)\" ))\n\t\t)\n\t)\n\tprompt.addElement ( $(\"<p>\").addClass (\"purge_cache-container\")\n\t\t.append ( $(\"<div>\")\n\t\t\t.attr (\"data-type\", \"url\")\n\t\t\t.css ({ display: \"none\" })\n\t\t\t.append ( $(\"<p>\").text (\"You will need to specify the full path to the file. Wildcards are not supported with single URL purge at this time. You can purge up to 30 URLs at a time.\") )\n\t\t\t.append ( $(\"<p>\").text (\"Separate URL(s) one per line.\") )\n\t\t\t.append ( modal.createTextarea ( \"urls\", `Example:\\nhttps://www.${yourSite}\\nhttps://www.${yourSite}/cat.jpg` ) )\n\t\t)\n\t\t.append ( $(\"<div>\")\n\t\t\t.attr (\"data-type\", \"hostname\")\n\t\t\t.css ({ display: \"none\" })\n\t\t\t.append ( $(\"<p>\").text (\"You can purge up to 30 hostnames at a time.\") )\n\t\t\t.append ( $(\"<p>\").text (\"Separate hostnames(s) with commas, or one per line.\") )\n\t\t\t.append ( modal.createTextarea ( \"hostnames\", `Example:\\nwww.${yourSite}, blog.${yourSite}, shop.${yourSite}, foo.bar.${yourSite}` ) )\n\t\t)\n\t\t.append ( $(\"<div>\")\n\t\t\t.attr (\"data-type\", \"tag\")\n\t\t\t.css ({ display: \"none\" })\n\t\t\t.append ( $(\"<p>\").text (\"You can purge up to 30 tags at a time.\") )\n\t\t\t.append ( $(\"<p>\").text (\"Separate tag(s) with commas, or one per line.\") )\n\t\t\t.append ( modal.createTextarea ( \"tags\", `Example:\\ndog, cat, foobar` ) )\n\t\t)\n\t\t.append ( $(\"<div>\")\n\t\t\t.attr (\"data-type\", \"prefix\")\n\t\t\t.css ({ display: \"none\" })\n\t\t\t.append ( $(\"<p>\").text (\"You can purge up to 30 prefixes at a time.\") )\n\t\t\t.append ( $(\"<p>\").text (\"Separate prefix(s) one per line.\") )\n\t\t\t.append ( modal.createTextarea ( \"prefixes\", `Example:\\nwww.${yourSite}/foo\\nwww.${yourSite}/foo/bar\\nwww.${yourSite}/foo/bar/baz` ) )\n\t\t)\n\t)\n\tprompt.addButton ({ label: \"Cancel\", class: \"gray\", callback: prompt.close })\n\tprompt.addButton ({ label: \"Purge\", class: \"purge\", callback: ( components ) => {\n\t\tif ( choosen ) {\n\t\t\t$(prompt.components.modal).addClass (\"loading\")\n\t\t\t$(data.section).addClass (\"loading\")\n\t\t\tlet items = $(`.purge_cache-container div[data-type=\"${choosen}\"] textarea`).val ()\n\t\t\t\t.split ( [ \"prefix\", \"url\" ].includes ( choosen ) ? /\\s+/ : /[\\s,]+/ )\n\t\t\t\t.map ( i => i.trim () )\n\t\t\t\t.filter ( i => i !== \"\" )\n\t\t\t$.ajax ({\n\t\t\t\turl: data.form.endpoint.replace ( \"custom\", choosen ),\n\t\t\t\ttype: \"POST\",\n\t\t\t\tdata: { \"form_key\": data.form.key, items },\n\t\t\t\tsuccess: ( response ) => {\n\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\tprompt.close ()\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(prompt.components.modal).removeClass (\"loading\")\n\t\t\t\t\t}\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}})\n\tprompt.show ()\n\t$(\".cloudflare_modal .buttons .purge\").css ({ display: \"none\" })\n})\n\n$(document).on ( \"cloudflare.caching.purge_cache.everything\", ( event, data ) => {\n\tlet confirm = new modal.Modal ()\n\tconfirm.addTitle ( \"Confirm purge everything\" )\n\tconfirm.addElement ( $(\"<p>\").append (\"Purge all cached files. Purging your cache may slow your website temporarily.\") )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Purge Everything\", class: \"red\", callback: ( components ) => {\n\t\t$(confirm.components.modal).addClass (\"loading\")\n\t\t$(data.section).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key },\n\t\t\tsuccess: ( response ) => {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(confirm.components.modal).removeClass (\"loading\")\n\t\t\t\t}\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.show ()\n})\n","JetRails_Cloudflare/js/caching/browser_cache_expiration.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.caching.browser_cache_expiration.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.caching.browser_cache_expiration.update\", selectElement.update )\n","JetRails_Cloudflare/js/caching/argo_tiered_cache.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.caching.argo_tiered_cache.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.caching.argo_tiered_cache.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/crawler_hints.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.caching.crawler_hints.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.caching.crawler_hints.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/caching/caching_level.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\nconst common = require (\"cloudflare/common\")\n\n$(document).on ( \"cloudflare.caching.caching_level.initialize\", ( event, data ) => {\n\tvar label = data.response.result.value\n\t$(data.section).find (\"input[name='value'][value='\" + label + \"']\").prop ( \"checked\", true )\n})\n\n$(document).on ( \"cloudflare.caching.caching_level.update\", ( event, data ) => {\n\tvar newValue = $(data.section).find (\"input[name='value']:checked\").val ()\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"value\": newValue },\n\t\tsuccess: ( response ) => {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".caching_level\")\n\t\t}\n\t})\n})\n","JetRails_Cloudflare/js/page_rules/page_rules.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\nconst common = require (\"cloudflare/common\")\nconst global = require (\"cloudflare/global\")\n\nfunction upperCaseFirst ( target ) {\n\ttarget = target + \"\"\n\treturn target.charAt ( 0 ).toUpperCase () + target.slice ( 1 )\n}\n\nfunction valueToLabel ( value ) {\n\tlet lookup = {\n\t\t\"pick_a_setting\": \"Pick a Setting\",\n\t\t\"always_online\": \"Always Online\",\n\t\t\"minify\": \"Auto Minify\",\n\t\t\"browser_cache_ttl\": \"Browser Cache TTL\",\n\t\t\"browser_check\": \"Browser Integrity Check\",\n\t\t\"bypass_cache_on_cookie\": \"Bypass Cache on Cookie\",\n\t\t\"cache_by_device_type\": \"Cache By Device Type\",\n\t\t\"cache_deception_armor\": \"Cache Deception Armor\",\n\t\t\"cache_level\": \"Cache Level\",\n\t\t\"cache_on_cookie\": \"Cache on Cookie\",\n\t\t\"disable_apps\": \"Disable Apps\",\n\t\t\"disable_performance\": \"Disable Performance\",\n\t\t\"disable_security\": \"Disable Security\",\n\t\t\"edge_cache_ttl\": \"Edge Cache TTL\",\n\t\t\"email_obfuscation\": \"Email Obfuscation\",\n\t\t\"forwarding_url\": \"Forwarding URL\",\n\t\t\"host_header_override\": \"Host Header Override\",\n\t\t\"ip_geolocation\": \"IP Geolocation Header\",\n\t\t\"mirage\": \"Mirage\",\n\t\t\"explicit_cache_control\": \"Origin Cache Control\",\n\t\t\"origin_error_page_pass_thru\": \"Origin Error Page Pass-thru\",\n\t\t\"polish\": \"Polish\",\n\t\t\"sort_query_string_for_cache\": \"Query String Sort\",\n\t\t\"resolve_override\": \"Resolve Override\",\n\t\t\"respect_strong_etag\": \"Respect Strong ETags\",\n\t\t\"response_buffering\": \"Response Buffering\",\n\t\t\"rocket_loader\": \"Rocket Loader\",\n\t\t\"security_level\": \"Security Level\",\n\t\t\"server_side_exclude\": \"Server Side Excludes\",\n\t\t\"ssl\": \"SSL\",\n\t\t\"true_client_ip_header\": \"True Client IP Header\",\n\t\t\"waf\": \"Web Application Firewall\",\n\t\t\"status_code\": \"Status Code\",\n\t\t\"url\": \"Url\",\n\t\t\"html\": \"HTML\",\n\t\t\"js\": \"JS\",\n\t\t\"css\": \"CSS\"\n\t}\n\tif ( value in lookup ) {\n\t\treturn lookup [ value ]\n\t}\n\treturn \"Undefined\"\n}\n\nfunction createRow ( previousExists = false, values = [] ) {\n\tvar close = $(\"<div class='cloudflare-font delete' >\").html (\"&#xF01A;\")\n\tvar row = $(\"<div class='dynamic_wrapper collection' >\")\n\t\t.append ( modal.createSelect ( \"setting\", [\n\t\t\t{ label: \"Pick a Setting\", value: \"pick_a_setting\", disabled: true, selected: true },\n\t\t\t{ label: valueToLabel (\"always_online\"), value: \"always_online\" },\n\t\t\t{ label: valueToLabel (\"minify\"), value: \"minify\" },\n\t\t\t{ label: valueToLabel (\"browser_cache_ttl\"), value: \"browser_cache_ttl\" },\n\t\t\t{ label: valueToLabel (\"browser_check\"), value: \"browser_check\" },\n\t\t\t{ label: valueToLabel (\"bypass_cache_on_cookie\"), value: \"bypass_cache_on_cookie\" },\n\t\t\t{ label: valueToLabel (\"cache_by_device_type\"), value: \"cache_by_device_type\" },\n\t\t\t{ label: valueToLabel (\"cache_deception_armor\"), value: \"cache_deception_armor\" },\n\t\t\t{ label: valueToLabel (\"cache_level\"), value: \"cache_level\" },\n\t\t\t{ label: valueToLabel (\"cache_on_cookie\"), value: \"cache_on_cookie\" },\n\t\t\t{ label: valueToLabel (\"disable_apps\"), value: \"disable_apps\" },\n\t\t\t{ label: valueToLabel (\"disable_performance\"), value: \"disable_performance\" },\n\t\t\t{ label: valueToLabel (\"disable_security\"), value: \"disable_security\" },\n\t\t\t{ label: valueToLabel (\"edge_cache_ttl\"), value: \"edge_cache_ttl\" },\n\t\t\t{ label: valueToLabel (\"email_obfuscation\"), value: \"email_obfuscation\" },\n\t\t\t{ label: valueToLabel (\"forwarding_url\"), value: \"forwarding_url\", disabled: previousExists },\n\t\t\t{ label: valueToLabel (\"host_header_override\"), value: \"host_header_override\" },\n\t\t\t{ label: valueToLabel (\"ip_geolocation\"), value: \"ip_geolocation\" },\n\t\t\t{ label: valueToLabel (\"mirage\"), value: \"mirage\" },\n\t\t\t{ label: valueToLabel (\"explicit_cache_control\"), value: \"explicit_cache_control\" },\n\t\t\t{ label: valueToLabel (\"origin_error_page_pass_thru\"), value: \"origin_error_page_pass_thru\" },\n\t\t\t{ label: valueToLabel (\"polish\"), value: \"polish\" },\n\t\t\t{ label: valueToLabel (\"sort_query_string_for_cache\"), value: \"sort_query_string_for_cache\" },\n\t\t\t{ label: valueToLabel (\"resolve_override\"), value: \"resolve_override\" },\n\t\t\t{ label: valueToLabel (\"respect_strong_etag\"), value: \"respect_strong_etag\" },\n\t\t\t{ label: valueToLabel (\"response_buffering\"), value: \"response_buffering\" },\n\t\t\t{ label: valueToLabel (\"rocket_loader\"), value: \"rocket_loader\" },\n\t\t\t{ label: valueToLabel (\"security_level\"), value: \"security_level\" },\n\t\t\t{ label: valueToLabel (\"server_side_exclude\"), value: \"server_side_exclude\" },\n\t\t\t{ label: valueToLabel (\"ssl\"), value: \"ssl\" },\n\t\t\t{ label: valueToLabel (\"true_client_ip_header\"), value: \"true_client_ip_header\" },\n\t\t\t{ label: valueToLabel (\"waf\"), value: \"waf\" },\n\t\t]).addClass (\"dynamic-trigger\").val ( values.length > 0 ? values [ 0 ] : \"pick_a_setting\" ) )\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"always_online\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"minify\" >`)\n\t\t\t\t.append (`<label class=\"text\" >HTML</label>`)\n\t\t\t\t.append ( modal.createSwitch (\"html\") )\n\t\t\t\t.append (`<label class=\"text\" >CSS</label>`)\n\t\t\t\t.append ( modal.createSwitch (\"css\") )\n\t\t\t\t.append (`<label class=\"text\" >JS</label>`)\n\t\t\t\t.append ( modal.createSwitch (\"js\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"browser_cache_ttl\" >`).html ( modal.createSelect ( \"value\", [\n\t\t\t\t{ label: \"Enable Browser Cache TTL\", value: \"\", selected: true, disabled: true },\n\t\t\t\t{ label: \"30 minutes\", value: 1800 },\n\t\t\t\t{ label: \"an hour\", value: 3600 },\n\t\t\t\t{ label: \"2 hours\", value: 7200 },\n\t\t\t\t{ label: \"3 hours\", value: 10800 },\n\t\t\t\t{ label: \"4 hours\", value: 14400 },\n\t\t\t\t{ label: \"5 hours\", value: 18000 },\n\t\t\t\t{ label: \"8 hours\", value: 28800 },\n\t\t\t\t{ label: \"12 hours\", value: 43200 },\n\t\t\t\t{ label: \"16 hours\", value: 57600 },\n\t\t\t\t{ label: \"20 hours\", value: 72000 },\n\t\t\t\t{ label: \"a day\", value: 86400 },\n\t\t\t\t{ label: \"2 days\", value: 172800 },\n\t\t\t\t{ label: \"3 days\", value: 259200 },\n\t\t\t\t{ label: \"4 days\", value: 345600 },\n\t\t\t\t{ label: \"5 days\", value: 432000 },\n\t\t\t\t{ label: \"8 days\", value: 691200 },\n\t\t\t\t{ label: \"16 days\", value: 1382400 },\n\t\t\t\t{ label: \"24 days\", value: 2073600 },\n\t\t\t\t{ label: \"a month\", value: 2678400 },\n\t\t\t\t{ label: \"2 months\", value: 5356800 },\n\t\t\t\t{ label: \"6 months\", value: 16070400 },\n\t\t\t\t{ label: \"a year\", value: 31536000 }\n\t\t\t]))\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"browser_check\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"bypass_cache_on_cookie\" >`).append ( modal.createInput ( \"text\", \"value\", \"Enter Value\" ) )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"cache_by_device_type\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"cache_deception_armor\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"cache_level\" >`).append ( modal.createSelect ( \"value\", [\n\t\t\t\t{ label: \"Select Cache Level\", value: \"\", disabled: true, selected: true },\n\t\t\t\t{ label: \"Bypass\", value: \"bypass\" },\n\t\t\t\t{ label: \"No Query String\", value: \"basic\" },\n\t\t\t\t{ label: \"Ignore Query String\", value: \"simplified\" },\n\t\t\t\t{ label: \"Standard\", value: \"aggressive\" },\n\t\t\t\t{ label: \"Cache Everything\", value: \"cache_everything\" }\n\t\t\t]))\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"cache_on_cookie\" >`).append ( modal.createInput ( \"text\", \"value\", \"Enter Value\" ) )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"disable_apps\" >`).html (\"<p>Apps are disabled</p>\")\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"disable_performance\" >`).html (\"<p>Performance is disabled</p>\")\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"disable_security\" >`).html (\"<p>Security is disabled</p>\")\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"edge_cache_ttl\" >`).html ( modal.createSelect ( \"value\", [\n\t\t\t\t{ label: \"Enter Edge Cache TTL\", value: \"\", selected: true, disabled: true },\n\t\t\t\t{ label: \"2 hours\", value: 7200 },\n\t\t\t\t{ label: \"3 hours\", value: 10800 },\n\t\t\t\t{ label: \"4 hours\", value: 14400 },\n\t\t\t\t{ label: \"5 hours\", value: 18000 },\n\t\t\t\t{ label: \"8 hours\", value: 28800 },\n\t\t\t\t{ label: \"12 hours\", value: 43200 },\n\t\t\t\t{ label: \"16 hours\", value: 57600 },\n\t\t\t\t{ label: \"20 hours\", value: 72000 },\n\t\t\t\t{ label: \"a day\", value: 86400 },\n\t\t\t\t{ label: \"2 days\", value: 172800 },\n\t\t\t\t{ label: \"3 days\", value: 259200 },\n\t\t\t\t{ label: \"4 days\", value: 345600 },\n\t\t\t\t{ label: \"5 days\", value: 432000 },\n\t\t\t\t{ label: \"6 days\", value: 518400 },\n\t\t\t\t{ label: \"7 days\", value: 604800 },\n\t\t\t\t{ label: \"14 days\", value: 1209600 },\n\t\t\t\t{ label: \"a month\", value: 2419200 }\n\t\t\t]))\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"email_obfuscation\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"forwarding_url\" >`)\n\t\t\t\t.html ( modal.createSelect ( \"status_code\", [\n\t\t\t\t\t{ label: \"Select Status Code\", value: \"\", disabled: true, selected: true },\n\t\t\t\t\t{ label: \"301 - Permanent Redirect\", value: 301 },\n\t\t\t\t\t{ label: \"302 - Temporary Redirect\", value: 302 }\n\t\t\t\t]))\n\t\t\t\t.append ( modal.createInput ( \"text\", \"url\", \"Enter destination URL\" ) )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"host_header_override\" >`).append ( modal.createInput ( \"text\", \"value\", \"Enter Value\" ) )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"ip_geolocation\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"mirage\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"explicit_cache_control\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"origin_error_page_pass_thru\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"polish\" >`).append (\n\t\t\t\tmodal.createSelect ( \"value\", [\n\t\t\t\t\t{ label: \"Select Value\", value: \"\", disabled: true, selected: true },\n\t\t\t\t\t{ label: \"Off\", value: \"off\" },\n\t\t\t\t\t{ label: \"Lossless\", value: \"lossless\" },\n\t\t\t\t\t{ label: \"Lossy\", value: \"lossy\" }\n\t\t\t\t])\n\t\t\t)\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"sort_query_string_for_cache\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"resolve_override\" >`).append ( modal.createInput ( \"text\", \"value\", \"Enter Value\" ) )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"respect_strong_etag\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"response_buffering\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"rocket_loader\" >`).append (\n\t\t\t\tmodal.createSwitch (\"value\")\n\t\t\t)\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"security_level\" >`).html ( modal.createSelect ( \"value\", [\n\t\t\t\t{ label: \"Select Security Level\", value: \"\", disabled: true, selected: true },\n\t\t\t\t{ label: \"Essentially Off\", value: \"essentially_off\" },\n\t\t\t\t{ label: \"Low\", value: \"low\" },\n\t\t\t\t{ label: \"Medium\", value: \"medium\" },\n\t\t\t\t{ label: \"High\", value: \"high\" },\n\t\t\t\t{ label: \"I'm Under Attack\", value: \"under_attack\" }\n\t\t\t]))\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"server_side_exclude\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"ssl\" >`).html ( modal.createSelect ( \"value\", [\n\t\t\t\t{ label: \"Select SSL Setting\", value: \"\", disabled: true, selected: true },\n\t\t\t\t{ label: \"Off\", value: \"off\" },\n\t\t\t\t{ label: \"Flexible\", value: \"flexible\" },\n\t\t\t\t{ label: \"Full\", value: \"full\" },\n\t\t\t\t{ label: \"Strict\", value: \"strict\" }\n\t\t\t]))\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"true_client_ip_header\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append (\n\t\t\t$(`<div data-dynamic-wrapper=\"waf\" >`).append ( modal.createSwitch (\"value\") )\n\t\t)\n\t\t.append ( close.click ( () => { $(close).parent ().remove () } ) )\n\tif ( values.length > 0 ) {\n\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).addClass (\"active\")\n\t\tif ( values.length > 1 ) {\n\t\t\tlet target = $(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"input,[name='value']\")\n\t\t\tlet value = values [1]\n\t\t\tif ( values [0] == \"forwarding_url\" ) {\n\t\t\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"[name='status_code']\").val ( values [ 1 ] )\n\t\t\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"[name='url']\").val ( values [ 2 ] )\n\t\t\t}\n\t\t\telse if ( values [0] == \"minify\" ) {\n\t\t\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"[name='html']\")\n\t\t\t\t\t.prop ( \"checked\", values [ 1 ].html == \"on\" )\n\t\t\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"[name='css']\")\n\t\t\t\t\t.prop ( \"checked\", values [ 1 ].css == \"on\" )\n\t\t\t\t$(row).find (`[data-dynamic-wrapper=\"${values[0]}\"]`).find (\"[name='js']\")\n\t\t\t\t\t.prop ( \"checked\", values [ 1 ].js == \"on\" )\n\t\t\t}\n\t\t\telse if ( ( value == \"on\" || value == \"off\" ) && values[0] != \"ssl\" && values[0] != \"rocket_loader\" ) {\n\t\t\t\t$(target).prop ( \"checked\", value == \"on\" )\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$(target).val ( value )\n\t\t\t}\n\t\t}\n\t}\n\treturn row\n}\n\n$(document).on ( \"cloudflare.page_rules.page_rules.initialize\", function ( event, data ) {\n\tlet rulesUsed = data.response.result.length\n\tlet rulesAllowed = data.response.entitlements.allocation.value\n\tif ( rulesUsed < rulesAllowed ) {\n\t\t$(data.section).find (\"#rules_left\").text ( rulesAllowed - rulesUsed )\n\t\t$(data.section).find (\"#action\")\n\t\t\t.addClass (\"trigger\")\n\t\t\t.val (\"Create Page Rule\")\n\t\t\t.off ( \"click\" )\n\t}\n\telse {\n\t\t$(data.section).find (\"#rules_left\").text (\"0\")\n\t\t$(data.section).find (\"#action\")\n\t\t\t.removeClass (\"trigger\")\n\t\t\t.val (\"Buy More Page Rules\")\n\t\t\t.on ( \"click\", () => {\n\t\t\t\twindow.open ( \"https://support.cloudflare.com/hc/en-us/articles/225894428-How-To-Buy-Additional-Page-Rules\", \"_blank\" )\n\t\t\t})\n\t}\n\tvar table = $(data.section).find (\"table.rules\")\n\t$(table).find (\"tbody > tr\").remove ()\n\t$(data.section).data ( \"rules\", data.response.result )\n\tif ( data.response.result.length > 0 ) {\n\t\tdata.response.result\n\t\t.sort ( ( a, b ) => {\n\t\t\treturn b.priority - a.priority\n\t\t})\n\t\t.map ( ( rule, index ) => {\n\t\t\t$(table).find (\"tbody\").append ( $(\"<tr>\")\n\t\t\t\t.data ( \"rule\", rule )\n\t\t\t\t.append ( $(\"<td class='handle' >\").html (\"&#xF000; &#xF001;\") )\n\t\t\t\t.append ( $(\"<td>\").text ( index + 1 ).css ( \"min-width\", \"initial\" ) )\n\t\t\t\t.append (\n\t\t\t\t\t$(\"<td class='no_white_space' >\")\n\t\t\t\t\t\t.text ( rule.targets [ 0 ].constraint.value )\n\t\t\t\t\t\t.append ( $(\"<span>\").text (\n\t\t\t\t\t\t\trule.actions.map ( i => {\n\t\t\t\t\t\t\t\tlet id = valueToLabel ( i.id )\n\t\t\t\t\t\t\t\tlet value = \"\"\n\t\t\t\t\t\t\t\tif ( i.value && i.value instanceof Object ) {\n\t\t\t\t\t\t\t\t\tvalue = \": (\"\n\t\t\t\t\t\t\t\t\tlet delim = \"\"\n\t\t\t\t\t\t\t\t\tfor ( let key in i.value ) {\n\t\t\t\t\t\t\t\t\t\tvalue += delim + valueToLabel ( key ) + \": \" + i.value [ key ]\n\t\t\t\t\t\t\t\t\t\tdelim = \", \"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue += \")\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if ( i.value ) {\n\t\t\t\t\t\t\t\t\tvalue = \": \" + upperCaseFirst ( i.value )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet string = id + value\n\t\t\t\t\t\t\t\treturn string\n\t\t\t\t\t\t\t}).join (\", \")\n\t\t\t\t\t\t))\n\t\t\t\t)\n\t\t\t\t.append ( $(\"<td>\")\n\t\t\t\t\t.append (( () => {\n\t\t\t\t\t\tvar element = modal.createSwitch ( \"status\", rule.status == \"active\" )\n\t\t\t\t\t\t$(element).find (\"input\")\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"toggle\" )\n\t\t\t\t\t\t\t.data ( \"id\", rule.id )\n\t\t\t\t\t\treturn element\n\t\t\t\t\t}) () )\n\t\t\t\t\t.append (\n\t\t\t\t\t\tmodal.createIconButton ( \"edit\", \"&#xF019;\" )\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"edit\" )\n\t\t\t\t\t\t\t.data ( \"data\", rule )\n\t\t\t\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t\t)\n\t\t\t\t\t.append (\n\t\t\t\t\t\tmodal.createIconButton ( \"delete\", \"&#xF01A;\" )\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t\t\t\t.data ( \"id\", rule.id )\n\t\t\t\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t})\n\t\t$(table).find (\"tbody\").sortable ({\n\t\t\thandle: \".handle\",\n\t\t\thelper: ( e, ui ) => {\n\t\t\t\tui.children ().each ( () => {\n\t\t\t\t\t$(this).width ( $(this).width () )\n\t\t\t\t})\n\t\t\t\treturn ui\n\t\t\t},\n\t\t\tstop: ( e, ui ) => {\n\t\t\t\tui.item.parent ().find (\"tr\").each ( ( i, e ) => {\n\t\t\t\t\t$( e ).find (\"td\").eq ( 1 ).text ( i + 1 )\n\t\t\t\t})\n\t\t\t\tvar priorities = $(table)\n\t\t\t\t\t.find (\"tbody > tr\")\n\t\t\t\t\t.toArray ()\n\t\t\t\t\t.reverse ()\n\t\t\t\t\t.map ( ( rule, index ) => {\n\t\t\t\t\t\tlet data = $(rule).data (\"rule\")\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: data.id,\n\t\t\t\t\t\t\tpriority: index + 1\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t$.ajax ({\n\t\t\t\t\turl: $(data.section).data (\"endpoint\").replace ( /(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/, \"$1priority$3\" ),\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"form_key\": $(data.section).data (\"form-key\"),\n\t\t\t\t\t\t\"priorities\": priorities\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function ( response ) {\n\t\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\telse {\n\t\t$(table).find (\"tbody\").append (\n\t\t\t$(\"<tr>\").append (\n\t\t\t\t$(\"<td colspan='6' >\").text (\"You do not have any Page Rules yet. Click 'Create Page Rule' above to get started.\")\n\t\t\t)\n\t\t)\n\t}\n})\n\n$(document).on ( \"cloudflare.page_rules.page_rules.toggle\", function ( event, data ) {\n\tvar id = data.trigger.data (\"id\")\n\tvar state = $(data.trigger).is (\":checked\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"state\": state, \"id\": id },\n\t\tsuccess: function ( response ) {\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\tnotification.showMessages ( response )\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.page_rules.page_rules.delete\", function ( event, data ) {\n\tvar confirm = new modal.Modal ()\n\tconfirm.addTitle (\"Confirm\")\n\tconfirm.addElement ( $(\"<p>\").text (\"Are you sure you want to delete this page rule?\") )\n\tconfirm.addButton ({ label: \"OK\", callback: ( components ) => {\n\t\tconfirm.close ()\n\t\tvar id = data.trigger.data (\"id\")\n\t\t$(data.section).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".page_rules\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.page_rules.page_rules.edit\", function ( event, data ) {\n\tvar response = $(data.trigger).data (\"data\")\n\tvar that = this\n\tvar confirm = new modal.Modal ( 800 )\n\tvar collections = $(`<div class=\"collections\" >`)\n\tconfirm.addTitle ( \"Edit Page Rule for \" + global.getDomainName (), $(this).val () )\n\tconfirm.addRow (\n\t\t$(`<p>`)\n\t\t\t.append ( $(`<strong>`).text (\"If the URL matches: \") )\n\t\t\t.append ( \"By using the asterisk (*) character, you can create dynamic patterns that can match many URLs, rather than just one. \" )\n\t\t\t.append ( $(`<a href=\"https://support.cloudflare.com/hc/en-us/articles/218411427\" target=\"_blank\" >`).text (\"Learn more here\") ),\n\t\tmodal.createInput ( \"text\", \"target\", \"Example: www.example.com/*\" ).val ( response.targets [0].constraint.value ),\n\t\ttrue\n\t)\n\tresponse.actions.map ( action => {\n\t\tvar values = [ action.value ]\n\t\tif ( action.id == \"forwarding_url\" ) {\n\t\t\tvalues = [ action.value.status_code, action.value.url ]\n\t\t}\n\t\tcollections.append ( createRow ( false, [ action.id ].concat ( values ) ) )\n\t})\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Then the settings are:\") ),\n\t\t[\n\t\t\tcollections,\n\t\t\t$(`<a class=\"dashed\" >`).text (\"+ Add a Setting\").click ( () => {\n\t\t\t\tvar previousExists = $(collections).find (\".collection\").length > 0\n\t\t\t\t$(collections).append ( createRow ( previousExists ) )\n\t\t\t})\n\t\t],\n\t\ttrue\n\t)\n\tvar saveCallback = ( components, status ) => {\n\t\tvar target = $(components.container).find (\"[name='target']\").val ()\n\t\tvar actions = $.makeArray ( $( components.container )\n\t\t\t.find (\".collections > .collection\")\n\t\t\t.map ( ( i, e ) => {\n\t\t\t\tvar id = $(e).find (\"[name='setting']\").val ()\n\t\t\t\tvar value = $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='value']\").eq ( 0 )\n\t\t\t\tvalue = $(value).is (\":checkbox\") ? ( $(value).is (\":checked\") ? \"on\" : \"off\" ) : $(value).val ()\n\t\t\t\tif ( id == \"forwarding_url\" ) value = {\n\t\t\t\t\turl: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='url']\").eq ( 0 ).val (),\n\t\t\t\t\tstatus_code: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='status_code']\").eq ( 0 ).val ()\n\t\t\t\t}\n\t\t\t\tif ( id == \"minify\" ) value = {\n\t\t\t\t\thtml: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='html']\").eq ( 0 ).is (\":checked\") ? \"on\" : \"off\",\n\t\t\t\t\tcss: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='css']\").eq ( 0 ).is (\":checked\") ? \"on\" : \"off\",\n\t\t\t\t\tjs: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='js']\").eq ( 0 ).is (\":checked\") ? \"on\" : \"off\"\n\t\t\t\t}\n\t\t\t\treturn { id, value }\n\t\t\t}))\n\t\t$(components.modal).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"target\": target,\n\t\t\t\t\"actions\": actions,\n\t\t\t\t\"status\": status,\n\t\t\t\t\"id\": response.id\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".page_rules\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save as Draft\", class: \"gray\", callback: ( components ) => { saveCallback ( components, false ) } })\n\tconfirm.addButton ({ label: \"Save and Deploy\", callback: ( components ) => { saveCallback ( components, true ) } })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.page_rules.page_rules.create\", function ( event, data ) {\n\tvar section = data.section\n\tvar that = this\n\tvar confirm = new modal.Modal ( 800 )\n\tvar collections = $(`<div class=\"collections\" >`)\n\tconfirm.addTitle ( \"Create a Page Rule for \" + global.getDomainName (), $(this).val () )\n\tconfirm.addRow (\n\t\t$(`<p>`)\n\t\t\t.append ( $(`<strong>`).text (\"If the URL matches: \") )\n\t\t\t.append ( \"By using the asterisk (*) character, you can create dynamic patterns that can match many URLs, rather than just one. \" )\n\t\t\t.append ( $(`<a href=\"https://support.cloudflare.com/hc/en-us/articles/218411427\" target=\"_blank\" >`).text (\"Learn more here\") ),\n\t\tmodal.createInput ( \"text\", \"target\", \"Example: www.example.com/*\" ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Then the settings are:\") ),\n\t\t[\n\t\t\tcollections.append ( createRow () ),\n\t\t\t$(`<a class=\"dashed\" >`).text (\"+ Add a Setting\").click ( () => {\n\t\t\t\tvar previousExists = $(collections).find (\".collection\").length > 0\n\t\t\t\t$(collections).append ( createRow ( previousExists ) )\n\t\t\t})\n\t\t],\n\t\ttrue\n\t)\n\tif ( $(section).data (\"rules\").length > 0 ) {\n\t\tvar customOptions = $(section).data (\"rules\")\n\t\t\t.sort ( ( a, b ) => { return b.priority - a.priority } )\n\t\t\t.map ( rule => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: rule.targets [ 0 ].constraint.value,\n\t\t\t\t\tvalue: rule.priority\n\t\t\t\t}\n\t\t\t})\n\t\tcustomOptions = [{ label: \"Select which Page Rule this will fire after\", value: 1, selected: true, disabled: true }].concat ( customOptions )\n\t\tconfirm.addRow (\n\t\t\t$(`<p>`)\n\t\t\t\t.append ( $(`<strong>`).text (\"Order: \") )\n\t\t\t\t.append (\"This is the order in which your Page Rules will be triggered. Only one Page Rule will trigger per URL, so put your most specific Page Rules at the top.\"),\n\t\t\t[\n\t\t\t\tmodal.createSelect ( \"order\", [\n\t\t\t\t\t{ label: \"First\", value: \"first\", selected: true },\n\t\t\t\t\t{ label: \"Last\", value: \"last\" },\n\t\t\t\t\t{ label: \"Custom\", value: \"custom\" }\n\t\t\t\t]).on ( \"change\", ( event ) => {\n\t\t\t\t\tif ( $(event.target).val () === \"custom\" ) {\n\t\t\t\t\t\t$(event.target).next ().show ()\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$(event.target).next ().hide ()\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tmodal.createSelect ( \"custom\", customOptions ).hide ()\n\t\t\t],\n\t\t\ttrue\n\t\t)\n\t}\n\tvar saveCallback = ( components, status ) => {\n\t\tvar target = $(components.container).find (\"[name='target']\").val ()\n\t\tvar actions = $.makeArray ( $( components.container )\n\t\t\t.find (\".collections > .collection\")\n\t\t\t.map ( ( i, e ) => {\n\t\t\t\tvar id = $(e).find (\"[name='setting']\").val ()\n\t\t\t\tvar value = $(components.container).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='value']\").eq ( 0 )\n\t\t\t\tvalue = $(value).is (\":checkbox\") ? ( $(value).is (\":checked\") ? \"on\" : \"off\" ) : $(value).val ()\n\t\t\t\tif ( id == \"forwarding_url\" ) value = {\n\t\t\t\t\turl: $(components.container).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='url']\").eq ( 0 ).val (),\n\t\t\t\t\tstatus_code: $(components.container).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='status_code']\").eq ( 0 ).val ()\n\t\t\t\t}\n\t\t\t\tif ( id == \"minify\" ) value = {\n\t\t\t\t\thtml: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='html']\").eq ( 0 ).val (),\n\t\t\t\t\tcss: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='css']\").eq ( 0 ).val (),\n\t\t\t\t\tjs: $(e).find (\"[data-dynamic-wrapper='\" + id + \"']\").find (\"[name='js']\").eq ( 0 ).val ()\n\t\t\t\t}\n\t\t\t\treturn { id, value }\n\t\t\t}))\n\t\t$(components.modal).addClass (\"loading\")\n\t\tlet getPriority = () => {\n\t\t\tvar priority = 1\n\t\t\tif ( $(section).data (\"rules\").length > 0 ) {\n\t\t\t\tlet order = $(components.container).find (\"[name='order']\").val ()\n\t\t\t\tif ( order === \"custom\" ) {\n\t\t\t\t\tpriority = $(components.container).find (\"[name='custom']\").val ()\n\t\t\t\t}\n\t\t\t\telse if ( order == \"last\" ) {\n\t\t\t\t\tpriority = $(section).data (\"rules\").length + 1\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn priority\n\t\t}\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"target\": target,\n\t\t\t\t\"actions\": actions,\n\t\t\t\t\"status\": status,\n\t\t\t\t\"priority\": getPriority ()\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".page_rules\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save as Draft\", class: \"gray\", callback: ( components ) => { saveCallback ( components, false ) } })\n\tconfirm.addButton ({ label: \"Save and Deploy\", callback: ( components ) => { saveCallback ( components, true ) } })\n\tconfirm.show ()\n})\n\n$(document).on ( \"change\", \".cloudflare_modal .collection [name='setting']\", function () {\n\tif ( $(this).val () == \"forwarding_url\" ) {\n\t\t$(\".cloudflare_modal a.dashed\").hide ()\n\t}\n\telse {\n\t\t$(\".cloudflare_modal a.dashed\").show ()\n\t}\n})\n\nexport default (window.$ = window.jQuery = $)\n","JetRails_Cloudflare/js/firewall/browser_integrity_check.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.browser_integrity_check.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.firewall.browser_integrity_check.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/javascript_detections.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.javascript_detections.initialize\", switchElement.initializeCustom ( \"enable_js\", true ) )\n$(document).on ( \"cloudflare.firewall.javascript_detections.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/privacy_pass_support.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.privacy_pass_support.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.firewall.privacy_pass_support.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/challenge_passage.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.firewall.challenge_passage.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.firewall.challenge_passage.update\", selectElement.update )\n","JetRails_Cloudflare/js/firewall/security_level.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.firewall.security_level.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.firewall.security_level.update\", selectElement.update )\n","JetRails_Cloudflare/js/firewall/bot_fight_mode.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.bot_fight_mode.initialize\", switchElement.initializeCustom ( \"fight_mode\", true ) )\n$(document).on ( \"cloudflare.firewall.bot_fight_mode.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/zone_lockdown.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\nconst common = require (\"cloudflare/common\")\nconst global = require (\"cloudflare/global\")\n\n$(document).on ( \"cloudflare.firewall.zone_lockdown.initialize\", function ( event, data ) {\n\tlet rulesUsed = data.response.result.filter ( e => !e.paused ).length\n\tlet rulesAllowed = data.response.entitlements.allocation.value\n\t$(data.section).find (\"#rules_total\").text ( rulesAllowed )\n\t$(data.section).find (\"#rules_used\").text ( rulesUsed )\n\tif ( rulesUsed < rulesAllowed ) {\n\t\t$(data.section).find (\"#action\")\n\t\t\t.addClass (\"trigger\")\n\t\t\t.val (\"Create Lockdown Rule\")\n\t\t\t.off ( \"click\" )\n\t}\n\telse {\n\t\t$(data.section).find (\"#action\")\n\t\t\t.removeClass (\"trigger\")\n\t\t\t.val (\"Buy More Zone Lockdown Rules\")\n\t\t\t.on ( \"click\", () => {\n\t\t\t\twindow.open ( \"https://www.cloudflare.com/plans/\", \"_blank\" )\n\t\t\t})\n\t}\n\tvar table = $(data.section).find (\"table.rules\")\n\t$(table).find (\"tbody > tr\").remove ()\n\t$(data.section).data ( \"rules\", data.response.result )\n\tif ( data.response.result.length > 0 ) {\n\t\tdata.response.result\n\t\t.sort ( ( a, b ) => {\n\t\t\treturn a.priority - b.priority\n\t\t})\n\t\t.map ( rule => {\n\t\t\t$(table).find (\"tbody\").append ( $(\"<tr>\")\n\t\t\t\t.data ( \"rule\", rule )\n\t\t\t\t.append (\n\t\t\t\t\t$(\"<td class='no_white_space' >\")\n\t\t\t\t\t\t.html (`<b>${rule.description}</b>`)\n\t\t\t\t\t\t.append ( $(\"<span>\").html (\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\trule.urls.length > 0 ? `${rule.urls.length} URLs` : null,\n\t\t\t\t\t\t\t\trule.configurations.length > 0 ? `${rule.configurations.length} IP Addresses` : null,\n\t\t\t\t\t\t\t\trule.priority ? `<br/>Priority: ${rule.priority}` : null,\n\t\t\t\t\t\t\t].filter ( e => e ).join (\", \")\n\t\t\t\t\t\t))\n\t\t\t\t)\n\t\t\t\t.append ( $(\"<td>\")\n\t\t\t\t\t.append (( () => {\n\t\t\t\t\t\tvar element = modal.createSwitch ( \"status\", !rule.paused )\n\t\t\t\t\t\t$(element).find (\"input\")\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"toggle\" )\n\t\t\t\t\t\t\t.data ( \"rule\", rule )\n\t\t\t\t\t\treturn element\n\t\t\t\t\t}) () )\n\t\t\t\t\t.append (\n\t\t\t\t\t\tmodal.createIconButton ( \"edit\", \"&#xF019;\" )\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"edit\" )\n\t\t\t\t\t\t\t.data ( \"data\", rule )\n\t\t\t\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t\t)\n\t\t\t\t\t.append (\n\t\t\t\t\t\tmodal.createIconButton ( \"delete\", \"&#xF01A;\" )\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t\t\t\t.data ( \"id\", rule.id )\n\t\t\t\t\t\t\t.data ( \"description\", rule.description )\n\t\t\t\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t})\n\t}\n\telse {\n\t\t$(table).find (\"tbody\").append (\n\t\t\t$(\"<tr>\").append (\n\t\t\t\t$(\"<td colspan='6' >\").text (\"You currently have no Zone Lockdown Rules. To create some click on the button above.\")\n\t\t\t)\n\t\t)\n\t}\n})\n\n$(document).on ( \"cloudflare.firewall.zone_lockdown.toggle\", function ( event, data ) {\n\tvar rule = data.trigger.data (\"rule\")\n\tvar enabled = $(data.trigger).is (\":checked\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint.replace ( \"toggle\", \"edit\" ),\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"id\": rule.id,\n\t\t\t\"description\": rule.description,\n\t\t\t\"paused\": !enabled,\n\t\t\t\"configurations\": rule.configurations,\n\t\t\t\"urls\": rule.urls,\n\t\t\t\"priority\": rule.priority\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\tnotification.showMessages ( response )\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.firewall.zone_lockdown.delete\", function ( event, data ) {\n\tvar confirm = new modal.Modal ( 800 )\n\tconfirm.addTitle (\"Delete Zone Lockdown Rule\")\n\tconfirm.addElement ( $(\"<p>\").html (`Please confirm that you would like to delete the following rule: <b>${data.trigger.data (\"description\")}</b>`) )\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Delete Zone Lockdown Rule\", class: \"red\", callback: ( components ) => {\n\t\tconfirm.close ()\n\t\tvar id = data.trigger.data (\"id\")\n\t\t$(data.section).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".zone_lockdown\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.zone_lockdown.edit\", function ( event, data ) {\n\tvar response = $(data.trigger).data (\"data\")\n\tvar section = data.section\n\tvar confirm = new modal.Modal ( 800 )\n\tvar collections = $(`<div class=\"collections\" >`)\n\tvar yourSite = global.getDomainName ()\n\tvar paused = response.paused\n\tvar id = response.id\n\tconfirm.addTitle (\"Edit a Zone Lockdown Rule\")\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Name\") ),\n\t\tmodal.createInput ( \"text\", \"description\", \"Example: Allow traffic from Office IP address\", response.description ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"URLs (Separate URLS by new line)\") ),\n\t\tmodal.createTextarea ( \"urls\", `Example: www.${yourSite}/login\\nwww.${yourSite}`, response.urls.join (\"\\n\") ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"IP Range (Separate IP Addresses by new line)\") ),\n\t\tmodal.createTextarea ( \"configurations\", `Example: 1.1.1.0/28\\n1.1.1.0/12`, response.configurations.map ( e => e.value ).join (\"\\n\") ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Priority\") ),\n\t\tmodal.createInput ( \"number\", \"priority\", \"\", response.priority ),\n\t\ttrue\n\t)\n\tvar saveCallback = components => {\n\t\t$(components.modal).addClass (\"loading\")\n\t\tvar target = $(components.container).find (\"[name='description']\").val ()\n\t\tvar urls = $(components.container).find (\"[name='urls']\").val ()\n\t\tvar configurations = $(components.container).find (\"[name='configurations']\").val ()\n\t\tvar priority = $(components.container).find (\"[name='priority']\").val ()\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"description\": target,\n\t\t\t\t\"paused\": paused,\n\t\t\t\t\"configurations\": configurations.split (\"\\n\")\n\t\t\t\t\t.map ( e => e.trim () )\n\t\t\t\t\t.filter ( e => !!e )\n\t\t\t\t\t.map ( e => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: /\\//.test ( e ) ? \"ip_range\" : \"ip\",\n\t\t\t\t\t\t\tvalue: e.trim (),\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\"urls\": urls.split (\"\\n\")\n\t\t\t\t\t.map ( e => e.trim () )\n\t\t\t\t\t.filter ( e => e.length > 0 ),\n\t\t\t\t\"priority\": priority\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".zone_lockdown\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => { saveCallback ( components ) } })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.zone_lockdown.create\", function ( event, data ) {\n\tvar section = data.section\n\tvar confirm = new modal.Modal ( 800 )\n\tvar collections = $(`<div class=\"collections\" >`)\n\tvar yourSite = global.getDomainName ()\n\tconfirm.addTitle (\"Create a Zone Lockdown Rule\")\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Name\") ),\n\t\tmodal.createInput ( \"text\", \"description\", \"Example: Allow traffic from Office IP address\" ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"URLs (Separate URLS by new line)\") ),\n\t\tmodal.createTextarea ( \"urls\", `Example: www.${yourSite}/login\\nwww.${yourSite}` ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"IP Range (Separate IP Addresses by new line)\") ),\n\t\tmodal.createTextarea ( \"configurations\", `Example: 1.1.1.0/28\\n1.1.1.0/12` ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Priority\") ),\n\t\tmodal.createInput ( \"number\", \"priority\", \"\" ),\n\t\ttrue\n\t)\n\tvar saveCallback = ( components, status ) => {\n\t\t$(components.modal).addClass (\"loading\")\n\t\tvar target = $(components.container).find (\"[name='description']\").val ()\n\t\tvar urls = $(components.container).find (\"[name='urls']\").val ()\n\t\tvar configurations = $(components.container).find (\"[name='configurations']\").val ()\n\t\tvar priority = $(components.container).find (\"[name='priority']\").val ()\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"description\": target,\n\t\t\t\t\"paused\": status,\n\t\t\t\t\"configurations\": configurations.split (\"\\n\")\n\t\t\t\t\t.map ( e => e.trim () )\n\t\t\t\t\t.filter ( e => !!e )\n\t\t\t\t\t.map ( e => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: /\\//.test ( e ) ? \"ip_range\" : \"ip\",\n\t\t\t\t\t\t\tvalue: e.trim (),\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\"urls\": urls.split (\"\\n\")\n\t\t\t\t\t.map ( e => e.trim () )\n\t\t\t\t\t.filter ( e => e.length > 0 ),\n\t\t\t\t\"priority\": priority\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".zone_lockdown\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save as Draft\", class: \"gray\", callback: ( components ) => { saveCallback ( components, true ) } })\n\tconfirm.addButton ({ label: \"Save and Deploy\", callback: ( components ) => { saveCallback ( components, false ) } })\n\tconfirm.show ()\n})\n\nexport default (window.$ = window.jQuery = $)\n","JetRails_Cloudflare/js/firewall/access_rules.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\n\nfunction filterResults ( term, results ) {\n\tlet searchTerm = ( term + \"\" ).toLowerCase ().trim ()\n\treturn results.filter ( entry => {\n\t\treturn ( entry.notes + \"\" ).toLowerCase ().indexOf ( searchTerm ) > -1\n\t\t\t|| ( entry.configuration.value + \"\" ).toLowerCase ().indexOf ( searchTerm ) > -1\n\t})\n}\n\nfunction sortResults ( section, results ) {\n\tlet pivot = $(section).find (\".sort-asc, .sort-desc\")\n\tif ( pivot.length > 0 ) {\n\t\tlet access = ( obj, path ) => {\n\t\t\treturn path.reduce ( ( o, i ) => o [ i ], obj )\n\t\t}\n\t\tlet attribute = $(pivot).data (\"sort\").split (\".\")\n\t\tlet isAsc = $(pivot).hasClass (\"sort-asc\") === true\n\t\tresults = results.sort ( ( a, b ) => {\n\t\t\tlet aValue = (access ( a, attribute ) + \"\").toLowerCase ()\n\t\t\tlet bValue = (access ( b, attribute ) + \"\").toLowerCase ()\n\t\t\tif ( isAsc ) {\n\t\t\t\tif ( aValue < bValue ) return -1\n\t\t\t\tif ( aValue > bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( aValue > bValue ) return -1\n\t\t\t\tif ( aValue < bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t})\n\t}\n\treturn results\n}\n\nfunction sortResults ( section, results ) {\n\tlet pivot = $(section).find (\".sort-asc, sort-desc\")\n\tif ( pivot.length > 0 ) {\n\t\tlet access = ( obj, path ) => {\n\t\t\treturn path.reduce ( ( o, i ) => o [ i ], obj )\n\t\t}\n\t\tlet attribute = $(pivot).data (\"sort\").split (\".\")\n\t\tresults = results.sort ( ( a, b ) => {\n\t\t\tlet aValue = (access ( a, attribute ) + \"\").toLowerCase ()\n\t\t\tlet bValue = (access ( b, attribute ) + \"\").toLowerCase ()\n\t\t\tif ( $(pivot).hasClass (\"sort-desc\") ) {\n\t\t\t\tif ( aValue > bValue ) return -1\n\t\t\t\tif ( aValue < bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( aValue < bValue ) return -1\n\t\t\t\tif ( aValue > bValue ) return 1\n\t\t\t\treturn 0\n\t\t\t}\n\t\t})\n\t}\n\treturn results\n}\n\nfunction populateResult ( section ) {\n\tlet results = $(section).data (\"result\") || []\n\tresults = filterResults ( $(section).find (\".search\").val (), results )\n\tresults = sortResults ( section, results )\n\tlet table = $(section).find (\"table > tbody\")\n\t$(section).data ( \"item-count\", results.length )\n\tlet itemCount = $(section).data (\"item-count\")\n\tlet page = $(section).data (\"page\")\n\tlet pageSize = $(section).data (\"page-size\")\n\tlet pageCount = Math.ceil ( itemCount / pageSize )\n\tlet from = pageSize * ( page - 1 ) + 1\n\tif ( itemCount == 0 ) from = 0\n\tlet to = Math.min ( pageSize * page, itemCount )\n\t$(section).find (\".pagination_container .pages\").html (\"\")\n\t$(section).find (\".pagination_container .showing\").html (`${from} - ${to} of ${itemCount} rules`)\n\tlet pages = $(section).find (\".pagination_container .pages\")\n\tlet createPage = ( number ) => {\n\t\treturn $(`<span class=\"page\" >`)\n\t\t\t.addClass ( number == page ? \"\" : \"trigger\" )\n\t\t\t.addClass ( number == page ? \"current\" : \"\" )\n\t\t\t.data ( \"target\", \"page\" )\n\t\t\t.data ( \"page\", number )\n\t\t\t.text ( number )\n\t}\n\tif ( pageCount > 7 ) {\n\t\t$(pages).append ( createPage ( 1 ) )\n\t\tif ( pageCount > 7 && page > 4 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\tlet start = Math.max ( 2, page - 3 )\n\t\tlet end = Math.min ( pageCount - 1, page + 3 )\n\t\tif ( page - 4 < 0 ) end += Math.abs ( page - 4 )\n\t\tif ( page + 3 > pageCount ) start -= page + 3 - pageCount\n\t\tif ( pageCount <= 7 && page < 4 ) end -= 1\n\t\tif ( pageCount <= 7 && page > 4 ) start += 1\n\t\tfor ( let i = start; i <= end; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t\tif ( pageCount > 7 && page < pageCount - 3 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\t$(pages).append ( createPage ( pageCount ) )\n\t}\n\telse {\n\t\tfor ( let i = 1; i <= pageCount; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t}\n\tif ( page == 1 ) {\n\t\t$(section).find (\".previous\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".previous\").removeClass (\"disabled\")\n\t}\n\tif ( page == pageCount ) {\n\t\t$(section).find (\".next\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".next\").removeClass (\"disabled\")\n\t}\n\t$(table).html (\"\")\n\tlet appended = 0\n\tfor ( let i = 0; i < results.length; i++ ) {\n\t\tif ( i >= ( page - 1 ) * pageSize && i < page * pageSize ) {\n\t\t\tlet entry = results [ i ]\n\t\t\t$(table).append ( $(`<tr>`)\n\t\t\t\t.append ( $(`<td>`)\n\t\t\t\t\t.text ( entry.configuration.value )\n\t\t\t\t\t.append ( $(`<span>`).text ( entry.notes ) )\n\t\t\t\t\t.css ({ width: \"100%\" })\n\t\t\t\t)\n\t\t\t\t.append ( $(`<td>`).text (\"This website\") )\n\t\t\t\t.append ( $(`<td>`).css ( \"display\", \"flex\" )\n\t\t\t\t\t.html ( modal.createSelect ( \"mode\", [\n\t\t\t\t\t\t\t{ \"label\": \"Block\", \"value\": \"block\", selected: entry.mode == \"block\" },\n\t\t\t\t\t\t\t{ \"label\": \"Challenge\", \"value\": \"challenge\", selected: entry.mode == \"challenge\" },\n\t\t\t\t\t\t\t{ \"label\": \"Whitelist\", \"value\": \"whitelist\", selected: entry.mode == \"whitelist\" },\n\t\t\t\t\t\t\t{ \"label\": \"JavaScript Challenge\", \"value\": \"js_challenge\", selected: entry.mode == \"js_challenge\" }\n\t\t\t\t\t\t])\n\t\t\t\t\t\t.css ({ minWidth: \"200px\" })\n\t\t\t\t\t\t.addClass (\"trigger-select\")\n\t\t\t\t\t\t.data ( \"target\", \"mode\" )\n\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t)\n\t\t\t\t\t.append ( modal.createIconButton ( \"trigger edit\", \"&#xF013;\" )\n\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t\t.data ( \"note\", entry.notes )\n\t\t\t\t\t\t.data ( \"target\", \"edit\" )\n\t\t\t\t\t)\n\t\t\t\t\t.append ( modal.createIconButton ( \"trigger delete\", \"&#xF01A;\" )\n\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\tif ( results.length == 0 ) {\n\t\t$(table).append ( $(\"<tr>\").append ( $(\"<td colspan='6' >\").text (\"No access rules found.\") ) )\n\t}\n}\n\n$(document).on ( \"cloudflare.firewall.access_rules.initialize\", function ( event, data ) {\n\t$(data.section).data ( \"result\", data.response.result )\n\tpopulateResult ( data.section )\n\t$(data.section).removeClass (\"loading\")\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.sort\", function ( event, data ) {\n\t$(data.section).data ( \"page\", 1 )\n\t$(data.section).data ( \"sort\", $(data.trigger).data (\"sort\") )\n\tif ( $(data.trigger).hasClass (\"sort-asc\") ) {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).removeClass (\"sort-asc\").addClass (\"sort-desc\")\n\t\t$(data.section).data ( \"direction\", \"desc\" )\n\t}\n\telse if ( $(data.trigger).hasClass (\"sort-desc\") ) {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.section).data ( \"direction\", \"\" )\n\t}\n\telse {\n\t\t$(data.trigger).siblings ().removeClass (\"sort-asc\").removeClass (\"sort-desc\")\n\t\t$(data.trigger).addClass (\"sort-asc\")\n\t\t$(data.section).data ( \"direction\", \"asc\" )\n\t}\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.search\", function ( event, data ) {\n\t$(data.section).data ( \"page\", 1 )\n\tlet table = $(data.section).find (\"table > tbody\")\n\t$(table).children ().remove ()\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.add\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\tvar value = $(data.section).find (\"[name='value']\").val ()\n\tvar mode = $(data.section).find (\"[name='mode']\").val ()\n\tvar note = $(data.section).find (\"[name='note']\").val ()\n\tvar target = \"\"\n\tswitch ( true ) {\n\t\tcase /^[a-z]{2}$/i.test ( value ):\n\t\t\ttarget = \"country\"\n\t\t\tbreak\n\t\tcase /AS[0-9]+/.test ( value ):\n\t\t\ttarget = \"asn\"\n\t\t\tbreak\n\t\tcase /\\//.test ( value ):\n\t\t\ttarget = \"ip_range\"\n\t\t\tbreak\n\t\tdefault:\n\t\t\ttarget = \"ip\"\n\t}\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"target\": target,\n\t\t\t\"value\": value,\n\t\t\t\"mode\": mode,\n\t\t\t\"note\": note\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t$(data.section).find (\"[name='value']\").val (\"\")\n\t\t\t$(data.section).find (\"[name='mode']\").val (\"block\")\n\t\t\t$(data.section).find (\"[name='note']\").val (\"\")\n\t\t\tcommon.loadSections (\".access_rules\")\n\t\t}\n\t})\n\tcommon.loadSections (\".access_rules\")\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.delete\", function ( event, data ) {\n\tvar confirm = new modal.Modal ()\n\tconfirm.addTitle (\"Confirm\")\n\tconfirm.addElement ( $(\"<p>\").text (`Are you sure you want to delete this rule?`) )\n\tconfirm.addButton ({ label: \"OK\", callback: ( components ) => {\n\t\tconfirm.close ()\n\t\t$(data.section).addClass (\"loading\")\n\t\tvar id = $(data.trigger).data (\"id\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".access_rules\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.mode\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\tvar id = $(data.trigger).data (\"id\")\n\tvar mode = $(data.trigger).val ()\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"id\": id, \"mode\": mode },\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".access_rules\")\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.edit\", function ( event, data ) {\n\tlet notes = modal.createTextarea ( \"notes\", \"\", $(data.trigger).data (\"note\") ).css ({\n\t\tmargin: \"22.5px 22.5px 0 22.5px\",\n\t\twidth: \"calc(100% - 45px)\",\n\t\tfontSize: \"1.1em\"\n\t})\n\tlet edit = new modal.Modal ( 800 )\n\tedit.addTitle (\"Edit notes\")\n\tedit.addElement ( notes )\n\tedit.addButton ({ label: \"Close\", class: \"gray\", callback: edit.close })\n\tedit.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tedit.close ()\n\t\t$(data.section).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": $(data.trigger).data (\"id\"), \"note\": notes.val () },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".access_rules\")\n\t\t\t}\n\t\t})\n\t}})\n\tedit.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.page\", function ( event, data ) {\n\t$(data.section).data ( \"page\", $(data.trigger).data (\"page\") )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.next_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") + 1 <= Math.ceil ( $(data.section).data (\"item-count\") / $(data.section).data (\"page-size\") ) ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") + 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n\n$(document).on ( \"cloudflare.firewall.access_rules.previous_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") - 1 > 0 ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") - 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n","JetRails_Cloudflare/js/firewall/web_application_firewall.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.web_application_firewall.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.firewall.web_application_firewall.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/bot_management.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.firewall.bot_management.initialize\", switchElement.initializeCustom ( \"enabled\", true ) )\n$(document).on ( \"cloudflare.firewall.bot_management.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/firewall/firewall_rules.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\n\nfunction filterResults ( term, status, action, results ) {\n\tlet searchTerm = ( term + \"\" ).toLowerCase ().trim ()\n\treturn results.filter ( entry => {\n\t\treturn true \n\t\t\t&& ( entry.description + \"\" ).toLowerCase ().indexOf ( searchTerm ) > -1\n\t\t\t&& ( status == \"all\" || entry.paused == (status == \"paused\") )\n\t\t\t&& ( action == \"all\" || entry.action == action )\n\t})\n}\n\nfunction actionValueToLabel ( value ) {\n\tswitch ( value ) {\n\t\tcase \"managed_challenge\": return \"Managed Challenge\" \n\t\tcase \"block\": return \"Block\" \n\t\tcase \"js_challenge\": return \"JS Challenge\" \n\t\tcase \"allow\": return \"Allow\" \n\t\tcase \"bypass\": return \"Bypass\" \n\t\tcase \"log\": return \"Log\" \n\t\tcase \"challenge\": return \"Legacy CAPTCHA\" \n\t\tdefault: return \"Unknown\"\n\t}\n}\n\nfunction featureValueToLabel ( value ) {\n\tswitch ( value ) {\n\t\tcase \"uaBlock\": return \"User-Agent Blocking\" \n\t\tcase \"bic\": return \"Browser Integrity Check\" \n\t\tcase \"hot\": return \"Hotlink Protection\" \n\t\tcase \"securityLevel\": return \"Security Level\" \n\t\tcase \"rateLimit\": return \"Rate Limiting\" \n\t\tcase \"zoneLockdown\": return \"Zone Lockdown\" \n\t\tcase \"waf\": return \"WAF Managed Rules\" \n\t\tdefault: return \"Unknown\"\n\t}\n}\n\nfunction populateResult ( section ) {\n\tlet results = $(section).data (\"result\") || []\n\tresults = filterResults (\n\t\t$(section).find (\".search\").val (),\n\t\t$(section).find (\".status\").val (),\n\t\t$(section).find (\".action\").val (),\n\t\tresults,\n\t)\n\tlet table = $(section).find (\"table > tbody\")\n\t$(section).data ( \"item-count\", results.length )\n\tlet itemCount = $(section).data (\"item-count\")\n\tlet page = $(section).data (\"page\")\n\tlet pageSize = $(section).data (\"page-size\")\n\tlet pageCount = Math.ceil ( itemCount / pageSize )\n\tlet from = pageSize * ( page - 1 ) + 1\n\tif ( itemCount == 0 ) from = 0\n\tlet to = Math.min ( pageSize * page, itemCount )\n\t$(section).find (\".pagination_container .pages\").html (\"\")\n\t$(section).find (\".pagination_container .showing\").html (`${from} - ${to} of ${itemCount} rules`)\n\tlet pages = $(section).find (\".pagination_container .pages\")\n\tlet createPage = ( number ) => {\n\t\treturn $(`<span class=\"page\" >`)\n\t\t\t.addClass ( number == page ? \"\" : \"trigger\" )\n\t\t\t.addClass ( number == page ? \"current\" : \"\" )\n\t\t\t.data ( \"target\", \"page\" )\n\t\t\t.data ( \"page\", number )\n\t\t\t.text ( number )\n\t}\n\tif ( pageCount > 7 ) {\n\t\t$(pages).append ( createPage ( 1 ) )\n\t\tif ( pageCount > 7 && page > 4 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\tlet start = Math.max ( 2, page - 3 )\n\t\tlet end = Math.min ( pageCount - 1, page + 3 )\n\t\tif ( page - 4 < 0 ) end += Math.abs ( page - 4 )\n\t\tif ( page + 3 > pageCount ) start -= page + 3 - pageCount\n\t\tif ( pageCount <= 7 && page < 4 ) end -= 1\n\t\tif ( pageCount <= 7 && page > 4 ) start += 1\n\t\tfor ( let i = start; i <= end; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t\tif ( pageCount > 7 && page < pageCount - 3 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\t$(pages).append ( createPage ( pageCount ) )\n\t}\n\telse {\n\t\tfor ( let i = 1; i <= pageCount; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t}\n\tif ( page == 1 ) {\n\t\t$(section).find (\".previous\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".previous\").removeClass (\"disabled\")\n\t}\n\tif ( page == pageCount ) {\n\t\t$(section).find (\".next\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".next\").removeClass (\"disabled\")\n\t}\n\t$(table).html (\"\")\n\tfor ( let i = 0; i < results.length; i++ ) {\n\t\tif ( i >= ( page - 1 ) * pageSize && i < page * pageSize ) {\n\t\t\tlet entry = results [ i ]\n\t\t\t$(table).append ( $(`<tr>`)\n\t\t\t\t.append ( $(`<td>`).text ( entry.priority ) )\n\t\t\t\t.append ( $(`<td>`).text ( actionValueToLabel ( entry.action ) ) )\n\t\t\t\t.append ( $(`<td>`).text ( entry.description ).css ( \"width\", \"100%\" ) )\n\t\t\t\t.append ( $(`<td>`).css ( \"display\", \"flex\" )\n\t\t\t\t\t.append (( () => {\n\t\t\t\t\t\tvar element = modal.createSwitch ( \"status\", !entry.paused )\n\t\t\t\t\t\t$(element).find (\"input\")\n\t\t\t\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t\t\t\t.data ( \"target\", \"toggle\" )\n\t\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t\t\t.data ( \"entry\", entry )\n\t\t\t\t\t\t\t.data ( \"paused\", !entry.paused )\n\t\t\t\t\t\treturn element\n\t\t\t\t\t}) () )\n\t\t\t\t\t.append ( modal.createIconButton ( \"trigger update\", \"&#xF019;\" )\n\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t\t.data ( \"entry\", entry )\n\t\t\t\t\t\t.data ( \"target\", \"update\" )\n\t\t\t\t\t)\n\t\t\t\t\t.append ( modal.createIconButton ( \"trigger delete\", \"&#xF01A;\" )\n\t\t\t\t\t\t.data ( \"id\", entry.id )\n\t\t\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\tif ( results.length == 0 ) {\n\t\t$(table).append ( $(\"<tr>\").append ( $(\"<td colspan='4' >\").text (\"No Firewall Rules\") ) )\n\t}\n}\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.initialize\", function ( event, data ) {\n\tlet used = data.response.usage.used\n\tlet available = data.response.usage.max\n\t$(data.section).find (\".usage-used\").text ( used )\n\t$(data.section).find (\".usage-total\").text ( available )\n\t$(data.section).data ( \"result\", data.response.result )\n\tpopulateResult ( data.section )\n\t$(data.section).removeClass (\"loading\")\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.search\", function ( event, data ) {\n\t$(data.section).data ( \"page\", 1 )\n\tlet table = $(data.section).find (\"table > tbody\")\n\t$(table).children ().remove ()\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.create\", function ( event, data ) {\n\tvar confirm = new modal.Modal ( 800 )\n\tconfirm.addTitle ( \"Create Firewall Rule\", $(this).val () )\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Rule name (required)\") ),\n\t\tmodal.createInput ( \"text\", \"name\", \"Give your rule a descriptive name\" ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"When incoming requests match\u2026\") ),\n\t\tmodal.createTextarea ( \"expression\", `For example: ip.src == 66.249.66.1`, \"\" ),\n\t\ttrue\n\t)\n\tconst actionSelect = modal.createSelect ( \"action\", [\n\t\t{ label: actionValueToLabel (\"managed_challenge\"), value: \"managed_challenge\", selected: true },\n\t\t{ label: actionValueToLabel (\"block\"), value: \"block\" },\n\t\t{ label: actionValueToLabel (\"js_challenge\"), value: \"js_challenge\" },\n\t\t{ label: actionValueToLabel (\"allow\"), value: \"allow\" },\n\t\t{ label: actionValueToLabel (\"bypass\"), value: \"bypass\" },\n\t\t{ label: actionValueToLabel (\"log\"), value: \"log\" },\n\t\t{ label: actionValueToLabel (\"challenge\"), value: \"challenge\" },\n\t])\n\tconst productsSelect = modal.createSelect ( \"products\", [\n\t\t{ label: featureValueToLabel (\"zoneLockdown\"), value: \"zoneLockdown\", selected: true },\n\t\t{ label: featureValueToLabel (\"uaBlock\"), value: \"uaBlock\" },\n\t\t{ label: featureValueToLabel (\"bic\"), value: \"bic\" },\n\t\t{ label: featureValueToLabel (\"hot\"), value: \"hot\" },\n\t\t{ label: featureValueToLabel (\"securityLevel\"), value: \"securityLevel\" },\n\t\t{ label: featureValueToLabel (\"rateLimit\"), value: \"rateLimit\" },\n\t\t{ label: featureValueToLabel (\"waf\"), value: \"waf\" },\n\t], true )\n\t$(productsSelect).css ({ height: \"150px\" })\n\tconst productColumn = $(`<div>`)\n\t\t.append ( $(`<span>`).text (\"Choose a feature (Required)\") )\n\t\t.append ( productsSelect )\n\t\t.css ({ paddingRight: \"5px\", width: \"100%\" })\n\t\t.hide ()\n\t$(actionSelect).on (\"change\", event => event.target.value == \"bypass\" ? productColumn.show () : productColumn.hide () )\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Then\u2026\") ),\n\t\t$(`<p>`).append (\n\t\t\t$(`<div>`)\n\t\t\t\t.append ( $(`<span>`).text (\"Choose an action (Required)\") )\n\t\t\t\t.append ( actionSelect )\n\t\t\t\t.css ({ paddingRight: \"5px\", width: \"100%\" }),\n\t\t\tproductColumn,\n\t\t\t$(`<div>`)\n\t\t\t\t.append ( $(`<span>`).text (\"Priority (Optional)\") )\n\t\t\t\t.append ( modal.createInput ( \"number\", \"priority\", \"\" ) )\n\t\t\t\t.css ({ paddingLeft: \"5px\", width: \"100%\" }),\n\t\t).css ({\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t}),\n\t\ttrue\n\t)\n\tvar saveCallback = ( components, paused ) => {\n\t\tvar name = $(components.container).find (\"[name='name']\").val ()\n\t\tvar expression = $(components.container).find (\"[name='expression']\").val ()\n\t\tvar action = $(components.container).find (\"[name='action']\").val ()\n\t\tvar priority = $(components.container).find (\"[name='priority']\").val ()\n\t\tvar products = $(components.container).find (\"[name='products']\").val ()\n\t\t$(components.modal).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"name\": name,\n\t\t\t\t\"expression\": expression,\n\t\t\t\t\"action\": action,\n\t\t\t\t\"priority\": priority,\n\t\t\t\t\"products\": action == \"bypass\" ? ( products || [] ) : [],\n\t\t\t\t\"paused\": paused,\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".firewall_rules\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save as Draft\", class: \"gray\", callback: ( components ) => { saveCallback ( components, true ) } })\n\tconfirm.addButton ({ label: \"Deploy Firewall Rule\", callback: ( components ) => { saveCallback ( components, false ) } })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.delete\", function ( event, data ) {\n\tvar confirm = new modal.Modal ()\n\tconfirm.addTitle (\"Confirm\")\n\tconfirm.addElement ( $(\"<p>\").text (`Are you sure you want to delete this rule?`) )\n\tconfirm.addButton ({ label: \"OK\", callback: ( components ) => {\n\t\tconfirm.close ()\n\t\t$(data.section).addClass (\"loading\")\n\t\tvar id = $(data.trigger).data (\"id\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".firewall_rules\")\n\t\t\t}\n\t\t})\n\t}})\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.toggle\", function ( event, data ) {\n\t$(data.section).addClass (\"loading\")\n\tvar entry = $(data.trigger).data (\"entry\")\n\tvar paused = $(data.trigger).data (\"paused\")\n\t$.ajax ({\n\t\turl: data.form.endpoint.replace (/toggle/,\"update\"),\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"id\": entry.id,\n\t\t\t\"name\": entry.description,\n\t\t\t\"filterId\": entry.filter.id,\n\t\t\t\"filterExpression\": entry.filter.expression,\n\t\t\t\"action\": entry.action,\n\t\t\t\"priority\": entry.priority,\n\t\t\t\"paused\": paused,\n\t\t\t\"products\": ( entry.products || [] ),\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".firewall_rules\")\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.update\", function ( event, data ) {\n\tvar confirm = new modal.Modal ( 800 )\n\tvar entry = $(data.trigger).data (\"entry\")\n\tconfirm.addTitle ( \"Update Firewall Rule\", $(this).val () )\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Rule name (required)\") ),\n\t\tmodal.createInput ( \"text\", \"name\", \"Give your rule a descriptive name\", entry.description ),\n\t\ttrue\n\t)\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"When incoming requests match\u2026\") ),\n\t\tmodal.createTextarea ( \"expression\", `For example: ip.src == 66.249.66.1`, entry.filter.expression ),\n\t\ttrue\n\t)\n\tconst actionSelect = modal.createSelect ( \"action\", [\n\t\t{ label: actionValueToLabel (\"managed_challenge\"), value: \"managed_challenge\", selected: entry.action == \"managed_challenge\" },\n\t\t{ label: actionValueToLabel (\"block\"), value: \"block\", selected: entry.action == \"block\" },\n\t\t{ label: actionValueToLabel (\"js_challenge\"), value: \"js_challenge\", selected: entry.action == \"js_challenge\" },\n\t\t{ label: actionValueToLabel (\"allow\"), value: \"allow\", selected: entry.action == \"allow\" },\n\t\t{ label: actionValueToLabel (\"bypass\"), value: \"bypass\", selected: entry.action == \"bypass\" },\n\t\t{ label: actionValueToLabel (\"log\"), value: \"log\", selected: entry.action == \"log\" },\n\t\t{ label: actionValueToLabel (\"challenge\"), value: \"challenge\", selected: entry.action == \"challenge\" },\n\t])\n\tconst productsSelect = modal.createSelect ( \"products\", [\n\t\t{ label: featureValueToLabel (\"zoneLockdown\"), value: \"zoneLockdown\", selected: ( entry.products || [] ).includes (\"zoneLockdown\") },\n\t\t{ label: featureValueToLabel (\"uaBlock\"), value: \"uaBlock\", selected: ( entry.products || [] ).includes (\"uaBlock\") },\n\t\t{ label: featureValueToLabel (\"bic\"), value: \"bic\", selected: ( entry.products || [] ).includes (\"bic\") },\n\t\t{ label: featureValueToLabel (\"hot\"), value: \"hot\", selected: ( entry.products || [] ).includes (\"hot\") },\n\t\t{ label: featureValueToLabel (\"securityLevel\"), value: \"securityLevel\", selected: ( entry.products || [] ).includes (\"securityLevel\") },\n\t\t{ label: featureValueToLabel (\"rateLimit\"), value: \"rateLimit\", selected: ( entry.products || [] ).includes (\"rateLimit\") },\n\t\t{ label: featureValueToLabel (\"waf\"), value: \"waf\", selected: ( entry.products || [] ).includes (\"waf\") },\n\t], true )\n\t$(productsSelect).css ({ height: \"150px\" })\n\tconst productColumn = $(`<div>`)\n\t\t.append ( $(`<span>`).text (\"Choose a feature (Required)\") )\n\t\t.append ( productsSelect )\n\t\t.css ({ paddingRight: \"5px\", width: \"100%\" })\n\tproductColumn [ entry.action == \"bypass\" ? \"show\" : \"hide\" ] ()\n\t$(actionSelect).on (\"change\", event => event.target.value == \"bypass\" ? productColumn.show () : productColumn.hide () )\n\tconfirm.addRow (\n\t\t$(`<p>`).append ( $(`<strong>`).text (\"Then\u2026\") ),\n\t\t$(`<p>`).append (\n\t\t\t$(`<div>`)\n\t\t\t\t.append ( $(`<span>`).text (\"Choose an action (Required)\") )\n\t\t\t\t.append ( actionSelect )\n\t\t\t\t.css ({ paddingRight: \"5px\", width: \"100%\" }),\n\t\t\tproductColumn,\n\t\t\t$(`<div>`)\n\t\t\t\t.append ( $(`<span>`).text (\"Priority (Optional)\") )\n\t\t\t\t.append ( modal.createInput ( \"number\", \"priority\", \"\", entry.priority ) )\n\t\t\t\t.css ({ paddingLeft: \"5px\", width: \"100%\" }),\n\t\t).css ({\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t}),\n\t\ttrue\n\t)\n\tvar saveCallback = ( components, paused ) => {\n\t\tvar name = $(components.container).find (\"[name='name']\").val ()\n\t\tvar expression = $(components.container).find (\"[name='expression']\").val ()\n\t\tvar action = $(components.container).find (\"[name='action']\").val ()\n\t\tvar priority = $(components.container).find (\"[name='priority']\").val ()\n\t\tvar products = $(components.container).find (\"[name='products']\").val ()\n\t\t$(components.modal).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"id\": entry.id,\n\t\t\t\t\"name\": name,\n\t\t\t\t\"filterId\": entry.filter.id,\n\t\t\t\t\"filterExpression\": expression,\n\t\t\t\t\"action\": action,\n\t\t\t\t\"priority\": priority,\n\t\t\t\t\"paused\": paused,\n\t\t\t\t\"products\": action == \"bypass\" ? ( products || [] ) : [],\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tconfirm.close ()\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\t$(data.section).addClass (\"loading\")\n\t\t\t\t\tcommon.loadSections (\".firewall_rules\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$(components.modal).removeClass (\"loading\")\n\t\t\t\t\tnotification.showMessages ( response )\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\tconfirm.addButton ({ label: \"Cancel\", class: \"gray\", callback: confirm.close })\n\tconfirm.addButton ({ label: \"Save\", callback: ( components ) => { saveCallback ( components, false ) } })\n\tconfirm.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.page\", function ( event, data ) {\n\t$(data.section).data ( \"page\", $(data.trigger).data (\"page\") )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.next_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") + 1 <= Math.ceil ( $(data.section).data (\"item-count\") / $(data.section).data (\"page-size\") ) ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") + 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n\n$(document).on ( \"cloudflare.firewall.firewall_rules.previous_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") - 1 > 0 ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") - 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})","JetRails_Cloudflare/js/firewall/user_agent_blocking.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\n\nfunction populateResult ( section ) {\n\tlet results = $(section).data (\"result\") || []\n\tlet table = $(section).find (\"table > tbody\")\n\t$(section).data ( \"item-count\", results.length )\n\tlet itemCount = $(section).data (\"item-count\")\n\tlet page = $(section).data (\"page\")\n\tlet pageSize = $(section).data (\"page-size\")\n\tlet pageCount = Math.ceil ( itemCount / pageSize )\n\tlet from = pageSize * ( page - 1 ) + 1\n\tif ( itemCount == 0 ) from = 0\n\tlet to = Math.min ( pageSize * page, itemCount )\n\t$(section).find (\".pagination_container .pages\").html (\"\")\n\t$(section).find (\".pagination_container .showing\").html (`${from} - ${to} of ${itemCount} rules`)\n\tlet pages = $(section).find (\".pagination_container .pages\")\n\tlet createPage = ( number ) => {\n\t\treturn $(`<span class=\"page\" >`)\n\t\t\t.addClass ( number == page ? \"\" : \"trigger\" )\n\t\t\t.addClass ( number == page ? \"current\" : \"\" )\n\t\t\t.data ( \"target\", \"page\" )\n\t\t\t.data ( \"page\", number )\n\t\t\t.text ( number )\n\t}\n\tif ( pageCount > 7 ) {\n\t\t$(pages).append ( createPage ( 1 ) )\n\t\tif ( pageCount > 7 && page > 4 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\tlet start = Math.max ( 2, page - 3 )\n\t\tlet end = Math.min ( pageCount - 1, page + 3 )\n\t\tif ( page - 4 < 0 ) end += Math.abs ( page - 4 )\n\t\tif ( page + 3 > pageCount ) start -= page + 3 - pageCount\n\t\tif ( pageCount <= 7 && page < 4 ) end -= 1\n\t\tif ( pageCount <= 7 && page > 4 ) start += 1\n\t\tfor ( let i = start; i <= end; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t\tif ( pageCount > 7 && page < pageCount - 3 ) {\n\t\t\t$(pages).append ( $(`<span>`).text (\"...\") )\n\t\t}\n\t\t$(pages).append ( createPage ( pageCount ) )\n\t}\n\telse {\n\t\tfor ( let i = 1; i <= pageCount; i++ ) {\n\t\t\t$(pages).append ( createPage ( i ) )\n\t\t}\n\t}\n\tif ( page == 1 ) {\n\t\t$(section).find (\".previous\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".previous\").removeClass (\"disabled\")\n\t}\n\tif ( page == pageCount ) {\n\t\t$(section).find (\".next\").addClass (\"disabled\")\n\t}\n\telse {\n\t\t$(section).find (\".next\").removeClass (\"disabled\")\n\t}\n\t$(table).html (\"\")\n\tlet appended = 0\n\tfor ( let i = 0; i < results.length; i++ ) {\n\t\tif ( i >= ( page - 1 ) * pageSize && i < page * pageSize ) {\n\t\t\tlet entry = results [ i ]\n\t\t\t$(table).append ( createRow ( entry ) )\n\t\t}\n\t}\n\tif ( results.length == 0 ) {\n\t\t$(table).append ( $(\"<tr>\").append ( $(\"<td colspan='2' >\").text (\"You currently have no User Agent Blocking rules. Please click on 'Create Blocking Rule' to get started.\") ) )\n\t}\n}\n\nfunction createRow ( entry ) {\n\tlet switchElement = modal.createSwitch ( \"state\", !entry.paused )\n\t\t.css ( \"margin\", \"auto 15px auto 22px\" )\n\t$(switchElement).find (\"input\")\n\t\t.addClass (\"trigger\")\n\t\t.data ( \"target\", \"toggle\" )\n\t\t.data ( \"entry\", entry )\n\treturn $(\"<tr>\")\n\t\t.append ( $(\"<td>\")\n\t\t\t.append ( $(\"<b>\").text ( entry.description ).css ({ \"text-overflow\": \"ellipsis\", \"overflow\": \"hidden\" }) )\n\t\t\t.append ( $(\"<span>\").text ( entry.configuration.value ).css ({ \"text-overflow\": \"ellipsis\", \"overflow\": \"hidden\" }) )\n\t\t\t.css ({ \"width\": \"100%\", \"max-width\": \"100px\" })\n\t\t)\n\t\t.append ( $(\"<td>\")\n\t\t\t.append ( modal.createSelect ( \"mode\", [\n\t\t\t\t{ \"label\": \"Block\", \"value\": \"block\" },\n\t\t\t\t{ \"label\": \"Challenge\", \"value\": \"challenge\" },\n\t\t\t\t{ \"label\": \"JavaScript Challenge\", \"value\": \"js_challenge\" }\n\t\t\t\t]).val ( entry.mode )\n\t\t\t\t.css ( \"width\", \"auto\" )\n\t\t\t\t.addClass ( \"trigger-select\" )\n\t\t\t\t.data ( \"target\", \"mode\" )\n\t\t\t\t.data ( \"entry\", entry )\n\t\t\t)\n\t\t\t.append ( switchElement )\n\t\t\t.append ( modal.createIconButton ( \"trigger edit\", \"&#xF019;\" )\n\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t.data ( \"target\", \"edit\" )\n\t\t\t\t.data ( \"entry\", entry )\n\t\t\t)\n\t\t\t.append ( modal.createIconButton ( \"trigger delete\", \"&#xF01A;\" )\n\t\t\t\t.css ( \"display\", \"inline-block\" )\n\t\t\t\t.addClass (\"trigger\")\n\t\t\t\t.data ( \"target\", \"delete\" )\n\t\t\t\t.data ( \"entry\", entry )\n\t\t\t)\n\t\t)\n}\n\nfunction createModal ( name = false, action = false, agent = false ) {\n\tlet prompt = new modal.Modal ( 600 )\n\tlet nameElem = modal.createInput ( \"text\", \"name\", \"Example: Block Internet Explorer 6 browsers\", name ? name : \"\" )\n\tlet agentElem = modal.createTextarea ( \"agent\", \"Example: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)\", agent ? agent : \"\" )\n\t\t.css ({ width: \"100%\", margin: 0 })\n\tlet actionElem = modal.createSelect ( \"mode\", [\n\t\t{ \"label\": \"Block\", \"value\": \"block\", \"selected\": action === false || action == \"block\" },\n\t\t{ \"label\": \"Challenge\", \"value\": \"challenge\", \"selected\": action == \"challenge\" },\n\t\t{ \"label\": \"JavaScript Challenge\", \"value\": \"js_challenge\", \"selected\": action == \"js_challenge\" }\n\t])\n\tprompt.addTitle ( ( name === false ? \"Create\" : \"Edit\" ) + \" a User Agent Blocking Rule\" )\n\tprompt.addElement ( $(\"<p>\").text (\"Provide a description, an action, and a specific User Agent which you wish to configure.\") )\n\tprompt.addRow ( \"Name Description\", nameElem, true )\n\tprompt.addRow ( \"Action\", actionElem, true )\n\tprompt.addRow ( \"User Agent\", agentElem, true )\n\tprompt.addButton ({ label: \"Cancel\", class: \"gray\", callback: prompt.close })\n\tprompt.show ()\n\treturn prompt\n}\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.initialize\", function ( event, data ) {\n\tlet used = data.response.usage.used\n\tlet available = data.response.usage.max\n\tlet message = `You have ${used} of ${available} User Agent Blocking rules active`\n\t$(data.section).find (\".usage\").text ( message )\n\t$(data.section).data ( \"result\", data.response.result )\n\t$(data.section).data ( \"used\", used )\n\t$(data.section).data ( \"available\", available )\n\tpopulateResult ( data.section )\n\t$(data.section).removeClass (\"loading\")\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.create\", function ( event, data ) {\n\tlet used = (data.section).data (\"used\")\n\tlet available = (data.section).data (\"available\")\n\tlet prompt = createModal ()\n\tlet create = ( paused ) => {\n\t\tlet description = $(prompt.components.container).find (\"[name='name']\").val ()\n\t\tlet mode = $(prompt.components.container).find (\"[name='mode']\").val ()\n\t\tlet agent = $(prompt.components.container).find (\"[name='agent']\").val ()\n\t\t$(data.section).addClass (\"loading\")\n\t\t$(prompt.components.modal).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"mode\": mode,\n\t\t\t\t\"paused\": paused,\n\t\t\t\t\"description\": description,\n\t\t\t\t\"value\": agent\n\t\t\t},\n\t\t\tsuccess: function ( response ) {\n\t\t\t\t$(prompt.components.modal).removeClass (\"loading\")\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tprompt.close ()\n\t\t\t\t}\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".firewall.user_agent_blocking\")\n\t\t\t}\n\t\t})\n\t}\n\tprompt.addButton ({ label: \"Save as Draft\", class: \"gray\", callback: () => create ( true ) })\n\tif ( used < available ) {\n\t\tprompt.addButton ({ label: \"Save and Deploy\", callback: () => create ( false ) })\n\t}\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.edit\", function ( event, data ) {\n\tlet entry = $(data.trigger).data (\"entry\")\n\tlet prompt = createModal ( entry.description, entry.mode, entry.configuration.value )\n\tprompt.addButton ({ label: \"Save\", callback: () => {\n\t\t$(data.section).addClass (\"loading\")\n\t\t$(prompt.components.modal).addClass (\"loading\")\n\t\tlet modal = $(prompt.components.modal)\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: {\n\t\t\t\t\"form_key\": data.form.key,\n\t\t\t\t\"id\": entry.id,\n\t\t\t\t\"mode\": $(modal).find (\"[name='mode']\").val (),\n\t\t\t\t\"paused\": entry.paused,\n\t\t\t\t\"description\": $(modal).find (\"[name='name']\").val (),\n\t\t\t\t\"value\": $(modal).find (\"[name='agent']\").val ()\n\t\t\t},\n\t\t\tsuccess: ( response ) => {\n\t\t\t\t$(modal).removeClass (\"loading\")\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tprompt.close ()\n\t\t\t\t}\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".firewall.user_agent_blocking\")\n\t\t\t}\n\t\t})\n\t}})\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.delete\", function ( event, data ) {\n\tlet prompt = new modal.Modal ( 600 )\n\tlet entry = $(data.trigger).data (\"entry\")\n\tprompt.addTitle ( \"Please confirm that you would like to delete the following rule: <b>\" + entry.description + \"</b>\" )\n\tprompt.addButton ({ label: \"Cancel\", class: \"gray\", callback: prompt.close })\n\tprompt.addButton ({ label: \"Delete User Agent Rule\", class: \"red\", callback: () => {\n\t\t$(data.section).addClass (\"loading\")\n\t\tprompt.close ()\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"id\": entry.id },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tcommon.loadSections (\".firewall.user_agent_blocking\")\n\t\t\t}\n\t\t})\n\t}})\n\tprompt.show ()\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.mode\", function ( event, data ) {\n\tlet target = $(data.trigger)\n\tlet entry = $(target).data (\"entry\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"id\": entry.id,\n\t\t\t\"mode\": target.val (),\n\t\t\t\"paused\": entry.paused,\n\t\t\t\"value\": entry.configuration.value,\n\t\t\t\"description\": entry.description\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".firewall.user_agent_blocking\")\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.toggle\", function ( event, data ) {\n\tlet target = $(data.trigger)\n\tlet entry = $(target).data (\"entry\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"id\": entry.id,\n\t\t\t\"mode\": entry.mode,\n\t\t\t\"paused\": !$(target).prop (\"checked\"),\n\t\t\t\"value\": entry.configuration.value,\n\t\t\t\"description\": entry.description\n\t\t},\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".firewall.user_agent_blocking\")\n\t\t}\n\t})\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.page\", function ( event, data ) {\n\t$(data.section).data ( \"page\", $(data.trigger).data (\"page\") )\n\tpopulateResult ( data.section )\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.next_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") + 1 <= Math.ceil ( $(data.section).data (\"item-count\") / $(data.section).data (\"page-size\") ) ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") + 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n\n$(document).on ( \"cloudflare.firewall.user_agent_blocking.previous_page\", function ( event, data ) {\n\tif ( $(data.section).data (\"page\") - 1 > 0 ) {\n\t\t$(data.section).data ( \"page\", $(data.section).data (\"page\") - 1 )\n\t\tpopulateResult ( data.section )\n\t}\n})\n","JetRails_Cloudflare/js/speed/mobile_redirect.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\n\n$(document).on ( \"cloudflare.speed.mobile_redirect.initialize\", ( event, data ) => {\n\tvar domains = data.response.result.domains\n\tvar setting = data.response.result.value\n\t$(data.section).find (\"[name='mobile_subdomain']\").html (\"\")\n\tfor ( let domain of domains ) {\n\t\t$(data.section).find (\"[name='mobile_subdomain']\").append (\n\t\t\t$(\"<option>\").prop ( \"value\", domain.value ).text ( domain.label )\n\t\t)\n\t}\n\t$(data.section).find (\"[name='mobile_subdomain']\").val ( setting.mobile_subdomain )\n\t$(data.section).find (\"[name='strip_uri']\").val ( setting.strip_uri + \"\" )\n\t$(data.section).find (\"[name='status']\").prop ( \"checked\", setting.status === \"on\" )\n})\n\n$(document).on ( \"cloudflare.speed.mobile_redirect.change\", ( event, data ) => {\n\tlet mobileSubdomain = $(data.section).find (\"[name='mobile_subdomain']\").val ()\n\tlet stripUri = $(data.section).find (\"[name='strip_uri']\").val ()\n\tlet status = $(data.section).find (\"[name='status']\").prop (\"checked\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"form_key\": data.form.key,\n\t\t\t\"mobile_subdomain\": mobileSubdomain,\n\t\t\t\"status\": status ? \"on\" : \"off\",\n\t\t\t\"strip_uri\": stripUri\n\t\t},\n\t\tsuccess: ( response ) => {\n\t\t\tnotification.showMessages (  response )\n\t\t\tcommon.loadSections (\".mobile_redirect\")\n\t\t}\n\t})\n})\n","JetRails_Cloudflare/js/speed/mirage.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.mirage.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.mirage.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/brotli.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.brotli.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.brotli.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/enhanced_http2_prioritization.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.enhanced_http2_prioritization.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.enhanced_http2_prioritization.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/rocket_loader.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.rocket_loader.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.rocket_loader.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/polish.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\n\n$(document).on ( \"cloudflare.speed.polish.initialize\", ( event, data ) => {\n\tvar value = data.response.state.result.value\n\tvar webp = data.response.webp.result.value == \"on\"\n\t$(data.section).find (\"[name='value']\").val ( value )\n\t$(data.section).find (\"[name='webp']\").prop ( \"checked\", webp )\n\tif ( !data.response.state.result.editable ) {\n\t\tvar button = \"<a href='https://www.cloudflare.com/plans/' target='_blank' ><input type='button' value='Upgrade to Pro' /></a>\"\n\t\t$(data.section).find (\".wrapper_right > div\").eq ( 0 ).html ( button )\n\t}\n})\n\n$(document).on ( \"cloudflare.speed.polish.change\", ( event, data ) => {\n\tlet value = $(data.section).find (\"[name='value']\").val ()\n\tlet webp = $(data.section).find (\"[name='webp']\").prop (\"checked\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"value\": value, \"webp\": webp },\n\t\tsuccess: ( response ) => {\n\t\t\tnotification.showMessages (  response )\n\t\t\tcommon.loadSections (\".polish\")\n\t\t}\n\t})\n})\n","JetRails_Cloudflare/js/speed/early_hints.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.early_hints.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.early_hints.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/amp_real_url.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.amp_real_url.initialize\", switchElement.initializeCustom ( \"enabled\", true ) )\n$(document).on ( \"cloudflare.speed.amp_real_url.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/automatic_platform_optimization.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.automatic_platform_optimization.initialize\", switchElement.initializeCustom ( [ \"value\", \"enabled\" ], true ) )\n$(document).on ( \"cloudflare.speed.automatic_platform_optimization.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/tcp_turbo.js":"const $ = jQuery = jquery = require (\"jquery\")\n\n$(document).on ( \"cloudflare.speed.tcp_turbo.initialize\", ( event, data ) => {\n\tconst plan = data.response.result\n\t$(data.section).find (\".value\").text ( plan === \"free\" ? \"Disabled\" : \"Enabled\" )\n})\n","JetRails_Cloudflare/js/speed/auto_minify.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\nconst common = require (\"cloudflare/common\")\n\n$(document).on ( \"cloudflare.speed.auto_minify.initialize\", ( event, data ) => {\n\tvar jsState = data.response.result.value.js === \"on\"\n\tvar cssState = data.response.result.value.css === \"on\"\n\tvar htmlState = data.response.result.value.html === \"on\"\n\t$(data.section).find (\"input[value='javascript']\").prop ( \"checked\", jsState )\n\t$(data.section).find (\"input[value='css']\").prop ( \"checked\", cssState )\n\t$(data.section).find (\"input[value='html']\").prop ( \"checked\", htmlState )\n})\n\n$(document).on ( \"cloudflare.speed.auto_minify.change\", ( event, data ) => {\n\tvar jsVal = $(data.section).find (\"input[value='javascript']\").prop (\"checked\")\n\tvar cssVal = $(data.section).find (\"input[value='css']\").prop (\"checked\")\n\tvar htmlVal = $(data.section).find (\"input[value='html']\").prop (\"checked\")\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"js\": jsVal, \"css\": cssVal, \"html\": htmlVal },\n\t\tsuccess: ( response ) => {\n\t\t\tnotification.showMessages ( response )\n\t\t\tcommon.loadSections (\".auto_minify\")\n\t\t}\n\t})\n})\n","JetRails_Cloudflare/js/speed/prefetch_urls.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.speed.prefetch_urls.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.speed.prefetch_urls.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/speed/image_resizing.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.speed.image_resizing.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.speed.image_resizing.update\", selectElement.update )\n","JetRails_Cloudflare/js/ssl_tls/always_use_https.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.always_use_https.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.always_use_https.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/ssl_tls/certificate_transparency_monitoring.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.certificate_transparency_monitoring.initialize\", switchElement.initializeCustom ( \"enabled\", true ) )\n$(document).on ( \"cloudflare.ssl_tls.certificate_transparency_monitoring.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/ssl_tls/http_strict_transport_security.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst modal = require (\"cloudflare/core/modal\")\nconst notification = require (\"cloudflare/core/notification\")\n\nfunction maxAgeLabel ( value ) {\n\tif ( value >= 31536000 ) return \"12 months\"\n\tif ( value >= 15552000 ) return \"6 months (recommended)\"\n\tif ( value >= 12960000 ) return \"5 months\"\n\tif ( value >= 10368000 ) return \"4 months\"\n\tif ( value >= 7776000 ) return \"3 months\"\n\tif ( value >= 5184000 ) return \"2 months\"\n\tif ( value >= 2592000 ) return \"1 month\"\n\treturn \"0 (Disable)\"\n}\n\n$(document).on ( \"cloudflare.ssl_tls.http_strict_transport_security.initialize\", function ( event, data ) {\n\tlet options = data.response.result.value.strict_transport_security\n\t$(data.section).data ( \"options\", options )\n\tif ( options.enabled ) {\n\t\t$(data.section).find (\"[name='button']\").val (\"Change HSTS Settings\")\n\t\t$(data.section).find (\".option_enabled\").show ().find (\"span\").text ( options.enabled ? \"On\" : \"Off\" )\n\t\t$(data.section).find (\".option_max_age\").show ().find (\"span\").text ( maxAgeLabel ( options.max_age ) )\n\t\t$(data.section).find (\".option_include_sub_domains\").show ().find (\"span\").text ( options.include_subdomains ? \"On\" : \"Off\" )\n\t\t$(data.section).find (\".option_preload\").show ().find (\"span\").text ( options.preload ? \"On\" : \"Off\" )\n\t\t$(data.section).find (\".option_no_sniff\").show ().find (\"span\").text ( options.nosniff ? \"On\" : \"Off\" )\n\t}\n\telse {\n\t\t$(data.section).find (\"[name='button']\").val (\"Enable HSTS\")\n\t\t$(data.section).find (\".option_enabled\").hide ()\n\t\t$(data.section).find (\".option_max_age\").hide ()\n\t\t$(data.section).find (\".option_include_sub_domains\").hide ()\n\t\t$(data.section).find (\".option_preload\").hide ()\n\t\t$(data.section).find (\".option_no_sniff\").hide ()\n\t}\n})\n\nfunction createAcknowledgement ( options, callback ) {\n\tlet acknowledgement = new modal.Modal ( 600 )\n\tacknowledgement.addTitle (\"Acknowledgement\")\n\tacknowledgement.addElement ( $(\"<p>\").append (\"HTTP Strict Transport Security (HSTS) can substantially improve the security of your website. However, there are important considerations to keep in mind when enabling HSTS:\") )\n\tacknowledgement.addElement ( $(\"<p>\").append ( $(\"<strong>\").text (\"HTTPS (SSL) must be enabled in order to use HSTS.\") ) )\n\tacknowledgement.addElement ( $(\"<ul>\")\n\t\t.append ( $(\"<li>\").text (\"If you turn on HSTS and do not have HTTPS for your website, browsers will not accept the HSTS setting.\") )\n\t\t.append ( $(\"<li>\").text (\"If you have HSTS enabled and leave Cloudflare, you need to continue to support HTTPS through a new service provider otherwise your site will become inaccessible to visitors until you support HTTPS again.\") )\n\t\t.append ( $(\"<li>\").text (\"If you turn off Cloudflare\u2019s HTTPS while HSTS is enabled, and you don\u2019t have a valid SSL certificate on your origin server, your website will become inaccessible to visitors.\") )\n\t)\n\tacknowledgement.addElement ( $(\"<p>\")\n\t\t.append ( $(\"<strong>\").text (\"Note\") )\n\t\t.append (\": Disabling Cloudflare\u2019s HTTP can be done in several ways: Grey clouding a subdomain in your DNS records, \u201cPausing\u201d the Cloudflare service, or having a misconfigured custom SSL certificate through your Cloudflare dashboard (e.g., invalid SSL certificates, expired certificates, or mismatched host names).\")\n\t)\n\tacknowledgement.addElement ( $(\"<p>\")\n\t\t.append ( $(\"<strong>\").text (\"If you need to disable HTTPS on your domain\") )\n\t\t.append (\", you must first disable HSTS in your Cloudflare dashboard and wait for the max-age to lapse to guarantee that every browser is aware of this change before you can disable HTTPS. The average max-age is six months (you can set the max-age in the next step). \")\n\t\t.append ( $(\"<strong>\").text (\"If you remove HTTPS before disabling HSTS your website will become inaccessible to visitors for up to the max-age or until you support HTTPS again.  \") )\n\t\t.append (\"Because disabling HTTPS on an HSTS enabled website can have these consequences, we strongly suggest that you have a committed HTTPS service in place before enabling this feature.\")\n\t)\n\tacknowledgement.addElement ( $(\"<a>\").text (\"More information\").prop ( \"target\", \"_blank\" ).prop ( \"href\", \"https://blog.cloudflare.com/enforce-web-policy-with-hypertext-strict-transport-security-hsts/\" ) )\n\tacknowledgement.addButton ({ label: \"Cancel\", class: \"gray\", callback: acknowledgement.close })\n\tacknowledgement.addButton ({ label: \"I Understand\", class: \"red\", callback: ( components ) => {\n\t\tacknowledgement.close ()\n\t\tcreateConfigure ( options, callback )\n\t}})\n\tacknowledgement.show ()\n}\n\nfunction createConfigure ( options, callback ) {\n\tlet configure = new modal.Modal ( 600 )\n\tlet enabled = modal.createSwitch ( \"enabled\", options.enabled )\n\tlet maxAge = modal.createSelect ( \"max-age\", [\n\t\t{ value: \"0\", label: maxAgeLabel ( 0 ) },\n\t\t{ value: \"2592000\", label: maxAgeLabel ( 2592000 ) },\n\t\t{ value: \"5184000\", label: maxAgeLabel ( 5184000 ) },\n\t\t{ value: \"7776000\", label: maxAgeLabel ( 7776000 ) },\n\t\t{ value: \"10368000\", label: maxAgeLabel ( 10368000 ) },\n\t\t{ value: \"12960000\", label: maxAgeLabel ( 12960000 ) },\n\t\t{ value: \"15552000\", label: maxAgeLabel ( 15552000 ) },\n\t\t{ value: \"31536000\", label: maxAgeLabel ( 31536000 ) },\n\t]).val ( options.max_age )\n\tlet includeSubDomains = modal.createSwitch ( \"include_subdomains\", options.include_subdomains )\n\tlet preload = modal.createSwitch ( \"preload\", options.preload )\n\tlet noSniff = modal.createSwitch ( \"nosniff\", options.nosniff )\n\tconfigure.addTitle (\"Configure\")\n\tconfigure.addElement ( $(`<p style=\"font-size: 15.5px;\" >`)\n\t\t.append ( $(\"<strong>\").text (\"Caution\") )\n\t\t.append (\": If misconfigured, HTTP Strict Transport Security (HSTS) can make your website inaccessible to users for an extended period of time.\")\n\t)\n\tconfigure.addElement ( $(\"<table class='configure' >\")\n\t\t.append ( $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append ( $(\"<strong>\").text (\"Enable HSTS (Strict-Transport-Security)\") )\n\t\t\t\t.append (\"Serve HSTS headers with all HTTPS requests\")\n\t\t\t)\n\t\t\t.append ( $(\"<td>\").append ( enabled ) )\n\t\t)\n\t\t.append ( $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append ( $(\"<strong>\").text (\"Max Age Header (max-age)\") )\n\t\t\t\t.append (\"Specify the duration HSTS headers are cached in browsers\")\n\t\t\t)\n\t\t\t.append ( $(\"<td>\").append ( maxAge ) )\n\t\t)\n\t\t.append ( $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append ( $(\"<strong>\").text (\"Apply HSTS policy to subdomains (includeSubDomains)\") )\n\t\t\t\t.append (\"Every domain below this will inherit the same HSTS headers\")\n\t\t\t\t.append (\"<b>Caution</b>: If any of your subdomains do not support HTTPS, they will become inaccessible.\")\n\t\t\t)\n\t\t\t.append ( $(\"<td>\").append ( includeSubDomains ) )\n\t\t)\n\t\t.append ( $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append ( $(\"<strong>\").text (\"Preload\") )\n\t\t\t\t.append (\"Permit browsers to preload HSTS configuration automatically\")\n\t\t\t\t.append (\"<b>Caution</b>: Preload can make a website without HTTPS support completely inaccessible.\")\n\t\t\t)\n\t\t\t.append ( $(\"<td>\").append ( preload ) )\n\t\t)\n\t\t.append ( $(\"<tr>\")\n\t\t\t.append ( $(\"<td>\")\n\t\t\t\t.append ( $(\"<strong>\").text (\"No-Sniff Header\") )\n\t\t\t\t.append (\"Send the \u201cX-Content-Type-Options: nosniff\u201d header to prevent Internet Explorer and Google Chrome from MIME-sniffing away from the declared Content-Type.\")\n\t\t\t)\n\t\t\t.append ( $(\"<td>\").append ( noSniff ) )\n\t\t)\n\t)\n\tconfigure.addButton ({ label: \"Previous\", class: \"gray\", callback: () => {\n\t\tconfigure.close ()\n\t\tcreateAcknowledgement ( options, callback )\n\t}})\n\tconfigure.addButton ({ label: \"Cancel\", class: \"gray\", callback: configure.close })\n\tconfigure.addButton ({ label: \"Save\", callback: ( components ) => {\n\t\tcallback ( configure, {\n\t\t\tenabled: $(enabled).find (\"[type='checkbox']:checked\").length > 0,\n\t\t\tmax_age: maxAge.val (),\n\t\t\tinclude_subdomains: $(includeSubDomains).find (\"[type='checkbox']:checked\").length > 0,\n\t\t\tpreload: $(preload).find (\"[type='checkbox']:checked\").length > 0,\n\t\t\tnosniff: $(noSniff).find (\"[type='checkbox']:checked\").length > 0\n\t\t})\n\t}})\n\tconfigure.show ()\n}\n\n$(document).on ( \"cloudflare.ssl_tls.http_strict_transport_security.update\", function ( event, data ) {\n\tcreateAcknowledgement ( $(data.section).data (\"options\"), ( configure, config ) => {\n\t\t$(data.section).addClass (\"loading\")\n\t\t$(configure.components.modal).addClass (\"loading\")\n\t\t$.ajax ({\n\t\t\turl: data.form.endpoint,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { \"form_key\": data.form.key, \"value\": config },\n\t\t\tsuccess: function ( response ) {\n\t\t\t\tnotification.showMessages ( response )\n\t\t\t\tconfigure.close ()\n\t\t\t\tcommon.loadSections (\".ssl_tls.http_strict_transport_security\")\n\t\t\t}\n\t\t})\n\t})\n})\n","JetRails_Cloudflare/js/ssl_tls/ssl_tls_recommender.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.ssl_tls_recommender.initialize\", switchElement.initializeCustom ( \"enabled\", true ) )\n$(document).on ( \"cloudflare.ssl_tls.ssl_tls_recommender.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/ssl_tls/ssl.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.ssl_tls.ssl.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.ssl.update\", selectElement.update )\n","JetRails_Cloudflare/js/ssl_tls/authenticated_origin_pulls.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.authenticated_origin_pulls.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.authenticated_origin_pulls.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/ssl_tls/automatic_https_rewrites.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.automatic_https_rewrites.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.automatic_https_rewrites.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/ssl_tls/minimum_tls_version.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.ssl_tls.minimum_tls_version.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.minimum_tls_version.update\", selectElement.update )\n","JetRails_Cloudflare/js/ssl_tls/disable_universal_ssl.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\nconst modal = require (\"cloudflare/core/modal\")\nconst common = require (\"cloudflare/common\")\n\n$(document).on ( \"cloudflare.ssl_tls.disable_universal_ssl.initialize\", function ( event, data ) {\n\tif ( !data.response.result.enabled ) {\n\t\t$(data.section).find (\"[name='button']\").val (\"Enable Universal SSL\")\n\t\t$(data.section).find (\"[name='button']\").data ( \"action\", \"enable\" )\n\t}\n\telse {\n\t\t$(data.section).find (\"[name='button']\").val (\"Disable Universal SSL\")\n\t\t$(data.section).find (\"[name='button']\").data ( \"action\", \"disable\" )\n\t}\n})\n\nfunction triggerChange ( data ) {\n\tlet value = $(data.trigger).data (\"action\") == \"enable\"\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"state\": value },\n\t\tsuccess: function ( response ) {\n\t\t\tnotification.showMessages ( response )\n\t\t\t$(\"section.cloudflare.ssl_tls.ssl\").addClass (\"loading\")\n\t\t\tcommon.loadSections (\".ssl_tls.disable_universal_ssl\")\n\t\t}\n\t})\n}\n\n$(document).on ( \"cloudflare.ssl_tls.disable_universal_ssl.toggle\", function ( event, data ) {\n\tif ( $(data.trigger).data (\"action\") == \"disable\" ) {\n\t\tlet agreement = new modal.Modal ( 800 )\n\t\tagreement.addTitle (\"Acknowledgement\")\n\t\tagreement.addElement ( $(\"<p>\").text (\"By disabling Universal SSL, you understand that the following Cloudflare settings and preferences will result in visitors being unable to visit your domain unless you have uploaded a custom certificate or purchased a dedicated certificate.\") )\n\t\tagreement.addElement ( $(\"<ul>\")\n\t\t\t.append ( $(\"<li>\").text (\"HSTS\") )\n\t\t\t.append ( $(\"<li>\").text (\"Always Use HTTPS\") )\n\t\t\t.append ( $(\"<li>\").text (\"Opportunistic Encryption\") )\n\t\t\t.append ( $(\"<li>\").text (\"Any Page Rules redirecting traffic to HTTPS\") )\n\t\t)\n\t\tagreement.addElement ( $(\"<p>\").text (\"Similarly, any HTTP redirect to HTTPS at the origin while the Cloudflare proxy is enabled will result in users being unable to visit your site without a valid certificate at Cloudflare\u2019s edge.\") )\n\t\tagreement.addElement ( $(\"<p>\").text (\"If you do not have a valid custom or dedicated certificate at Cloudflare\u2019s edge and are unsure if any of the above Cloudflare settings are enabled, or if any HTTP redirects exist at your origin, we advise leaving Universal SSL enabled for your domain.\") )\n\t\tagreement.addButton ({ label: \"Cancel\", class: \"gray\", callback: agreement.close })\n\t\tagreement.addButton ({ label: \"I Understand\", class: \"red\", callback: ( components ) => {\n\t\t\tagreement.close ()\n\t\t\ttriggerChange ( data )\n\t\t}})\n\t\tagreement.show ()\n\t}\n\telse {\n\t\ttriggerChange ( data )\n\t}\n})\n","JetRails_Cloudflare/js/ssl_tls/tls_13.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst selectElement = require (\"cloudflare/generic/select\")\n\n$(document).on ( \"cloudflare.ssl_tls.tls_13.initialize\", selectElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.tls_13.update\", selectElement.update )\n","JetRails_Cloudflare/js/ssl_tls/opportunistic_encryption.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst switchElement = require (\"cloudflare/generic/switch\")\n\n$(document).on ( \"cloudflare.ssl_tls.opportunistic_encryption.initialize\", switchElement.initialize )\n$(document).on ( \"cloudflare.ssl_tls.opportunistic_encryption.toggle\", switchElement.toggle )\n","JetRails_Cloudflare/js/generic/switch.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst notification = require (\"cloudflare/core/notification\")\n\nfunction initializeCustom ( prop = \"value\", on = \"on\" ) {\n\treturn function initialize ( event, data ) {\n\t\tlet value\n\t\tif ( typeof prop === \"object\" && prop.constructor.name === \"Array\" ) {\n\t\t\tvalue = prop.reduce ( ( a, e ) => { return a [ e ] }, data.response.result )\n\t\t}\n\t\telse {\n\t\t\tvalue = data.response.result [ prop ]\n\t\t}\n\t\t$(data.section).find (\"[name='mode']\").prop ( \"checked\", value == on )\n\t}\n}\n\nfunction toggle ( event, data ) {\n\tvar state = $(data.section).find (\"[name='mode']:checked\").length > 0\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"state\": state },\n\t\tsuccess: ( response ) => {\n\t\t\tif ( !response.success ) {\n\t\t\t\t$(data.section)\n\t\t\t\t\t.find (\"[name='mode']\")\n\t\t\t\t\t.prop ( \"checked\", !state )\n\t\t\t}\n\t\t\tnotification.showMessages ( response )\n\t\t\t$(data.section).removeClass (\"loading\")\n\t\t}\n\t})\n}\n\nmodule.exports = {\n\tinitialize: initializeCustom (),\n\ttoggle,\n\tinitializeCustom,\n}\n","JetRails_Cloudflare/js/generic/select.js":"const $ = jQuery = jquery = require (\"jquery\")\nconst common = require (\"cloudflare/common\")\nconst notification = require (\"cloudflare/core/notification\")\n\nfunction initialize ( event, data ) {\n\t$(data.section).find (\"[name='value']\").val ( data.response.result.value )\n\t$(data.section).removeClass (\"loading\")\n}\n\nfunction update ( event, data ) {\n\tlet value = $(data.section).find (\"[name='value']\").val ()\n\t$(data.section).addClass (\"loading\")\n\t$.ajax ({\n\t\turl: data.form.endpoint,\n\t\ttype: \"POST\",\n\t\tdata: { \"form_key\": data.form.key, \"value\": value },\n\t\tsuccess: ( response ) => {\n\t\t\tnotification.showMessages ( response )\n\t\t\tif ( response.success ) {\n\t\t\t\t$(data.section).removeClass (\"loading\")\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet targetSection = `${data.target.tab}.${data.target.section}`\n\t\t\t\tcommon.loadSections (`.cloudflare.${targetSection}`)\n\t\t\t}\n\t\t}\n\t})\n}\n\nmodule.exports = { initialize, update }\n","JetRails_Cloudflare/bundle/index.min.js":"!function(){var e,t,i={};\n/*!\n  * jQuery JavaScript Library v3.6.0\n  * https://jquery.com/\n  *\n  * Includes Sizzle.js\n  * https://sizzlejs.com/\n  *\n  * Copyright OpenJS Foundation and other contributors\n  * Released under the MIT license\n  * https://jquery.org/license\n  *\n  * Date: 2021-03-02T17:08Z\n  */\ne=\"undefined\"!=typeof window?window:i,t=function(e,t){var i=[],n=Object.getPrototypeOf,s=i.slice,a=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},o=i.push,r=i.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,h=u.call(Object),p={},f=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType&&\"function\"!=typeof e.item},g=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,i){var n,s,a=(i=i||m).createElement(\"script\");if(a.text=e,t)for(n in v)(s=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,s);i.head.appendChild(a).parentNode.removeChild(a)}function b(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?l[c.call(e)]||\"object\":typeof e}var y=\"3.6.0\",w=function(e,t){return new w.fn.init(e,t)};function x(e){var t=!!e&&\"length\"in e&&e.length,i=b(e);return!f(e)&&!g(e)&&(\"array\"===i||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:y,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var e,t,i,n,s,a,o=arguments[0]||{},r=1,l=arguments.length,c=!1;for(\"boolean\"==typeof o&&(c=o,o=arguments[r]||{},r++),\"object\"==typeof o||f(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)n=e[t],\"__proto__\"!==t&&o!==n&&(c&&n&&(w.isPlainObject(n)||(s=Array.isArray(n)))?(i=o[t],a=s&&!Array.isArray(i)?[]:s||w.isPlainObject(i)?i:{},s=!1,o[t]=w.extend(c,a,n)):void 0!==n&&(o[t]=n));return o},w.extend({expando:\"jQuery\"+(y+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||\"[object Object]\"!==c.call(e)||(t=n(e))&&(\"function\"!=typeof(i=d.call(t,\"constructor\")&&t.constructor)||u.call(i)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){_(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(x(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(x(Object(e))?w.merge(i,\"string\"==typeof e?[e]:e):o.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:r.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,a=e.length,o=!i;s<a;s++)!t(e[s],s)!==o&&n.push(e[s]);return n},map:function(e,t,i){var n,s,o=0,r=[];if(x(e))for(n=e.length;o<n;o++)null!=(s=t(e[o],o,i))&&r.push(s);else for(o in e)null!=(s=t(e[o],o,i))&&r.push(s);return a(r)},guid:1,support:p}),\"function\"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(e,t){l[\"[object \"+t+\"]\"]=t.toLowerCase()}));var k=\n/*!\n    * Sizzle CSS Selector Engine v2.3.6\n    * https://sizzlejs.com/\n    *\n    * Copyright JS Foundation and other contributors\n    * Released under the MIT license\n    * https://js.foundation/\n    *\n    * Date: 2021-02-16\n    */\nfunction(e){var t,i,n,s,a,o,r,l,c,d,u,h,p,f,g,m,v,_,b,y=\"sizzle\"+1*new Date,w=e.document,x=0,k=0,C=le(),T=le(),S=le(),D=le(),P=function(e,t){return e===t&&(u=!0),0},I={}.hasOwnProperty,M=[],A=M.pop,E=M.push,z=M.push,O=M.slice,H=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},j=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",N=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",L=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",R=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+L+\")(?:\"+N+\"*([*^$|!~]?=)\"+N+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+L+\"))|)\"+N+\"*\\\\]\",W=\":(\"+L+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+R+\")*)|.*)\\\\)|)\",q=new RegExp(N+\"+\",\"g\"),F=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),B=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),$=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(N+\"|>\"),Y=new RegExp(W),V=new RegExp(\"^\"+L+\"$\"),Q={ID:new RegExp(\"^#(\"+L+\")\"),CLASS:new RegExp(\"^\\\\.(\"+L+\")\"),TAG:new RegExp(\"^(\"+L+\"|[*])\"),ATTR:new RegExp(\"^\"+R),PSEUDO:new RegExp(\"^\"+W),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+j+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,G=/^h\\d$/i,J=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ee=/[+~]/,te=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ie=function(e,t){var i=\"0x\"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},ne=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,se=function(e,t){return t?\"\\0\"===e?\"\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},ae=function(){h()},oe=ye((function(e){return!0===e.disabled&&\"fieldset\"===e.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{z.apply(M=O.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(e){z={apply:M.length?function(e,t){E.apply(e,O.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,s){var a,r,c,d,u,f,v,_=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],\"string\"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!s&&(h(t),t=t||p,g)){if(11!==w&&(u=Z.exec(e)))if(a=u[1]){if(9===w){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(_&&(c=_.getElementById(a))&&b(t,c)&&c.id===a)return n.push(c),n}else{if(u[2])return z.apply(n,t.getElementsByTagName(e)),n;if((a=u[3])&&i.getElementsByClassName&&t.getElementsByClassName)return z.apply(n,t.getElementsByClassName(a)),n}if(i.qsa&&!D[e+\" \"]&&(!m||!m.test(e))&&(1!==w||\"object\"!==t.nodeName.toLowerCase())){if(v=e,_=t,1===w&&(U.test(e)||$.test(e))){for((_=ee.test(e)&&ve(t.parentNode)||t)===t&&i.scope||((d=t.getAttribute(\"id\"))?d=d.replace(ne,se):t.setAttribute(\"id\",d=y)),r=(f=o(e)).length;r--;)f[r]=(d?\"#\"+d:\":scope\")+\" \"+be(f[r]);v=f.join(\",\")}try{return z.apply(n,_.querySelectorAll(v)),n}catch(t){D(e,!0)}finally{d===y&&t.removeAttribute(\"id\")}}}return l(e.replace(F,\"$1\"),t,n,s)}function le(){var e=[];return function t(i,s){return e.push(i+\" \")>n.cacheLength&&delete t[e.shift()],t[i+\" \"]=s}}function ce(e){return e[y]=!0,e}function de(e){var t=p.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var i=e.split(\"|\"),s=i.length;s--;)n.attrHandle[i[s]]=t}function he(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var i=t.nodeName.toLowerCase();return(\"input\"===i||\"button\"===i)&&t.type===e}}function ge(e){return function(t){return\"form\"in t?t.parentNode&&!1===t.disabled?\"label\"in t?\"label\"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:\"label\"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(i,n){for(var s,a=e([],i.length,t),o=a.length;o--;)i[s=a[o]]&&(i[s]=!(n[s]=i[s]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=re.support={},a=re.isXML=function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!K.test(t||i&&i.nodeName||\"HTML\")},h=re.setDocument=function(e){var t,s,o=e?e.ownerDocument||e:w;return o!=p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,g=!a(p),w!=p&&(s=p.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener(\"unload\",ae,!1):s.attachEvent&&s.attachEvent(\"onunload\",ae)),i.scope=de((function(e){return f.appendChild(e).appendChild(p.createElement(\"div\")),void 0!==e.querySelectorAll&&!e.querySelectorAll(\":scope fieldset div\").length})),i.attributes=de((function(e){return e.className=\"i\",!e.getAttribute(\"className\")})),i.getElementsByTagName=de((function(e){return e.appendChild(p.createComment(\"\")),!e.getElementsByTagName(\"*\").length})),i.getElementsByClassName=J.test(p.getElementsByClassName),i.getById=de((function(e){return f.appendChild(e).id=y,!p.getElementsByName||!p.getElementsByName(y).length})),i.getById?(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute(\"id\")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode(\"id\");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i,n,s,a=t.getElementById(e);if(a){if((i=a.getAttributeNode(\"id\"))&&i.value===e)return[a];for(s=t.getElementsByName(e),n=0;a=s[n++];)if((i=a.getAttributeNode(\"id\"))&&i.value===e)return[a]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,a=t.getElementsByTagName(e);if(\"*\"===e){for(;i=a[s++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(i.qsa=J.test(p.querySelectorAll))&&(de((function(e){var t;f.appendChild(e).innerHTML=\"<a id='\"+y+\"'></a><select id='\"+y+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&m.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||m.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+j+\")\"),e.querySelectorAll(\"[id~=\"+y+\"-]\").length||m.push(\"~=\"),(t=p.createElement(\"input\")).setAttribute(\"name\",\"\"),e.appendChild(t),e.querySelectorAll(\"[name='']\").length||m.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),e.querySelectorAll(\":checked\").length||m.push(\":checked\"),e.querySelectorAll(\"a#\"+y+\"+*\").length||m.push(\".#.+[+~]\"),e.querySelectorAll(\"\\\\\\f\"),m.push(\"[\\\\r\\\\n\\\\f]\")})),de((function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=p.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&m.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&m.push(\":enabled\",\":disabled\"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&m.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),m.push(\",.*:\")}))),(i.matchesSelector=J.test(_=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&de((function(e){i.disconnectedMatch=_.call(e,\"*\"),_.call(e,\"[s!='']:x\"),v.push(\"!=\",W)})),m=m.length&&new RegExp(m.join(\"|\")),v=v.length&&new RegExp(v.join(\"|\")),t=J.test(f.compareDocumentPosition),b=t||J.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e==p||e.ownerDocument==w&&b(w,e)?-1:t==p||t.ownerDocument==w&&b(w,t)?1:d?H(d,e)-H(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,s=e.parentNode,a=t.parentNode,o=[e],r=[t];if(!s||!a)return e==p?-1:t==p?1:s?-1:a?1:d?H(d,e)-H(d,t):0;if(s===a)return he(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)r.unshift(i);for(;o[n]===r[n];)n++;return n?he(o[n],r[n]):o[n]==w?-1:r[n]==w?1:0},p):p},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if(h(e),i.matchesSelector&&g&&!D[t+\" \"]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var n=_.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){D(t,!0)}return re(t,p,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var s=n.attrHandle[t.toLowerCase()],a=s&&I.call(n.attrHandle,t.toLowerCase())?s(e,t,!g):void 0;return void 0!==a?a:i.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},re.escape=function(e){return(e+\"\").replace(ne,se)},re.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},re.uniqueSort=function(e){var t,n=[],s=0,a=0;if(u=!i.detectDuplicates,d=!i.sortStable&&e.slice(0),e.sort(P),u){for(;t=e[a++];)t===e[a]&&(s=n.push(a));for(;s--;)e.splice(n[s],1)}return d=null,e},s=re.getText=function(e){var t,i=\"\",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=s(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=s(t);return i},(n=re.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||\"\").replace(te,ie),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":i&&Y.test(i)&&(t=o(i,!0))&&(t=i.indexOf(\")\",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+\" \"];return t||(t=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+e+\"(\"+N+\"|$)\"))&&C(e,(function(e){return t.test(\"string\"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute(\"class\")||\"\")}))},ATTR:function(e,t,i){return function(n){var s=re.attr(n,e);return null==s?\"!=\"===t:!t||(s+=\"\",\"=\"===t?s===i:\"!=\"===t?s!==i:\"^=\"===t?i&&0===s.indexOf(i):\"*=\"===t?i&&s.indexOf(i)>-1:\"$=\"===t?i&&s.slice(-i.length)===i:\"~=\"===t?(\" \"+s.replace(q,\" \")+\" \").indexOf(i)>-1:\"|=\"===t&&(s===i||s.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(e,t,i,n,s){var a=\"nth\"!==e.slice(0,3),o=\"last\"!==e.slice(-4),r=\"of-type\"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,h,p,f,g=a!==o?\"nextSibling\":\"previousSibling\",m=t.parentNode,v=r&&t.nodeName.toLowerCase(),_=!l&&!r,b=!1;if(m){if(a){for(;g;){for(h=t;h=h[g];)if(r?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g=\"only\"===e&&!f&&\"nextSibling\"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&_){for(b=(p=(c=(d=(u=(h=m)[y]||(h[y]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[x,p,b];break}}else if(_&&(b=p=(c=(d=(u=(h=t)[y]||(h[y]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((r?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(_&&((d=(u=h[y]||(h[y]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[x,b]),h!==t)););return(b-=s)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var i,s=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error(\"unsupported pseudo: \"+e);return s[y]?s(t):s.length>1?(i=[e,e,\"\",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,i){for(var n,a=s(e,t),o=a.length;o--;)e[n=H(e,a[o])]=!(i[n]=a[o])})):function(e){return s(e,0,i)}):s}},pseudos:{not:ce((function(e){var t=[],i=[],n=r(e.replace(F,\"$1\"));return n[y]?ce((function(e,t,i,s){for(var a,o=n(e,null,s,[]),r=e.length;r--;)(a=o[r])&&(e[r]=!(t[r]=a))})):function(e,s,a){return t[0]=e,n(t,null,a,i),t[0]=null,!i.pop()}})),has:ce((function(e){return function(t){return re(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ie),function(t){return(t.textContent||s(t)).indexOf(e)>-1}})),lang:ce((function(e){return V.test(e||\"\")||re.error(\"unsupported lang: \"+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return(i=i.toLowerCase())===e||0===i.indexOf(e+\"-\")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,i){return[i<0?i+t:i]})),even:me((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:me((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:me((function(e,t,i){for(var n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:me((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=fe(t);function _e(){}function be(e){for(var t=0,i=e.length,n=\"\";t<i;t++)n+=e[t].value;return n}function ye(e,t,i){var n=t.dir,s=t.next,a=s||n,o=i&&\"parentNode\"===a,r=k++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s);return!1}:function(t,i,l){var c,d,u,h=[x,r];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(d=(u=t[y]||(t[y]={}))[t.uniqueID]||(u[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=d[a])&&c[0]===x&&c[1]===r)return h[2]=c[2];if(d[a]=h,h[2]=e(t,i,l))return!0}return!1}}function we(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function xe(e,t,i,n,s){for(var a,o=[],r=0,l=e.length,c=null!=t;r<l;r++)(a=e[r])&&(i&&!i(a,n,s)||(o.push(a),c&&t.push(r)));return o}function ke(e,t,i,n,s,a){return n&&!n[y]&&(n=ke(n)),s&&!s[y]&&(s=ke(s,a)),ce((function(a,o,r,l){var c,d,u,h=[],p=[],f=o.length,g=a||function(e,t,i){for(var n=0,s=t.length;n<s;n++)re(e,t[n],i);return i}(t||\"*\",r.nodeType?[r]:r,[]),m=!e||!a&&t?g:xe(g,h,e,r,l),v=i?s||(a?e:f||n)?[]:o:m;if(i&&i(m,v,r,l),n)for(c=xe(v,p),n(c,[],r,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(m[p[d]]=u));if(a){if(s||e){if(s){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);s(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=s?H(a,u):h[d])>-1&&(a[c]=!(o[c]=u))}}else v=xe(v===o?v.splice(f,v.length):v),s?s(null,o,v,l):z.apply(o,v)}))}function Ce(e){for(var t,i,s,a=e.length,o=n.relative[e[0].type],r=o||n.relative[\" \"],l=o?1:0,d=ye((function(e){return e===t}),r,!0),u=ye((function(e){return H(t,e)>-1}),r,!0),h=[function(e,i,n){var s=!o&&(n||i!==c)||((t=i).nodeType?d(e,i,n):u(e,i,n));return t=null,s}];l<a;l++)if(i=n.relative[e[l].type])h=[ye(we(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[y]){for(s=++l;s<a&&!n.relative[e[s].type];s++);return ke(l>1&&we(h),l>1&&be(e.slice(0,l-1).concat({value:\" \"===e[l-2].type?\"*\":\"\"})).replace(F,\"$1\"),i,l<s&&Ce(e.slice(l,s)),s<a&&Ce(e=e.slice(s)),s<a&&be(e))}h.push(i)}return we(h)}return _e.prototype=n.filters=n.pseudos,n.setFilters=new _e,o=re.tokenize=function(e,t){var i,s,a,o,r,l,c,d=T[e+\" \"];if(d)return t?0:d.slice(0);for(r=e,l=[],c=n.preFilter;r;){for(o in i&&!(s=B.exec(r))||(s&&(r=r.slice(s[0].length)||r),l.push(a=[])),i=!1,(s=$.exec(r))&&(i=s.shift(),a.push({value:i,type:s[0].replace(F,\" \")}),r=r.slice(i.length)),n.filter)!(s=Q[o].exec(r))||c[o]&&!(s=c[o](s))||(i=s.shift(),a.push({value:i,type:o,matches:s}),r=r.slice(i.length));if(!i)break}return t?r.length:r?re.error(e):T(e,l).slice(0)},r=re.compile=function(e,t){var i,s=[],a=[],r=S[e+\" \"];if(!r){for(t||(t=o(e)),i=t.length;i--;)(r=Ce(t[i]))[y]?s.push(r):a.push(r);(r=S(e,function(e,t){var i=t.length>0,s=e.length>0,a=function(a,o,r,l,d){var u,f,m,v=0,_=\"0\",b=a&&[],y=[],w=c,k=a||s&&n.find.TAG(\"*\",d),C=x+=null==w?1:Math.random()||.1,T=k.length;for(d&&(c=o==p||o||d);_!==T&&null!=(u=k[_]);_++){if(s&&u){for(f=0,o||u.ownerDocument==p||(h(u),r=!g);m=e[f++];)if(m(u,o||p,r)){l.push(u);break}d&&(x=C)}i&&((u=!m&&u)&&v--,a&&b.push(u))}if(v+=_,i&&_!==v){for(f=0;m=t[f++];)m(b,y,o,r);if(a){if(v>0)for(;_--;)b[_]||y[_]||(y[_]=A.call(l));y=xe(y)}z.apply(l,y),d&&!a&&y.length>0&&v+t.length>1&&re.uniqueSort(l)}return d&&(x=C,c=w),b};return i?ce(a):a}(a,s))).selector=e}return r},l=re.select=function(e,t,i,s){var a,l,c,d,u,h=\"function\"==typeof e&&e,p=!s&&o(e=h.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&\"ID\"===(c=l[0]).type&&9===t.nodeType&&g&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,ie),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=Q.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[d=c.type]);)if((u=n.find[d])&&(s=u(c.matches[0].replace(te,ie),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(a,1),!(e=s.length&&be(l)))return z.apply(i,s),i;break}}return(h||r(e,p))(s,t,!g,i,!t||ee.test(e)&&ve(t.parentNode)||t),i},i.sortStable=y.split(\"\").sort(P).join(\"\")===y,i.detectDuplicates=!!u,h(),i.sortDetached=de((function(e){return 1&e.compareDocumentPosition(p.createElement(\"fieldset\"))})),de((function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")}))||ue(\"type|href|height|width\",(function(e,t,i){if(!i)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)})),i.attributes&&de((function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")}))||ue(\"value\",(function(e,t,i){if(!i&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute(\"disabled\")}))||ue(j,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),re}(e);w.find=k,w.expr=k.selectors,w.expr[\":\"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var C=function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&w(e).is(i))break;n.push(e)}return n},T=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},S=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function I(e,t,i){return f(t)?w.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?w.grep(e,(function(e){return e===t!==i})):\"string\"!=typeof t?w.grep(e,(function(e){return r.call(t,e)>-1!==i})):w.filter(t,e,i)}w.filter=function(e,t,i){var n=t[0];return i&&(e=\":not(\"+e+\")\"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,i,n=this.length,s=this;if(\"string\"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<n;t++)if(w.contains(s[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)w.find(e,s[t],i);return n>1?w.uniqueSort(i):i},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,\"string\"==typeof e&&S.test(e)?w(e):e||[],!1).length}});var M,A=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(w.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||M,\"string\"==typeof e){if(!(n=\"<\"===e[0]&&\">\"===e[e.length-1]&&e.length>=3?[null,e,null]:A.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),P.test(n[1])&&w.isPlainObject(t))for(n in t)f(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=m.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==i.ready?i.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,M=w(m);var E=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,s=this.length,a=[],o=\"string\"!=typeof e&&w(e);if(!S.test(e))for(;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&w.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?w.uniqueSort(a):a)},index:function(e){return e?\"string\"==typeof e?r.call(w(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,\"parentNode\")},parentsUntil:function(e,t,i){return C(e,\"parentNode\",i)},next:function(e){return O(e,\"nextSibling\")},prev:function(e){return O(e,\"previousSibling\")},nextAll:function(e){return C(e,\"nextSibling\")},prevAll:function(e){return C(e,\"previousSibling\")},nextUntil:function(e,t,i){return C(e,\"nextSibling\",i)},prevUntil:function(e,t,i){return C(e,\"previousSibling\",i)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(D(e,\"template\")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(i,n){var s=w.map(this,t,i);return\"Until\"!==e.slice(-5)&&(n=i),n&&\"string\"==typeof n&&(s=w.filter(n,s)),this.length>1&&(z[e]||w.uniqueSort(s),E.test(e)&&s.reverse()),this.pushStack(s)}}));var H=/[^\\x20\\t\\r\\n\\f]+/g;function j(e){return e}function N(e){throw e}function L(e,t,i,n){var s;try{e&&f(s=e.promise)?s.call(e).done(t).fail(i):e&&f(s=e.then)?s.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}w.Callbacks=function(e){e=\"string\"==typeof e?function(e){var t={};return w.each(e.match(H)||[],(function(e,i){t[i]=!0})),t}(e):w.extend({},e);var t,i,n,s,a=[],o=[],r=-1,l=function(){for(s=s||e.once,n=t=!0;o.length;r=-1)for(i=o.shift();++r<a.length;)!1===a[r].apply(i[0],i[1])&&e.stopOnFalse&&(r=a.length,i=!1);e.memory||(i=!1),t=!1,s&&(a=i?[]:\"\")},c={add:function(){return a&&(i&&!t&&(r=a.length-1,o.push(i)),function t(i){w.each(i,(function(i,n){f(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&\"string\"!==b(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return w.each(arguments,(function(e,t){for(var i;(i=w.inArray(t,a,i))>-1;)a.splice(i,1),i<=r&&r--})),this},has:function(e){return e?w.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=o=[],a=i=\"\",this},disabled:function(){return!a},lock:function(){return s=o=[],i||t||(a=i=\"\"),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},w.extend({Deferred:function(t){var i=[[\"notify\",\"progress\",w.Callbacks(\"memory\"),w.Callbacks(\"memory\"),2],[\"resolve\",\"done\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),1,\"rejected\"]],n=\"pending\",s={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(i,(function(i,n){var s=f(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=s&&s.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+\"With\"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,s){var a=0;function o(t,i,n,s){return function(){var r=this,l=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(r,l))===i.promise())throw new TypeError(\"Thenable self-resolution\");c=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,f(c)?s?c.call(e,o(a,i,j,s),o(a,i,N,s)):(a++,c.call(e,o(a,i,j,s),o(a,i,N,s),o(a,i,j,i.notifyWith))):(n!==j&&(r=void 0,l=[e]),(s||i.resolveWith)(r,l))}},d=s?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(n!==N&&(r=void 0,l=[e]),i.rejectWith(r,l))}};t?d():(w.Deferred.getStackHook&&(d.stackTrace=w.Deferred.getStackHook()),e.setTimeout(d))}}return w.Deferred((function(e){i[0][3].add(o(0,e,f(s)?s:j,e.notifyWith)),i[1][3].add(o(0,e,f(t)?t:j)),i[2][3].add(o(0,e,f(n)?n:N))})).promise()},promise:function(e){return null!=e?w.extend(e,s):s}},a={};return w.each(i,(function(e,t){var o=t[2],r=t[5];s[t[1]]=o.add,r&&o.add((function(){n=r}),i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+\"With\"](this===a?void 0:this,arguments),this},a[t[0]+\"With\"]=o.fireWith})),s.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),a=s.call(arguments),o=w.Deferred(),r=function(e){return function(i){n[e]=this,a[e]=arguments.length>1?s.call(arguments):i,--t||o.resolveWith(n,a)}};if(t<=1&&(L(e,o.done(r(i)).resolve,o.reject,!t),\"pending\"===o.state()||f(a[i]&&a[i].then)))return o.then();for(;i--;)L(a[i],r(i),o.reject);return o.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&R.test(t.name)&&e.console.warn(\"jQuery.Deferred exception: \"+t.message,t.stack,i)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var W=w.Deferred();function q(){m.removeEventListener(\"DOMContentLoaded\",q),e.removeEventListener(\"load\",q),w.ready()}w.fn.ready=function(e){return W.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||W.resolveWith(m,[w]))}}),w.ready.then=W.then,\"complete\"===m.readyState||\"loading\"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener(\"DOMContentLoaded\",q),e.addEventListener(\"load\",q));var F=function(e,t,i,n,s,a,o){var r=0,l=e.length,c=null==i;if(\"object\"===b(i))for(r in s=!0,i)F(e,t,r,i[r],!0,a,o);else if(void 0!==n&&(s=!0,f(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(w(e),i)})),t))for(;r<l;r++)t(e[r],i,o?n:n.call(e[r],r,t(e[r],i)));return s?e:c?t.call(e):l?t(e[0],i):a},B=/^-ms-/,$=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function Y(e){return e.replace(B,\"ms-\").replace($,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,s=this.cache(e);if(\"string\"==typeof t)s[Y(t)]=i;else for(n in t)s[Y(n)]=t[n];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,i){return void 0===t||t&&\"string\"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in n?[t]:t.match(H)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||w.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var K=new Q,X=new Q,G=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,J=/[A-Z]/g;function Z(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n=\"data-\"+t.replace(J,\"-$&\").toLowerCase(),\"string\"==typeof(i=e.getAttribute(n))){try{i=function(e){return\"true\"===e||\"false\"!==e&&(\"null\"===e?null:e===+e+\"\"?+e:G.test(e)?JSON.parse(e):e)}(i)}catch(e){}X.set(e,t,i)}else i=void 0;return i}w.extend({hasData:function(e){return X.hasData(e)||K.hasData(e)},data:function(e,t,i){return X.access(e,t,i)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,i){return K.access(e,t,i)},_removeData:function(e,t){K.remove(e,t)}}),w.fn.extend({data:function(e,t){var i,n,s,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(s=X.get(a),1===a.nodeType&&!K.get(a,\"hasDataAttrs\"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf(\"data-\")&&(n=Y(n.slice(5)),Z(a,n,s[n]));K.set(a,\"hasDataAttrs\",!0)}return s}return\"object\"==typeof e?this.each((function(){X.set(this,e)})):F(this,(function(t){var i;if(a&&void 0===t)return void 0!==(i=X.get(a,e))||void 0!==(i=Z(a,e))?i:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),w.extend({queue:function(e,t,i){var n;if(e)return t=(t||\"fx\")+\"queue\",n=K.get(e,t),i&&(!n||Array.isArray(i)?n=K.access(e,t,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||\"fx\";var i=w.queue(e,t),n=i.length,s=i.shift(),a=w._queueHooks(e,t);\"inprogress\"===s&&(s=i.shift(),n--),s&&(\"fx\"===t&&i.unshift(\"inprogress\"),delete a.stop,s.call(e,(function(){w.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+\"queueHooks\";return K.get(e,i)||K.access(e,i,{empty:w.Callbacks(\"once memory\").add((function(){K.remove(e,[t+\"queue\",i])}))})}}),w.fn.extend({queue:function(e,t){var i=2;return\"string\"!=typeof e&&(t=e,e=\"fx\",i--),arguments.length<i?w.queue(this[0],e):void 0===t?this:this.each((function(){var i=w.queue(this,e,t);w._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==i[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var i,n=1,s=w.Deferred(),a=this,o=this.length,r=function(){--n||s.resolveWith(a,[a])};for(\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";o--;)(i=K.get(a[o],e+\"queueHooks\"))&&i.empty&&(n++,i.empty.add(r));return r(),s.promise(t)}});var ee=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,te=new RegExp(\"^(?:([+-])=|)(\"+ee+\")([a-z%]*)$\",\"i\"),ie=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ne=m.documentElement,se=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(se=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var oe=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&se(e)&&\"none\"===w.css(e,\"display\")};function re(e,t,i,n){var s,a,o=20,r=n?function(){return n.cur()}:function(){return w.css(e,t,\"\")},l=r(),c=i&&i[3]||(w.cssNumber[t]?\"\":\"px\"),d=e.nodeType&&(w.cssNumber[t]||\"px\"!==c&&+l)&&te.exec(w.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;o--;)w.style(e,t,d+c),(1-a)*(1-(a=r()/l||.5))<=0&&(o=0),d/=a;d*=2,w.style(e,t,d+c),i=i||[]}return i&&(d=+d||+l||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=s)),s}var le={};function ce(e){var t,i=e.ownerDocument,n=e.nodeName,s=le[n];return s||(t=i.body.appendChild(i.createElement(n)),s=w.css(t,\"display\"),t.parentNode.removeChild(t),\"none\"===s&&(s=\"block\"),le[n]=s,s)}function de(e,t){for(var i,n,s=[],a=0,o=e.length;a<o;a++)(n=e[a]).style&&(i=n.style.display,t?(\"none\"===i&&(s[a]=K.get(n,\"display\")||null,s[a]||(n.style.display=\"\")),\"\"===n.style.display&&oe(n)&&(s[a]=ce(n))):\"none\"!==i&&(s[a]=\"none\",K.set(n,\"display\",i)));for(a=0;a<o;a++)null!=s[a]&&(e[a].style.display=s[a]);return e}w.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each((function(){oe(this)?w(this).show():w(this).hide()}))}});var ue,he,pe=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ge=/^$|^module$|\\/(?:java|ecma)script/i;ue=m.createDocumentFragment().appendChild(m.createElement(\"div\")),(he=m.createElement(\"input\")).setAttribute(\"type\",\"radio\"),he.setAttribute(\"checked\",\"checked\"),he.setAttribute(\"name\",\"t\"),ue.appendChild(he),p.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML=\"<option></option>\",p.option=!!ue.lastChild;var me={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function ve(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):void 0!==e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&D(e,t)?w.merge([e],i):i}function _e(e,t){for(var i=0,n=e.length;i<n;i++)K.set(e[i],\"globalEval\",!t||K.get(t[i],\"globalEval\"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,p.option||(me.optgroup=me.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var be=/<|&#?\\w+;/;function ye(e,t,i,n,s){for(var a,o,r,l,c,d,u=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((a=e[p])||0===a)if(\"object\"===b(a))w.merge(h,a.nodeType?[a]:a);else if(be.test(a)){for(o=o||u.appendChild(t.createElement(\"div\")),r=(fe.exec(a)||[\"\",\"\"])[1].toLowerCase(),l=me[r]||me._default,o.innerHTML=l[1]+w.htmlPrefilter(a)+l[2],d=l[0];d--;)o=o.lastChild;w.merge(h,o.childNodes),(o=u.firstChild).textContent=\"\"}else h.push(t.createTextNode(a));for(u.textContent=\"\",p=0;a=h[p++];)if(n&&w.inArray(a,n)>-1)s&&s.push(a);else if(c=se(a),o=ve(u.appendChild(a),\"script\"),c&&_e(o),i)for(d=0;a=o[d++];)ge.test(a.type||\"\")&&i.push(a);return u}var we=/^([^.]*)(?:\\.(.+)|)/;function xe(){return!0}function ke(){return!1}function Ce(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==(\"focus\"===t)}function Te(e,t,i,n,s,a){var o,r;if(\"object\"==typeof t){for(r in\"string\"!=typeof i&&(n=n||i,i=void 0),t)Te(e,r,i,n,t[r],a);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&(\"string\"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=ke;else if(!s)return e;return 1===a&&(o=s,(s=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each((function(){w.event.add(this,t,s,n,i)}))}function Se(e,t,i){i?(K.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var n,a,o=K.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),K.set(this,t,o),n=i(this,t),this[t](),o!==(a=K.get(this,t))||n?K.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else o.length&&(K.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,i,n,s){var a,o,r,l,c,d,u,h,p,f,g,m=K.get(e);if(V(e))for(i.handler&&(i=(a=i).handler,s=a.selector),s&&w.find.matchesSelector(ne,s),i.guid||(i.guid=w.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||\"\").match(H)||[\"\"]).length;c--;)p=g=(r=we.exec(t[c])||[])[1],f=(r[2]||\"\").split(\".\").sort(),p&&(u=w.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=w.event.special[p]||{},d=w.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:f.join(\".\")},a),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),s?h.splice(h.delegateCount++,0,d):h.push(d),w.event.global[p]=!0)},remove:function(e,t,i,n,s){var a,o,r,l,c,d,u,h,p,f,g,m=K.hasData(e)&&K.get(e);if(m&&(l=m.events)){for(c=(t=(t||\"\").match(H)||[\"\"]).length;c--;)if(p=g=(r=we.exec(t[c])||[])[1],f=(r[2]||\"\").split(\".\").sort(),p){for(u=w.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],r=r[2]&&new RegExp(\"(^|\\\\.)\"+f.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),o=a=h.length;a--;)d=h[a],!s&&g!==d.origType||i&&i.guid!==d.guid||r&&!r.test(d.namespace)||n&&n!==d.selector&&(\"**\"!==n||!d.selector)||(h.splice(a,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));o&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||w.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],i,n,!0);w.isEmptyObject(l)&&K.remove(e,\"handle events\")}},dispatch:function(e){var t,i,n,s,a,o,r=new Array(arguments.length),l=w.event.fix(e),c=(K.get(this,\"events\")||Object.create(null))[l.type]||[],d=w.event.special[l.type]||{};for(r[0]=l,t=1;t<arguments.length;t++)r[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(o=w.event.handlers.call(this,l,c),t=0;(s=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=s.elem,i=0;(a=s.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((w.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,r))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,s,a,o,r=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!(\"click\"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(\"click\"!==e.type||!0!==c.disabled)){for(a=[],o={},i=0;i<l;i++)void 0===o[s=(n=t[i]).selector+\" \"]&&(o[s]=n.needsContext?w(s,this).index(c)>-1:w.find(s,this,null,[c]).length),o[s]&&a.push(n);a.length&&r.push({elem:c,handlers:a})}return c=this,l<t.length&&r.push({elem:c,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&D(t,\"input\")&&Se(t,\"click\",xe),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&D(t,\"input\")&&Se(t,\"click\"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&D(t,\"input\")&&K.get(t,\"click\")||D(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:\"focusin\",blur:\"focusout\"},(function(e,t){w.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}})),w.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,a=e.handleObj;return s&&(s===n||w.contains(n,s))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}})),w.fn.extend({on:function(e,t,i,n){return Te(this,e,t,i,n)},one:function(e,t,i,n){return Te(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+\".\"+n.namespace:n.origType,n.selector,n.handler),this;if(\"object\"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&\"function\"!=typeof t||(i=t,t=void 0),!1===i&&(i=ke),this.each((function(){w.event.remove(this,e,i,t)}))}});var De=/<script|<style|<link/i,Pe=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Ie=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Me(e,t){return D(e,\"table\")&&D(11!==t.nodeType?t:t.firstChild,\"tr\")&&w(e).children(\"tbody\")[0]||e}function Ae(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function Ee(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function ze(e,t){var i,n,s,a,o,r;if(1===t.nodeType){if(K.hasData(e)&&(r=K.get(e).events))for(s in K.remove(t,\"handle events\"),r)for(i=0,n=r[s].length;i<n;i++)w.event.add(t,s,r[s][i]);X.hasData(e)&&(a=X.access(e),o=w.extend({},a),X.set(t,o))}}function Oe(e,t){var i=t.nodeName.toLowerCase();\"input\"===i&&pe.test(e.type)?t.checked=e.checked:\"input\"!==i&&\"textarea\"!==i||(t.defaultValue=e.defaultValue)}function He(e,t,i,n){t=a(t);var s,o,r,l,c,d,u=0,h=e.length,g=h-1,m=t[0],v=f(m);if(v||h>1&&\"string\"==typeof m&&!p.checkClone&&Pe.test(m))return e.each((function(s){var a=e.eq(s);v&&(t[0]=m.call(this,s,a.html())),He(a,t,i,n)}));if(h&&(o=(s=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(l=(r=w.map(ve(s,\"script\"),Ae)).length;u<h;u++)c=s,u!==g&&(c=w.clone(c,!0,!0),l&&w.merge(r,ve(c,\"script\"))),i.call(e[u],c,u);if(l)for(d=r[r.length-1].ownerDocument,w.map(r,Ee),u=0;u<l;u++)c=r[u],ge.test(c.type||\"\")&&!K.access(c,\"globalEval\")&&w.contains(d,c)&&(c.src&&\"module\"!==(c.type||\"\").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute(\"nonce\")},d):_(c.textContent.replace(Ie,\"\"),c,d))}return e}function je(e,t,i){for(var n,s=t?w.filter(t,e):e,a=0;null!=(n=s[a]);a++)i||1!==n.nodeType||w.cleanData(ve(n)),n.parentNode&&(i&&se(n)&&_e(ve(n,\"script\")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,s,a,o,r=e.cloneNode(!0),l=se(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=ve(r),n=0,s=(a=ve(e)).length;n<s;n++)Oe(a[n],o[n]);if(t)if(i)for(a=a||ve(e),o=o||ve(r),n=0,s=a.length;n<s;n++)ze(a[n],o[n]);else ze(e,r);return(o=ve(r,\"script\")).length>0&&_e(o,!l&&ve(e,\"script\")),r},cleanData:function(e){for(var t,i,n,s=w.event.special,a=0;void 0!==(i=e[a]);a++)if(V(i)){if(t=i[K.expando]){if(t.events)for(n in t.events)s[n]?w.event.remove(i,n):w.removeEvent(i,n,t.handle);i[K.expando]=void 0}i[X.expando]&&(i[X.expando]=void 0)}}}),w.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return F(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return He(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)}))},prepend:function(){return He(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return F(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!De.test(e)&&!me[(fe.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,(function(t){var i=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),i&&i.replaceChild(t,this))}),e)}}),w.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(e,t){w.fn[e]=function(e){for(var i,n=[],s=w(e),a=s.length-1,r=0;r<=a;r++)i=r===a?this:this.clone(!0),w(s[r])[t](i),o.apply(n,i.get());return this.pushStack(n)}}));var Ne=new RegExp(\"^(\"+ee+\")(?!px)[a-z%]+$\",\"i\"),Le=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Re=function(e,t,i){var n,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in n=i.call(e),t)e.style[s]=a[s];return n},We=new RegExp(ie.join(\"|\"),\"i\");function qe(e,t,i){var n,s,a,o,r=e.style;return(i=i||Le(e))&&(\"\"!==(o=i.getPropertyValue(t)||i[t])||se(e)||(o=w.style(e,t)),!p.pixelBoxStyles()&&Ne.test(o)&&We.test(t)&&(n=r.width,s=r.minWidth,a=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=s,r.maxWidth=a)),void 0!==o?o+\"\":o}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ne.appendChild(c).appendChild(d);var t=e.getComputedStyle(d);n=\"1%\"!==t.top,l=12===i(t.marginLeft),d.style.right=\"60%\",o=36===i(t.right),s=36===i(t.width),d.style.position=\"absolute\",a=12===i(d.offsetWidth/3),ne.removeChild(c),d=null}}function i(e){return Math.round(parseFloat(e))}var n,s,a,o,r,l,c=m.createElement(\"div\"),d=m.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,i,n,s;return null==r&&(t=m.createElement(\"table\"),i=m.createElement(\"tr\"),n=m.createElement(\"div\"),t.style.cssText=\"position:absolute;left:-11111px;border-collapse:separate\",i.style.cssText=\"border:1px solid\",i.style.height=\"1px\",n.style.height=\"9px\",n.style.display=\"block\",ne.appendChild(t).appendChild(i).appendChild(n),s=e.getComputedStyle(i),r=parseInt(s.height,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10)===i.offsetHeight,ne.removeChild(t)),r}}))}();var Be=[\"Webkit\",\"Moz\",\"ms\"],$e=m.createElement(\"div\").style,Ue={};function Ye(e){var t=w.cssProps[e]||Ue[e];return t||(e in $e?e:Ue[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Be.length;i--;)if((e=Be[i]+t)in $e)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ke={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Xe={letterSpacing:\"0\",fontWeight:\"400\"};function Ge(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||\"px\"):t}function Je(e,t,i,n,s,a){var o=\"width\"===t?1:0,r=0,l=0;if(i===(n?\"border\":\"content\"))return 0;for(;o<4;o+=2)\"margin\"===i&&(l+=w.css(e,i+ie[o],!0,s)),n?(\"content\"===i&&(l-=w.css(e,\"padding\"+ie[o],!0,s)),\"margin\"!==i&&(l-=w.css(e,\"border\"+ie[o]+\"Width\",!0,s))):(l+=w.css(e,\"padding\"+ie[o],!0,s),\"padding\"!==i?l+=w.css(e,\"border\"+ie[o]+\"Width\",!0,s):r+=w.css(e,\"border\"+ie[o]+\"Width\",!0,s));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-a-l-r-.5))||0),l}function Ze(e,t,i){var n=Le(e),s=(!p.boxSizingReliable()||i)&&\"border-box\"===w.css(e,\"boxSizing\",!1,n),a=s,o=qe(e,t,n),r=\"offset\"+t[0].toUpperCase()+t.slice(1);if(Ne.test(o)){if(!i)return o;o=\"auto\"}return(!p.boxSizingReliable()&&s||!p.reliableTrDimensions()&&D(e,\"tr\")||\"auto\"===o||!parseFloat(o)&&\"inline\"===w.css(e,\"display\",!1,n))&&e.getClientRects().length&&(s=\"border-box\"===w.css(e,\"boxSizing\",!1,n),(a=r in e)&&(o=e[r])),(o=parseFloat(o)||0)+Je(e,t,i||(s?\"border\":\"content\"),a,n,o)+\"px\"}function et(e,t,i,n,s){return new et.prototype.init(e,t,i,n,s)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=qe(e,\"opacity\");return\"\"===i?\"1\":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,r=Y(t),l=Qe.test(t),c=e.style;if(l||(t=Ye(r)),o=w.cssHooks[t]||w.cssHooks[r],void 0===i)return o&&\"get\"in o&&void 0!==(s=o.get(e,!1,n))?s:c[t];\"string\"==(a=typeof i)&&(s=te.exec(i))&&s[1]&&(i=re(e,t,s),a=\"number\"),null!=i&&i==i&&(\"number\"!==a||l||(i+=s&&s[3]||(w.cssNumber[r]?\"\":\"px\")),p.clearCloneStyle||\"\"!==i||0!==t.indexOf(\"background\")||(c[t]=\"inherit\"),o&&\"set\"in o&&void 0===(i=o.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var s,a,o,r=Y(t);return Qe.test(t)||(t=Ye(r)),(o=w.cssHooks[t]||w.cssHooks[r])&&\"get\"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=qe(e,t,n)),\"normal\"===s&&t in Xe&&(s=Xe[t]),\"\"===i||i?(a=parseFloat(s),!0===i||isFinite(a)?a||0:s):s}}),w.each([\"height\",\"width\"],(function(e,t){w.cssHooks[t]={get:function(e,i,n){if(i)return!Ve.test(w.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):Re(e,Ke,(function(){return Ze(e,t,n)}))},set:function(e,i,n){var s,a=Le(e),o=!p.scrollboxSize()&&\"absolute\"===a.position,r=(o||n)&&\"border-box\"===w.css(e,\"boxSizing\",!1,a),l=n?Je(e,t,n,r,a):0;return r&&o&&(l-=Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Je(e,t,\"border\",!1,a)-.5)),l&&(s=te.exec(i))&&\"px\"!==(s[3]||\"px\")&&(e.style[t]=i,i=w.css(e,t)),Ge(0,i,l)}}})),w.cssHooks.marginLeft=Fe(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,\"marginLeft\"))||e.getBoundingClientRect().left-Re(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+\"px\"})),w.each({margin:\"\",padding:\"\",border:\"Width\"},(function(e,t){w.cssHooks[e+t]={expand:function(i){for(var n=0,s={},a=\"string\"==typeof i?i.split(\" \"):[i];n<4;n++)s[e+ie[n]+t]=a[n]||a[n-2]||a[0];return s}},\"margin\"!==e&&(w.cssHooks[e+t].set=Ge)})),w.fn.extend({css:function(e,t){return F(this,(function(e,t,i){var n,s,a={},o=0;if(Array.isArray(t)){for(n=Le(e),s=t.length;o<s;o++)a[t[o]]=w.css(e,t[o],!1,n);return a}return void 0!==i?w.style(e,t,i):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,i,n,s,a){this.elem=e,this.prop=i,this.easing=s||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(w.cssNumber[i]?\"\":\"px\")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,i=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ye(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},w.fx=et.prototype.init,w.fx.step={};var tt,it,nt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){it&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function ot(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function rt(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)s[\"margin\"+(i=ie[n])]=s[\"padding\"+i]=e;return t&&(s.opacity=s.width=e),s}function lt(e,t,i){for(var n,s=(ct.tweeners[t]||[]).concat(ct.tweeners[\"*\"]),a=0,o=s.length;a<o;a++)if(n=s[a].call(i,t,e))return n}function ct(e,t,i){var n,s,a=0,o=ct.prefilters.length,r=w.Deferred().always((function(){delete l.elem})),l=function(){if(s)return!1;for(var t=tt||ot(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(n);return r.notifyWith(e,[c,n,i]),n<1&&o?i:(o||r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:t,originalOptions:i,startTime:tt||ot(),duration:i.duration,tweens:[],createTween:function(t,i){var n=w.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var i,n,s,a,o;for(i in e)if(s=t[n=Y(i)],a=e[i],Array.isArray(a)&&(s=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(o=w.cssHooks[n])&&\"expand\"in o)for(i in a=o.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=s);else t[n]=s}(d,c.opts.specialEasing);a<o;a++)if(n=ct.prefilters[a].call(c,e,d,c.opts))return f(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(d,lt,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ct,{tweeners:{\"*\":[function(e,t){var i=this.createTween(e,t);return re(i.elem,e,te.exec(t),i),i}]},tweener:function(e,t){f(e)?(t=e,e=[\"*\"]):e=e.match(H);for(var i,n=0,s=e.length;n<s;n++)i=e[n],ct.tweeners[i]=ct.tweeners[i]||[],ct.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,s,a,o,r,l,c,d,u=\"width\"in t||\"height\"in t,h=this,p={},f=e.style,g=e.nodeType&&oe(e),m=K.get(e,\"fxshow\");for(n in i.queue||(null==(o=w._queueHooks(e,\"fx\")).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,h.always((function(){h.always((function(){o.unqueued--,w.queue(e,\"fx\").length||o.empty.fire()}))}))),t)if(s=t[n],nt.test(s)){if(delete t[n],a=a||\"toggle\"===s,s===(g?\"hide\":\"show\")){if(\"show\"!==s||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||w.style(e,n)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(n in u&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=K.get(e,\"display\")),\"none\"===(d=w.css(e,\"display\"))&&(c?d=c:(de([e],!0),c=e.style.display||c,d=w.css(e,\"display\"),de([e]))),(\"inline\"===d||\"inline-block\"===d&&null!=c)&&\"none\"===w.css(e,\"float\")&&(l||(h.done((function(){f.display=c})),null==c&&(d=f.display,c=\"none\"===d?\"\":d)),f.display=\"inline-block\")),i.overflow&&(f.overflow=\"hidden\",h.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(m?\"hidden\"in m&&(g=m.hidden):m=K.access(e,\"fxshow\",{display:c}),a&&(m.hidden=!g),g&&de([e],!0),h.done((function(){for(n in g||de([e]),K.remove(e,\"fxshow\"),p)w.style(e,n,p[n])}))),l=lt(g?m[n]:0,n,h),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,i){var n=e&&\"object\"==typeof e?w.extend({},e):{complete:i||!i&&t||f(e)&&e,duration:e,easing:i&&t||t&&!f(t)&&t};return w.fx.off?n.duration=0:\"number\"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue=\"fx\"),n.old=n.complete,n.complete=function(){f(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,i,n){return this.filter(oe).css(\"opacity\",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=w.isEmptyObject(e),a=w.speed(t,i,n),o=function(){var t=ct(this,w.extend({},e),a);(s||K.get(this,\"finish\"))&&t.stop(!0)};return o.finish=o,s||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return\"string\"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||\"fx\",[]),this.each((function(){var t=!0,s=null!=e&&e+\"queueHooks\",a=w.timers,o=K.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&st.test(s)&&n(o[s]);for(s=a.length;s--;)a[s].elem!==this||null!=e&&a[s].queue!==e||(a[s].anim.stop(i),t=!1,a.splice(s,1));!t&&i||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||\"fx\"),this.each((function(){var t,i=K.get(this),n=i[e+\"queue\"],s=i[e+\"queueHooks\"],a=w.timers,o=n?n.length:0;for(i.finish=!0,w.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),w.each([\"toggle\",\"show\",\"hide\"],(function(e,t){var i=w.fn[t];w.fn[t]=function(e,n,s){return null==e||\"boolean\"==typeof e?i.apply(this,arguments):this.animate(rt(t,!0),e,n,s)}})),w.each({slideDown:rt(\"show\"),slideUp:rt(\"hide\"),slideToggle:rt(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(e,t){w.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),w.timers=[],w.fx.tick=function(){var e,t=0,i=w.timers;for(tt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,at())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,i){return t=w.fx&&w.fx.speeds[t]||t,i=i||\"fx\",this.queue(i,(function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}}))},function(){var e=m.createElement(\"input\"),t=m.createElement(\"select\").appendChild(m.createElement(\"option\"));e.type=\"checkbox\",p.checkOn=\"\"!==e.value,p.optSelected=t.selected,(e=m.createElement(\"input\")).value=\"t\",e.type=\"radio\",p.radioValue=\"t\"===e.value}();var dt,ut=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return F(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,i){var n,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?w.prop(e,t,i):(1===a&&w.isXMLDoc(e)||(s=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==i?null===i?void w.removeAttr(e,t):s&&\"set\"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+\"\"),i):s&&\"get\"in s&&null!==(n=s.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&\"radio\"===t&&D(e,\"input\")){var i=e.value;return e.setAttribute(\"type\",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,s=t&&t.match(H);if(s&&1===e.nodeType)for(;i=s[n++];)e.removeAttribute(i)}}),dt={set:function(e,t,i){return!1===t?w.removeAttr(e,i):e.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\\w+/g),(function(e,t){var i=ut[t]||w.find.attr;ut[t]=function(e,t,n){var s,a,o=t.toLowerCase();return n||(a=ut[o],ut[o]=s,s=null!=i(e,t,n)?o:null,ut[o]=a),s}}));var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ft(e){return(e.match(H)||[]).join(\" \")}function gt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function mt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(H)||[]}w.fn.extend({prop:function(e,t){return F(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,i){var n,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(e)||(t=w.propFix[t]||t,s=w.propHooks[t]),void 0!==i?s&&\"set\"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&\"get\"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,\"tabindex\");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,i,n,s,a,o,r,l=0;if(f(e))return this.each((function(t){w(this).addClass(e.call(this,t,gt(this)))}));if((t=mt(e)).length)for(;i=this[l++];)if(s=gt(i),n=1===i.nodeType&&\" \"+ft(s)+\" \"){for(o=0;a=t[o++];)n.indexOf(\" \"+a+\" \")<0&&(n+=a+\" \");s!==(r=ft(n))&&i.setAttribute(\"class\",r)}return this},removeClass:function(e){var t,i,n,s,a,o,r,l=0;if(f(e))return this.each((function(t){w(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((t=mt(e)).length)for(;i=this[l++];)if(s=gt(i),n=1===i.nodeType&&\" \"+ft(s)+\" \"){for(o=0;a=t[o++];)for(;n.indexOf(\" \"+a+\" \")>-1;)n=n.replace(\" \"+a+\" \",\" \");s!==(r=ft(n))&&i.setAttribute(\"class\",r)}return this},toggleClass:function(e,t){var i=typeof e,n=\"string\"===i||Array.isArray(e);return\"boolean\"==typeof t&&n?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(i){w(this).toggleClass(e.call(this,i,gt(this),t),t)})):this.each((function(){var t,s,a,o;if(n)for(s=0,a=w(this),o=mt(e);t=o[s++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&\"boolean\"!==i||((t=gt(this))&&K.set(this,\"__className__\",t),this.setAttribute&&this.setAttribute(\"class\",t||!1===e?\"\":K.get(this,\"__className__\")||\"\"))}))},hasClass:function(e){var t,i,n=0;for(t=\" \"+e+\" \";i=this[n++];)if(1===i.nodeType&&(\" \"+ft(gt(i))+\" \").indexOf(t)>-1)return!0;return!1}});var vt=/\\r/g;w.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=f(e),this.each((function(i){var s;1===this.nodeType&&(null==(s=n?e.call(this,i,w(this).val()):e)?s=\"\":\"number\"==typeof s?s+=\"\":Array.isArray(s)&&(s=w.map(s,(function(e){return null==e?\"\":e+\"\"}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&\"set\"in t&&void 0!==t.set(this,s,\"value\")||(this.value=s))}))):s?(t=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()])&&\"get\"in t&&void 0!==(i=t.get(s,\"value\"))?i:\"string\"==typeof(i=s.value)?i.replace(vt,\"\"):null==i?\"\":i:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,\"value\");return null!=t?t:ft(w.text(e))}},select:{get:function(e){var t,i,n,s=e.options,a=e.selectedIndex,o=\"select-one\"===e.type,r=o?null:[],l=o?a+1:s.length;for(n=a<0?l:o?a:0;n<l;n++)if(((i=s[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,\"optgroup\"))){if(t=w(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,a=w.makeArray(t),o=s.length;o--;)((n=s[o]).selected=w.inArray(w.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),w.each([\"radio\",\"checkbox\"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})})),p.focusin=\"onfocusin\"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,i,n,s){var a,o,r,l,c,u,h,p,v=[n||m],_=d.call(t,\"type\")?t.type:t,b=d.call(t,\"namespace\")?t.namespace.split(\".\"):[];if(o=p=r=n=n||m,3!==n.nodeType&&8!==n.nodeType&&!_t.test(_+w.event.triggered)&&(_.indexOf(\".\")>-1&&(b=_.split(\".\"),_=b.shift(),b.sort()),c=_.indexOf(\":\")<0&&\"on\"+_,(t=t[w.expando]?t:new w.Event(_,\"object\"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join(\".\"),t.rnamespace=t.namespace?new RegExp(\"(^|\\\\.)\"+b.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:w.makeArray(i,[t]),h=w.event.special[_]||{},s||!h.trigger||!1!==h.trigger.apply(n,i))){if(!s&&!h.noBubble&&!g(n)){for(l=h.delegateType||_,_t.test(l+_)||(o=o.parentNode);o;o=o.parentNode)v.push(o),r=o;r===(n.ownerDocument||m)&&v.push(r.defaultView||r.parentWindow||e)}for(a=0;(o=v[a++])&&!t.isPropagationStopped();)p=o,t.type=a>1?l:h.bindType||_,(u=(K.get(o,\"events\")||Object.create(null))[t.type]&&K.get(o,\"handle\"))&&u.apply(o,i),(u=c&&o[c])&&u.apply&&V(o)&&(t.result=u.apply(o,i),!1===t.result&&t.preventDefault());return t.type=_,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),i)||!V(n)||c&&f(n[_])&&!g(n)&&((r=n[c])&&(n[c]=null),w.event.triggered=_,t.isPropagationStopped()&&p.addEventListener(_,bt),n[_](),t.isPropagationStopped()&&p.removeEventListener(_,bt),w.event.triggered=void 0,r&&(n[c]=r)),t.result}},simulate:function(e,t,i){var n=w.extend(new w.Event,i,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return w.event.trigger(e,t,i,!0)}}),p.focusin||w.each({focus:\"focusin\",blur:\"focusout\"},(function(e,t){var i=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,s=K.access(n,t);s||n.addEventListener(e,i,!0),K.access(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,s=K.access(n,t)-1;s?K.access(n,t,s):(n.removeEventListener(e,i,!0),K.remove(n,t))}}}));var yt=e.location,wt={guid:Date.now()},xt=/\\?/;w.parseXML=function(t){var i,n;if(!t||\"string\"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,\"text/xml\")}catch(e){}return n=i&&i.getElementsByTagName(\"parsererror\")[0],i&&!n||w.error(\"Invalid XML: \"+(n?w.map(n.childNodes,(function(e){return e.textContent})).join(\"\\n\"):t)),i};var kt=/\\[\\]$/,Ct=/\\r?\\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,i,n){var s;if(Array.isArray(t))w.each(t,(function(t,s){i||kt.test(e)?n(e,s):Dt(e+\"[\"+(\"object\"==typeof s&&null!=s?t:\"\")+\"]\",s,i,n)}));else if(i||\"object\"!==b(t))n(e,t);else for(s in t)Dt(e+\"[\"+s+\"]\",t[s],i,n)}w.param=function(e,t){var i,n=[],s=function(e,t){var i=f(t)?t():t;n[n.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==i?\"\":i)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){s(this.name,this.value)}));else for(i in e)Dt(i,e[i],t,s);return n.join(\"&\")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,\"elements\");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(\":disabled\")&&St.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!pe.test(e))})).map((function(e,t){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,(function(e){return{name:t.name,value:e.replace(Ct,\"\\r\\n\")}})):{name:t.name,value:i.replace(Ct,\"\\r\\n\")}})).get()}});var Pt=/%20/g,It=/#.*$/,Mt=/([?&])_=[^&]*/,At=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Et=/^(?:GET|HEAD)$/,zt=/^\\/\\//,Ot={},Ht={},jt=\"*/\".concat(\"*\"),Nt=m.createElement(\"a\");function Lt(e){return function(t,i){\"string\"!=typeof t&&(i=t,t=\"*\");var n,s=0,a=t.toLowerCase().match(H)||[];if(f(i))for(;n=a[s++];)\"+\"===n[0]?(n=n.slice(1)||\"*\",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Rt(e,t,i,n){var s={},a=e===Ht;function o(r){var l;return s[r]=!0,w.each(e[r]||[],(function(e,r){var c=r(t,i,n);return\"string\"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!s[\"*\"]&&o(\"*\")}function Wt(e,t){var i,n,s=w.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&w.extend(!0,e,n),e}Nt.href=yt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":jt,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,w.ajaxSettings),t):Wt(w.ajaxSettings,e)},ajaxPrefilter:Lt(Ot),ajaxTransport:Lt(Ht),ajax:function(t,i){\"object\"==typeof t&&(i=t,t=void 0),i=i||{};var n,s,a,o,r,l,c,d,u,h,p=w.ajaxSetup({},i),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?w(f):w.event,v=w.Deferred(),_=w.Callbacks(\"once memory\"),b=p.statusCode||{},y={},x={},k=\"canceled\",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=At.exec(a);)o[t[1].toLowerCase()+\" \"]=(o[t[1].toLowerCase()+\" \"]||[]).concat(t[2]);t=o[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),T(0,t),this}};if(v.promise(C),p.url=((t||p.url||yt.href)+\"\").replace(zt,yt.protocol+\"//\"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(H)||[\"\"],null==p.crossDomain){l=m.createElement(\"a\");try{l.href=p.url,l.href=l.href,p.crossDomain=Nt.protocol+\"//\"+Nt.host!=l.protocol+\"//\"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Rt(Ot,p,i,C),c)return C;for(u in(d=w.event&&p.global)&&0==w.active++&&w.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Et.test(p.type),s=p.url.replace(It,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Pt,\"+\")):(h=p.url.slice(s.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(s+=(xt.test(s)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Mt,\"$1\"),h=(xt.test(s)?\"&\":\"?\")+\"_=\"+wt.guid+++h),p.url=s+h),p.ifModified&&(w.lastModified[s]&&C.setRequestHeader(\"If-Modified-Since\",w.lastModified[s]),w.etag[s]&&C.setRequestHeader(\"If-None-Match\",w.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&C.setRequestHeader(\"Content-Type\",p.contentType),C.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+jt+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)C.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||c))return C.abort();if(k=\"abort\",_.add(p.complete),C.done(p.success),C.fail(p.error),n=Rt(Ht,p,i,C)){if(C.readyState=1,d&&g.trigger(\"ajaxSend\",[C,p]),c)return C;p.async&&p.timeout>0&&(r=e.setTimeout((function(){C.abort(\"timeout\")}),p.timeout));try{c=!1,n.send(y,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,\"No Transport\");function T(t,i,o,l){var u,h,m,y,x,k=i;c||(c=!0,r&&e.clearTimeout(r),n=void 0,a=l||\"\",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,o&&(y=function(e,t,i){for(var n,s,a,o,r=e.contents,l=e.dataTypes;\"*\"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)a=l[0];else{for(s in i){if(!l[0]||e.converters[s+\" \"+l[0]]){a=s;break}o||(o=s)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(p,C,o)),!u&&w.inArray(\"script\",p.dataTypes)>-1&&w.inArray(\"json\",p.dataTypes)<0&&(p.converters[\"text script\"]=function(){}),y=function(e,t,i,n){var s,a,o,r,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if(\"*\"===a)a=l;else if(\"*\"!==l&&l!==a){if(!(o=c[l+\" \"+a]||c[\"* \"+a]))for(s in c)if((r=s.split(\" \"))[1]===a&&(o=c[l+\" \"+r[0]]||c[\"* \"+r[0]])){!0===o?o=c[s]:!0!==c[s]&&(a=r[0],d.unshift(r[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:\"parsererror\",error:o?e:\"No conversion from \"+l+\" to \"+a}}}return{state:\"success\",data:t}}(p,y,C,u),u?(p.ifModified&&((x=C.getResponseHeader(\"Last-Modified\"))&&(w.lastModified[s]=x),(x=C.getResponseHeader(\"etag\"))&&(w.etag[s]=x)),204===t||\"HEAD\"===p.type?k=\"nocontent\":304===t?k=\"notmodified\":(k=y.state,h=y.data,u=!(m=y.error))):(m=k,!t&&k||(k=\"error\",t<0&&(t=0))),C.status=t,C.statusText=(i||k)+\"\",u?v.resolveWith(f,[h,k,C]):v.rejectWith(f,[C,k,m]),C.statusCode(b),b=void 0,d&&g.trigger(u?\"ajaxSuccess\":\"ajaxError\",[C,p,u?h:m]),_.fireWith(f,[C,k]),d&&(g.trigger(\"ajaxComplete\",[C,p]),--w.active||w.event.trigger(\"ajaxStop\")))}return C},getJSON:function(e,t,i){return w.get(e,t,i,\"json\")},getScript:function(e,t){return w.get(e,void 0,t,\"script\")}}),w.each([\"get\",\"post\"],(function(e,t){w[t]=function(e,i,n,s){return f(i)&&(s=s||n,n=i,i=void 0),w.ajax(w.extend({url:e,type:t,dataType:s,data:i,success:n},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)\"content-type\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\"\")})),w._evalUrl=function(e,t,i){return w.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){w.globalEval(e,t,i)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(i){w(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not(\"body\").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Ft=w.ajaxSettings.xhr();p.cors=!!Ft&&\"withCredentials\"in Ft,p.ajax=Ft=!!Ft,w.ajaxTransport((function(t){var i,n;if(p.cors||Ft&&!t.crossDomain)return{send:function(s,a){var o,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];for(o in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||s[\"X-Requested-With\"]||(s[\"X-Requested-With\"]=\"XMLHttpRequest\"),s)r.setRequestHeader(o,s[o]);i=function(e){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?a(0,\"error\"):a(r.status,r.statusText):a(qt[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=r.ontimeout=i(\"error\"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout((function(){i&&n()}))},i=i(\"abort\");try{r.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter(\"script\",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")})),w.ajaxTransport(\"script\",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,s){t=w(\"<script>\").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on(\"load error\",i=function(e){t.remove(),i=null,e&&s(\"error\"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Bt,$t=[],Ut=/(=)\\?(?=&|$)|\\?\\?/;w.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=$t.pop()||w.expando+\"_\"+wt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter(\"json jsonp\",(function(t,i,n){var s,a,o,r=!1!==t.jsonp&&(Ut.test(t.url)?\"url\":\"string\"==typeof t.data&&0===(t.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ut.test(t.data)&&\"data\");if(r||\"jsonp\"===t.dataTypes[0])return s=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ut,\"$1\"+s):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?\"&\":\"?\")+t.jsonp+\"=\"+s),t.converters[\"script json\"]=function(){return o||w.error(s+\" was not called\"),o[0]},t.dataTypes[0]=\"json\",a=e[s],e[s]=function(){o=arguments},n.always((function(){void 0===a?w(e).removeProp(s):e[s]=a,t[s]&&(t.jsonpCallback=i.jsonpCallback,$t.push(s)),o&&f(a)&&a(o[0]),o=a=void 0})),\"script\"})),p.createHTMLDocument=((Bt=m.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Bt.childNodes.length),w.parseHTML=function(e,t,i){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((n=(t=m.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=m.location.href,t.head.appendChild(n)):t=m),a=!i&&[],(s=P.exec(e))?[t.createElement(s[1])]:(s=ye([e],t,a),a&&a.length&&w(a).remove(),w.merge([],s.childNodes)));var n,s,a},w.fn.load=function(e,t,i){var n,s,a,o=this,r=e.indexOf(\" \");return r>-1&&(n=ft(e.slice(r)),e=e.slice(0,r)),f(t)?(i=t,t=void 0):t&&\"object\"==typeof t&&(s=\"POST\"),o.length>0&&w.ajax({url:e,type:s||\"GET\",dataType:\"html\",data:t}).done((function(e){a=arguments,o.html(n?w(\"<div>\").append(w.parseHTML(e)).find(n):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,a||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,i){var n,s,a,o,r,l,c=w.css(e,\"position\"),d=w(e),u={};\"static\"===c&&(e.style.position=\"relative\"),r=d.offset(),a=w.css(e,\"top\"),l=w.css(e,\"left\"),(\"absolute\"===c||\"fixed\"===c)&&(a+l).indexOf(\"auto\")>-1?(o=(n=d.position()).top,s=n.left):(o=parseFloat(a)||0,s=parseFloat(l)||0),f(t)&&(t=t.call(e,i,w.extend({},r))),null!=t.top&&(u.top=t.top-r.top+o),null!=t.left&&(u.left=t.left-r.left+s),\"using\"in t?t.using.call(e,u):d.css(u)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],s={top:0,left:0};if(\"fixed\"===w.css(n,\"position\"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&\"static\"===w.css(e,\"position\");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((s=w(e).offset()).top+=w.css(e,\"borderTopWidth\",!0),s.left+=w.css(e,\"borderLeftWidth\",!0))}return{top:t.top-s.top-w.css(n,\"marginTop\",!0),left:t.left-s.left-w.css(n,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&\"static\"===w.css(e,\"position\");)e=e.offsetParent;return e||ne}))}}),w.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(e,t){var i=\"pageYOffset\"===t;w.fn[e]=function(n){return F(this,(function(e,n,s){var a;if(g(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===s)return a?a[t]:e[n];a?a.scrollTo(i?a.pageXOffset:s,i?s:a.pageYOffset):e[n]=s}),e,n,arguments.length)}})),w.each([\"top\",\"left\"],(function(e,t){w.cssHooks[t]=Fe(p.pixelPosition,(function(e,i){if(i)return i=qe(e,t),Ne.test(i)?w(e).position()[t]+\"px\":i}))})),w.each({Height:\"height\",Width:\"width\"},(function(e,t){w.each({padding:\"inner\"+e,content:t,\"\":\"outer\"+e},(function(i,n){w.fn[n]=function(s,a){var o=arguments.length&&(i||\"boolean\"!=typeof s),r=i||(!0===s||!0===a?\"margin\":\"border\");return F(this,(function(t,i,s){var a;return g(t)?0===n.indexOf(\"outer\")?t[\"inner\"+e]:t.document.documentElement[\"client\"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body[\"scroll\"+e],a[\"scroll\"+e],t.body[\"offset\"+e],a[\"offset\"+e],a[\"client\"+e])):void 0===s?w.css(t,i,r):w.style(t,i,s,r)}),t,o?s:void 0,o)}}))})),w.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(e,t){w.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var Yt=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;w.proxy=function(e,t){var i,n,a;if(\"string\"==typeof t&&(i=e[t],t=e,e=i),f(e))return n=s.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,a},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=f,w.isWindow=g,w.camelCase=Y,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?\"\":(e+\"\").replace(Yt,\"\")};var Vt=e.jQuery,Qt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Qt),t&&e.jQuery===w&&(e.jQuery=Vt),w},void 0===t&&(e.jQuery=e.$=w),w},\"object\"==typeof i?i=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e);const n=jQuery=jquery=i;\n/*! jQuery UI - v1.12.1 - 2016-09-14\n  * http://jqueryui.com\n  * Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js\n  * Copyright jQuery Foundation and other contributors; Licensed MIT*/\n!function(e){e(jQuery)}((function(e){e.ui=e.ui||{};e.ui.version=\"1.12.1\";\n/*!\n    * jQuery UI Widget 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */var t,i=0,n=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(i){var n,s,a;for(a=0;null!=(s=i[a]);a++)try{(n=e._data(s,\"events\"))&&n.remove&&e(s).triggerHandler(\"remove\")}catch(e){}t(i)}),e.widget=function(t,i,n){var s,a,o,r={},l=t.split(\".\")[0],c=l+\"-\"+(t=t.split(\".\")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[\":\"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},s=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(o=new i).options=e.widget.extend({},o.options),e.each(n,(function(t,n){e.isFunction(n)?r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}():r[t]=n})),a.prototype=e.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},r,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),s?(e.each(s._childConstructors,(function(t,i){var n=i.prototype;e.widget(n.namespace+\".\"+n.widgetName,a,i._proto)})),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;o<r;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(e.isPlainObject(s)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):t[i]=s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o=\"string\"==typeof a,r=n.call(arguments,1),l=this;return o?this.length||\"instance\"!==a?this.each((function(){var i,n=e.data(this,s);return\"instance\"===a?(l=n,!1):n?e.isFunction(n[a])&&\"_\"!==a.charAt(0)?(i=n[a].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error(\"no such method '\"+a+\"' for \"+t+\" widget instance\"):e.error(\"cannot call methods on \"+t+\" prior to initialization; attempted to call method '\"+a+\"'\")})):l=void 0:(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each((function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,i){t._removeClass(i,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr(\"aria-disabled\"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if(\"string\"==typeof t)if(o={},n=t.split(\".\"),t=n.shift(),n.length){for(s=o[t]=e.widget.extend({},this.options[t]),a=0;a<n.length-1;a++)s[n[a]]=s[n[a]]||{},s=s[n[a]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return\"classes\"===e&&this._setOptionClasses(t),this.options[e]=t,\"disabled\"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,s;for(i in t)s=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&s&&s.length&&(n=e(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,!!e),e&&(this._removeClass(this.hoverable,null,\"ui-state-hover\"),this._removeClass(this.focusable,null,\"ui-state-focus\"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function s(s,a){var o,r;for(r=0;r<s.length;r++)o=n.classesElementLookup[s[r]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),n.classesElementLookup[s[r]]=o,i.push(s[r]),a&&t.classes[s[r]]&&i.push(t.classes[s[r]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:\"_untrackClassesElement\"}),t.keys&&s(t.keys.match(/\\S+/g)||[],!0),t.extra&&s(t.extra.match(/\\S+/g)||[]),i.join(\" \")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,(function(n,s){-1!==e.inArray(t.target,s)&&(i.classesElementLookup[n]=e(s.not(t.target).get()))}))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n=\"boolean\"==typeof n?n:i;var s=\"string\"==typeof e||null===e,a={extra:s?t:i,keys:s?e:t,element:s?this.element:e,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(t,i,n){var s,a=this;\"boolean\"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,(function(n,o){function r(){if(t||!0!==a.options.disabled&&!e(this).hasClass(\"ui-state-disabled\"))return(\"string\"==typeof o?a[o]:o).apply(a,arguments)}\"string\"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\\w:-]*)\\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?s.on(c,d,r):i.on(c,r)}))},_off:function(t,i){i=(i||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout((function(){return(\"string\"==typeof e?i[e]:e).apply(i,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,\"ui-state-hover\")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,\"ui-state-hover\")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,\"ui-state-focus\")},focusout:function(t){this._removeClass(e(t.currentTarget),null,\"ui-state-focus\")}})},_trigger:function(t,i,n){var s,a,o=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:\"fadeIn\",hide:\"fadeOut\"},(function(t,i){e.Widget.prototype[\"_\"+t]=function(n,s,a){var o;\"string\"==typeof s&&(s={effect:s});var r=s?!0===s||\"number\"==typeof s?i:s.effect||i:t;\"number\"==typeof(s=s||{})&&(s={duration:s}),o=!e.isEmptyObject(s),s.complete=a,s.delay&&n.delay(s.delay),o&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,a):n.queue((function(i){e(this)[t](),a&&a.call(n[0]),i()}))}}));e.widget;\n/*!\n    * jQuery UI Position 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    *\n    * http://api.jqueryui.com/position/\n    */!function(){var t,i=Math.max,n=Math.abs,s=/left|center|right/,a=/top|center|bottom/,o=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,r=/^\\w+/,l=/%$/,c=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function u(t,i){return parseInt(e.css(t,i),10)||0}function h(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,s=e(\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\"),a=s.children()[0];return e(\"body\").append(s),i=a.offsetWidth,s.css(\"overflow\",\"scroll\"),i===(n=a.offsetWidth)&&(n=s[0].clientWidth),s.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?\"\":t.element.css(\"overflow-x\"),n=t.isWindow||t.isDocument?\"\":t.element.css(\"overflow-y\"),s=\"scroll\"===i||\"auto\"===i&&t.width<t.element[0].scrollWidth;return{width:\"scroll\"===n||\"auto\"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:!n&&!s?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,p,f,g,m,v,_=e(t.of),b=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(b),w=(t.collision||\"flip\").split(\" \"),x={};return v=h(_),_[0].preventDefault&&(t.at=\"left top\"),p=v.width,f=v.height,g=v.offset,m=e.extend({},g),e.each([\"my\",\"at\"],(function(){var e,i,n=(t[this]||\"\").split(\" \");1===n.length&&(n=s.test(n[0])?n.concat([\"center\"]):a.test(n[0])?[\"center\"].concat(n):[\"center\",\"center\"]),n[0]=s.test(n[0])?n[0]:\"center\",n[1]=a.test(n[1])?n[1]:\"center\",e=o.exec(n[0]),i=o.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[r.exec(n[0])[0],r.exec(n[1])[0]]})),1===w.length&&(w[1]=w[0]),\"right\"===t.at[0]?m.left+=p:\"center\"===t.at[0]&&(m.left+=p/2),\"bottom\"===t.at[1]?m.top+=f:\"center\"===t.at[1]&&(m.top+=f/2),l=d(x.at,p,f),m.left+=l[0],m.top+=l[1],this.each((function(){var s,a,o=e(this),r=o.outerWidth(),c=o.outerHeight(),h=u(this,\"marginLeft\"),v=u(this,\"marginTop\"),k=r+h+u(this,\"marginRight\")+y.width,C=c+v+u(this,\"marginBottom\")+y.height,T=e.extend({},m),S=d(x.my,o.outerWidth(),o.outerHeight());\"right\"===t.my[0]?T.left-=r:\"center\"===t.my[0]&&(T.left-=r/2),\"bottom\"===t.my[1]?T.top-=c:\"center\"===t.my[1]&&(T.top-=c/2),T.left+=S[0],T.top+=S[1],s={marginLeft:h,marginTop:v},e.each([\"left\",\"top\"],(function(i,n){e.ui.position[w[i]]&&e.ui.position[w[i]][n](T,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:c,collisionPosition:s,collisionWidth:k,collisionHeight:C,offset:[l[0]+S[0],l[1]+S[1]],my:t.my,at:t.at,within:b,elem:o})})),t.using&&(a=function(e){var s=g.left-T.left,a=s+p-r,l=g.top-T.top,d=l+f-c,u={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:o,left:T.left,top:T.top,width:r,height:c},horizontal:a<0?\"left\":s>0?\"right\":\"center\",vertical:d<0?\"top\":l>0?\"bottom\":\"middle\"};p<r&&n(s+a)<p&&(u.horizontal=\"center\"),f<c&&n(l+d)<f&&(u.vertical=\"middle\"),i(n(s),n(a))>i(n(l),n(d))?u.important=\"horizontal\":u.important=\"vertical\",t.using.call(this,e,u)}),o.offset(e.extend(T,{using:a}))}))},e.ui.position={fit:{left:function(e,t){var n,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=e.left-t.collisionPosition.marginLeft,l=a-r,c=r+t.collisionWidth-o-a;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-a,e.left+=l-n):e.left=c>0&&l<=0?a:l>c?a+o-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-r,e.left)},top:function(e,t){var n,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,l=a-r,c=r+t.collisionHeight-o-a;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-a,e.top+=l-n):e.top=c>0&&l<=0?a:l>c?a+o-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,o=a.offset.left+a.scrollLeft,r=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-r-l,h=\"left\"===t.my[0]?-t.elemWidth:\"right\"===t.my[0]?t.elemWidth:0,p=\"left\"===t.at[0]?t.targetWidth:\"right\"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];d<0?((i=e.left+h+p+f+t.collisionWidth-r-o)<0||i<n(d))&&(e.left+=h+p+f):u>0&&((s=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||n(s)<u)&&(e.left+=h+p+f)},top:function(e,t){var i,s,a=t.within,o=a.offset.top+a.scrollTop,r=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-r-l,h=\"top\"===t.my[1]?-t.elemHeight:\"bottom\"===t.my[1]?t.elemHeight:0,p=\"top\"===t.at[1]?t.targetHeight:\"bottom\"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];d<0?((s=e.top+h+p+f+t.collisionHeight-r-o)<0||s<n(d))&&(e.top+=h+p+f):u>0&&((i=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||n(i)<u)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();e.ui.position,e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])}}),e.fn.extend({disableSelection:(s=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\",function(){return this.on(s+\".ui-disableSelection\",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(\".ui-disableSelection\")}});\n/*!\n    * jQuery UI :data 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */var s,a,o=\"ui-effects-\",r=\"ui-effects-style\",l=\"ui-effects-animated\",c=e;e.effects={effect:{}},\n/*!\n    * jQuery Color Animations v2.1.2\n    * https://github.com/jquery/jquery-color\n    *\n    * Copyright 2014 jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    *\n    * Date: Wed Jan 16 08:47:09 2013 -0600\n    */\nfunction(e,t){var i,n=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,s=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:\"hsla\",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],a=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},o={rgba:{props:{red:{idx:0,type:\"byte\"},green:{idx:1,type:\"byte\"},blue:{idx:2,type:\"byte\"}}},hsla:{props:{hue:{idx:0,type:\"degrees\"},saturation:{idx:1,type:\"percent\"},lightness:{idx:2,type:\"percent\"}}}},r={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=a.support={},c=e(\"<p>\")[0],d=e.each;function u(e,t,i){var n=r[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function h(t){var n=a(),r=n._rgba=[];return t=t.toLowerCase(),d(s,(function(e,i){var s,a=i.re.exec(t),l=a&&i.parse(a),c=i.space||\"rgba\";if(l)return s=n[c](l),n[o[c].cache]=s[o[c].cache],r=n._rgba=s._rgba,!1})),r.length?(\"0,0,0,0\"===r.join()&&e.extend(r,i.transparent),n):i[t]}function p(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}c.style.cssText=\"background-color:rgba(1,1,1,.5)\",l.rgba=c.style.backgroundColor.indexOf(\"rgba\")>-1,d(o,(function(e,t){t.cache=\"_\"+e,t.props.alpha={idx:3,type:\"percent\",def:1}})),a.fn=e.extend(a.prototype,{parse:function(n,s,r,l){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(s),s=t);var c=this,p=e.type(n),f=this._rgba=[];return s!==t&&(n=[n,s,r,l],p=\"array\"),\"string\"===p?this.parse(h(n)||i._default):\"array\"===p?(d(o.rgba.props,(function(e,t){f[t.idx]=u(n[t.idx],t)})),this):\"object\"===p?(d(o,n instanceof a?function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}:function(t,i){var s=i.cache;d(i.props,(function(e,t){if(!c[s]&&i.to){if(\"alpha\"===e||null==n[e])return;c[s]=i.to(c._rgba)}c[s][t.idx]=u(n[e],t,!0)})),c[s]&&e.inArray(null,c[s].slice(0,3))<0&&(c[s][3]=1,i.from&&(c._rgba=i.from(c[s])))}),this):void 0},is:function(e){var t=a(e),i=!0,n=this;return d(o,(function(e,s){var a,o=t[s.cache];return o&&(a=n[s.cache]||s.to&&s.to(n._rgba)||[],d(s.props,(function(e,t){if(null!=o[t.idx])return i=o[t.idx]===a[t.idx]}))),i})),i},_space:function(){var e=[],t=this;return d(o,(function(i,n){t[n.cache]&&e.push(i)})),e.pop()},transition:function(e,t){var i=a(e),n=i._space(),s=o[n],l=0===this.alpha()?a(\"transparent\"):this,c=l[s.cache]||s.to(l._rgba),h=c.slice();return i=i[s.cache],d(s.props,(function(e,n){var s=n.idx,a=c[s],o=i[s],l=r[n.type]||{};null!==o&&(null===a?h[s]=o:(l.mod&&(o-a>l.mod/2?a+=l.mod:a-o>l.mod/2&&(a-=l.mod)),h[s]=u((o-a)*t+a,n)))})),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=a(t)._rgba;return a(e.map(i,(function(e,t){return(1-n)*s[t]+n*e})))},toRgbaString:function(){var t=\"rgba(\",i=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===i[3]&&(i.pop(),t=\"rgb(\"),t+i.join()+\")\"},toHslaString:function(){var t=\"hsla(\",i=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+\"%\"),e}));return 1===i[3]&&(i.pop(),t=\"hsl(\"),t+i.join()+\")\"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),\"#\"+e.map(i,(function(e){return 1===(e=(e||0).toString(16)).length?\"0\"+e:e})).join(\"\")},toString:function(){return 0===this._rgba[3]?\"transparent\":this.toRgbaString()}}),a.fn.parse.prototype=a.fn,o.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(n,s,a),l=Math.min(n,s,a),c=r-l,d=r+l,u=.5*d;return t=l===r?0:n===r?60*(s-a)/c+360:s===r?60*(a-n)/c+120:60*(n-s)/c+240,i=0===c?0:u<=.5?c/d:c/(2-d),[Math.round(t)%360,i,u,null==o?1:o]},o.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],a=n<=.5?n*(1+i):n+i-n*i,o=2*n-a;return[Math.round(255*p(o,a,t+1/3)),Math.round(255*p(o,a,t)),Math.round(255*p(o,a,t-1/3)),s]},d(o,(function(i,s){var o=s.props,r=s.cache,l=s.to,c=s.from;a.fn[i]=function(i){if(l&&!this[r]&&(this[r]=l(this._rgba)),i===t)return this[r].slice();var n,s=e.type(i),h=\"array\"===s||\"object\"===s?i:arguments,p=this[r].slice();return d(o,(function(e,t){var i=h[\"object\"===s?e:t.idx];null==i&&(i=p[t.idx]),p[t.idx]=u(i,t)})),c?((n=a(c(p)))[r]=p,n):a(p)},d(o,(function(t,s){a.fn[t]||(a.fn[t]=function(a){var o,r=e.type(a),l=\"alpha\"===t?this._hsla?\"hsla\":\"rgba\":i,c=this[l](),d=c[s.idx];return\"undefined\"===r?d:(\"function\"===r&&(a=a.call(this,d),r=e.type(a)),null==a&&s.empty?this:(\"string\"===r&&(o=n.exec(a))&&(a=d+parseFloat(o[2])*(\"+\"===o[1]?1:-1)),c[s.idx]=a,this[l](c)))})}))})),a.hook=function(t){var i=t.split(\" \");d(i,(function(t,i){e.cssHooks[i]={set:function(t,n){var s,o,r=\"\";if(\"transparent\"!==n&&(\"string\"!==e.type(n)||(s=h(n)))){if(n=a(s||n),!l.rgba&&1!==n._rgba[3]){for(o=\"backgroundColor\"===i?t.parentNode:t;(\"\"===r||\"transparent\"===r)&&o&&o.style;)try{r=e.css(o,\"backgroundColor\"),o=o.parentNode}catch(e){}n=n.blend(r&&\"transparent\"!==r?r:\"_default\")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=a(t.elem,i),t.end=a(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}}))},a.hook(\"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\"),e.cssHooks.borderColor={expand:function(e){var t={};return d([\"Top\",\"Right\",\"Bottom\",\"Left\"],(function(i,n){t[\"border\"+n+\"Color\"]=e})),t}},i=e.Color.names={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\",transparent:[null,null,null,0],_default:\"#ffffff\"}}(c),function(){var t=[\"add\",\"remove\",\"toggle\"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function n(t){var i,n,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)\"string\"==typeof s[i=s[n]]&&(a[e.camelCase(i)]=s[i]);else for(i in s)\"string\"==typeof s[i]&&(a[i]=s[i]);return a}e.each([\"borderLeftStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderTopStyle\"],(function(t,i){e.fx.step[i]=function(e){(\"none\"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(c.style(e.elem,i,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(s,a,o,r){var l=e.speed(a,o,r);return this.queue((function(){var a,o=e(this),r=o.attr(\"class\")||\"\",c=l.children?o.find(\"*\").addBack():o;c=c.map((function(){return{el:e(this),start:n(this)}})),(a=function(){e.each(t,(function(e,t){s[t]&&o[t+\"Class\"](s[t])}))})(),c=c.map((function(){return this.end=n(this.el[0]),this.diff=function(t,n){var s,a,o={};for(s in n)a=n[s],t[s]!==a&&(i[s]||!e.fx.step[s]&&isNaN(parseFloat(a))||(o[s]=a));return o}(this.start,this.end),this})),o.attr(\"class\",r),c=c.map((function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()})),e.when.apply(e,c.get()).done((function(){a(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,\"\")}))})),l.complete.call(o[0])}))}))},e.fn.extend({addClass:function(t){return function(i,n,s,a){return n?e.effects.animateClass.call(this,{add:i},n,s,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,s,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,s,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,s,a,o){return\"boolean\"==typeof n||void 0===n?s?e.effects.animateClass.call(this,n?{add:i}:{remove:i},s,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,s,a)}}(e.fn.toggleClass),switchClass:function(t,i,n,s,a){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,a)}})}(),function(){function t(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),(\"number\"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:\"number\"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function i(t){return!(t&&\"number\"!=typeof t&&!e.fx.speeds[t])||(\"string\"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||\"object\"==typeof t&&!t.effect))}function n(e,t){var i=t.outerWidth(),n=t.outerHeight(),s=/^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/.exec(e)||[\"\",0,i,n,0];return{top:parseFloat(s[1])||0,right:\"auto\"===s[2]?i:parseFloat(s[2]),bottom:\"auto\"===s[3]?n:parseFloat(s[3]),left:parseFloat(s[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(i){return!!e(i).data(l)||t(i)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var i=0,n=t.length;i<n;i++)null!==t[i]&&e.data(o+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,n=0,s=t.length;n<s;n++)null!==t[n]&&(i=e.data(o+t[n]),e.css(t[n],i))},setMode:function(e,t){return\"toggle\"===t&&(t=e.is(\":hidden\")?\"show\":\"hide\"),t},createWrapper:function(t){if(t.parent().is(\".ui-effects-wrapper\"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css(\"float\")},n=e(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({fontSize:\"100%\",background:\"transparent\",border:\"none\",margin:0,padding:0}),s={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).trigger(\"focus\"),n=t.parent(),\"static\"===t.css(\"position\")?(n.css({position:\"relative\"}),t.css({position:\"relative\"})):(e.extend(i,{position:t.css(\"position\"),zIndex:t.css(\"z-index\")}),e.each([\"top\",\"left\",\"bottom\",\"right\"],(function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]=\"auto\")})),t.css({position:\"relative\",top:0,left:0,right:\"auto\",bottom:\"auto\"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(\".ui-effects-wrapper\")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).trigger(\"focus\")),t}}),e.extend(e.effects,{version:\"1.12.1\",define:function(t,i,n){return n||(n=i,i=\"effect\"),e.effects.effect[t]=n,e.effects.effect[t].mode=i,n},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var n=\"horizontal\"!==i?(t||100)/100:1,s=\"vertical\"!==i?(t||100)/100:1;return{height:e.height()*s,width:e.width()*n,outerHeight:e.outerHeight()*s,outerWidth:e.outerWidth()*n}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var n=e.queue();t>1&&n.splice.apply(n,[1,0].concat(n.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(r,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(r)||\"\",e.removeData(r)},mode:function(e,t){var i=e.is(\":hidden\");return\"toggle\"===t&&(t=i?\"show\":\"hide\"),(i?\"hide\"===t:\"show\"===t)&&(t=\"none\"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case\"top\":i=0;break;case\"middle\":i=.5;break;case\"bottom\":i=1;break;default:i=e[0]/t.height}switch(e[1]){case\"left\":n=0;break;case\"center\":n=.5;break;case\"right\":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createPlaceholder:function(t){var i,n=t.css(\"position\"),s=t.position();return t.css({marginTop:t.css(\"marginTop\"),marginBottom:t.css(\"marginBottom\"),marginLeft:t.css(\"marginLeft\"),marginRight:t.css(\"marginRight\")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n=\"absolute\",i=e(\"<\"+t[0].nodeName+\">\").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css(\"display\"))?\"inline-block\":\"block\",visibility:\"hidden\",marginTop:t.css(\"marginTop\"),marginBottom:t.css(\"marginBottom\"),marginLeft:t.css(\"marginLeft\"),marginRight:t.css(\"marginRight\"),float:t.css(\"float\")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass(\"ui-effects-placeholder\"),t.data(o+\"placeholder\",i)),t.css({position:n,left:s.left,top:s.top}),i},removePlaceholder:function(e){var t=o+\"placeholder\",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,i,n,s){return s=s||{},e.each(i,(function(e,i){var a=t.cssUnit(i);a[0]>0&&(s[i]=a[0]*n+a[1])})),s}}),e.fn.extend({effect:function(){var i=t.apply(this,arguments),n=e.effects.effect[i.effect],s=n.mode,a=i.queue,o=a||\"fx\",r=i.complete,c=i.mode,d=[],u=function(t){var i=e(this),n=e.effects.mode(i,c)||s;i.data(l,!0),d.push(n),s&&(\"show\"===n||n===s&&\"hide\"===n)&&i.show(),s&&\"none\"===n||e.effects.saveStyle(i),e.isFunction(t)&&t()};if(e.fx.off||!n)return c?this[c](i.duration,r):this.each((function(){r&&r.call(this)}));function h(t){var a=e(this);function o(){e.isFunction(r)&&r.call(a[0]),e.isFunction(t)&&t()}i.mode=d.shift(),!1===e.uiBackCompat||s?\"none\"===i.mode?(a[c](),o()):n.call(a[0],i,(function(){a.removeData(l),e.effects.cleanUp(a),\"hide\"===i.mode&&a.hide(),o()})):(a.is(\":hidden\")?\"hide\"===c:\"show\"===c)?(a[c](),o()):n.call(a[0],i,o)}return!1===a?this.each(u).each(h):this.queue(o,u).queue(o,h)},show:function(e){return function(n){if(i(n))return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode=\"show\",this.effect.call(this,s)}}(e.fn.show),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode=\"hide\",this.effect.call(this,s)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||\"boolean\"==typeof n)return e.apply(this,arguments);var s=t.apply(this,arguments);return s.mode=\"toggle\",this.effect.call(this,s)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each([\"em\",\"px\",\"%\",\"pt\"],(function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])})),n},cssClip:function(e){return e?this.css(\"clip\",\"rect(\"+e.top+\"px \"+e.right+\"px \"+e.bottom+\"px \"+e.left+\"px)\"):n(this.css(\"clip\"),this)},transfer:function(t,i){var n=e(this),s=e(t.to),a=\"fixed\"===s.css(\"position\"),o=e(\"body\"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=s.offset(),d={top:c.top-r,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),h=e(\"<div class='ui-effects-transfer'></div>\").appendTo(\"body\").addClass(t.className).css({top:u.top-r,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?\"fixed\":\"absolute\"}).animate(d,t.duration,t.easing,(function(){h.remove(),e.isFunction(i)&&i()}))}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),\"string\"==typeof t.end&&(t.end=n(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),a={},e.each([\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"],(function(e,t){a[t]=function(t){return Math.pow(t,e+2)}})),e.extend(a,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(a,(function(t,i){e.easing[\"easeIn\"+t]=i,e.easing[\"easeOut\"+t]=function(e){return 1-i(1-e)},e.easing[\"easeInOut\"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}));e.effects,e.effects.define(\"blind\",\"hide\",(function(t,i){var n={up:[\"bottom\",\"top\"],vertical:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],horizontal:[\"right\",\"left\"],right:[\"left\",\"right\"]},s=e(this),a=t.direction||\"up\",o=s.cssClip(),r={clip:e.extend({},o)},l=e.effects.createPlaceholder(s);r.clip[n[a][0]]=r.clip[n[a][1]],\"show\"===t.mode&&(s.cssClip(r.clip),l&&l.css(e.effects.clipToBox(r)),r.clip=o),l&&l.animate(e.effects.clipToBox(r),t.duration,t.easing),s.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define(\"bounce\",(function(t,i){var n,s,a,o=e(this),r=t.mode,l=\"hide\"===r,c=\"show\"===r,d=t.direction||\"up\",u=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,g=t.easing,m=\"up\"===d||\"down\"===d?\"top\":\"left\",v=\"up\"===d||\"left\"===d,_=0,b=o.queue().length;for(e.effects.createPlaceholder(o),a=o.css(m),u||(u=o[\"top\"===m?\"outerHeight\":\"outerWidth\"]()/3),c&&((s={opacity:1})[m]=a,o.css(\"opacity\",0).css(m,v?2*-u:2*u).animate(s,f,g)),l&&(u/=Math.pow(2,h-1)),(s={})[m]=a;_<h;_++)(n={})[m]=(v?\"-=\":\"+=\")+u,o.animate(n,f,g).animate(s,f,g),u=l?2*u:u/2;l&&((n={opacity:0})[m]=(v?\"-=\":\"+=\")+u,o.animate(n,f,g)),o.queue(i),e.effects.unshift(o,b,p+1)})),e.effects.define(\"clip\",\"hide\",(function(t,i){var n,s={},a=e(this),o=t.direction||\"vertical\",r=\"both\"===o,l=r||\"horizontal\"===o,c=r||\"vertical\"===o;n=a.cssClip(),s.clip={top:c?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:c?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},e.effects.createPlaceholder(a),\"show\"===t.mode&&(a.cssClip(s.clip),s.clip=n),a.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define(\"drop\",\"hide\",(function(t,i){var n,s=e(this),a=\"show\"===t.mode,o=t.direction||\"left\",r=\"up\"===o||\"down\"===o?\"top\":\"left\",l=\"up\"===o||\"left\"===o?\"-=\":\"+=\",c=\"+=\"===l?\"-=\":\"+=\",d={opacity:0};e.effects.createPlaceholder(s),n=t.distance||s[\"top\"===r?\"outerHeight\":\"outerWidth\"](!0)/2,d[r]=l+n,a&&(s.css(d),d[r]=c+n,d.opacity=1),s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define(\"explode\",\"hide\",(function(t,i){var n,s,a,o,r,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=c,u=e(this),h=\"show\"===t.mode,p=u.show().css(\"visibility\",\"hidden\").offset(),f=Math.ceil(u.outerWidth()/d),g=Math.ceil(u.outerHeight()/c),m=[];function v(){m.push(this),m.length===c*d&&(u.css({visibility:\"visible\"}),e(m).remove(),i())}for(n=0;n<c;n++)for(o=p.top+n*g,l=n-(c-1)/2,s=0;s<d;s++)a=p.left+s*f,r=s-(d-1)/2,u.clone().appendTo(\"body\").wrap(\"<div></div>\").css({position:\"absolute\",visibility:\"visible\",left:-s*f,top:-n*g}).parent().addClass(\"ui-effects-explode\").css({position:\"absolute\",overflow:\"hidden\",width:f,height:g,left:a+(h?r*f:0),top:o+(h?l*g:0),opacity:h?0:1}).animate({left:a+(h?0:r*f),top:o+(h?0:l*g),opacity:h?1:0},t.duration||500,t.easing,v)})),e.effects.define(\"fade\",\"toggle\",(function(t,i){var n=\"show\"===t.mode;e(this).css(\"opacity\",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define(\"fold\",\"hide\",(function(t,i){var n=e(this),s=t.mode,a=\"show\"===s,o=\"hide\"===s,r=t.size||15,l=/([0-9]+)%/.exec(r),c=!!t.horizFirst?[\"right\",\"bottom\"]:[\"bottom\",\"right\"],d=t.duration/2,u=e.effects.createPlaceholder(n),h=n.cssClip(),p={clip:e.extend({},h)},f={clip:e.extend({},h)},g=[h[c[0]],h[c[1]]],m=n.queue().length;l&&(r=parseInt(l[1],10)/100*g[o?0:1]),p.clip[c[0]]=r,f.clip[c[0]]=r,f.clip[c[1]]=0,a&&(n.cssClip(f.clip),u&&u.css(e.effects.clipToBox(f)),f.clip=h),n.queue((function(i){u&&u.animate(e.effects.clipToBox(p),d,t.easing).animate(e.effects.clipToBox(f),d,t.easing),i()})).animate(p,d,t.easing).animate(f,d,t.easing).queue(i),e.effects.unshift(n,m,4)})),e.effects.define(\"highlight\",\"show\",(function(t,i){var n=e(this),s={backgroundColor:n.css(\"backgroundColor\")};\"hide\"===t.mode&&(s.opacity=0),e.effects.saveStyle(n),n.css({backgroundImage:\"none\",backgroundColor:t.color||\"#ffff99\"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define(\"size\",(function(t,i){var n,s,a,o=e(this),r=[\"fontSize\"],l=[\"borderTopWidth\",\"borderBottomWidth\",\"paddingTop\",\"paddingBottom\"],c=[\"borderLeftWidth\",\"borderRightWidth\",\"paddingLeft\",\"paddingRight\"],d=t.mode,u=\"effect\"!==d,h=t.scale||\"both\",p=t.origin||[\"middle\",\"center\"],f=o.css(\"position\"),g=o.position(),m=e.effects.scaledDimensions(o),v=t.from||m,_=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),\"show\"===d&&(a=v,v=_,_=a),s={from:{y:v.height/m.height,x:v.width/m.width},to:{y:_.height/m.height,x:_.width/m.width}},\"box\"!==h&&\"both\"!==h||(s.from.y!==s.to.y&&(v=e.effects.setTransition(o,l,s.from.y,v),_=e.effects.setTransition(o,l,s.to.y,_)),s.from.x!==s.to.x&&(v=e.effects.setTransition(o,c,s.from.x,v),_=e.effects.setTransition(o,c,s.to.x,_))),\"content\"!==h&&\"both\"!==h||s.from.y!==s.to.y&&(v=e.effects.setTransition(o,r,s.from.y,v),_=e.effects.setTransition(o,r,s.to.y,_)),p&&(n=e.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,_.top=(m.outerHeight-_.outerHeight)*n.y+g.top,_.left=(m.outerWidth-_.outerWidth)*n.x+g.left),o.css(v),\"content\"!==h&&\"both\"!==h||(l=l.concat([\"marginTop\",\"marginBottom\"]).concat(r),c=c.concat([\"marginLeft\",\"marginRight\"]),o.find(\"*[width]\").each((function(){var i=e(this),n=e.effects.scaledDimensions(i),a={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},o={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x};s.from.y!==s.to.y&&(a=e.effects.setTransition(i,l,s.from.y,a),o=e.effects.setTransition(i,l,s.to.y,o)),s.from.x!==s.to.x&&(a=e.effects.setTransition(i,c,s.from.x,a),o=e.effects.setTransition(i,c,s.to.x,o)),u&&e.effects.saveStyle(i),i.css(a),i.animate(o,t.duration,t.easing,(function(){u&&e.effects.restoreStyle(i)}))}))),o.animate(_,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===_.opacity&&o.css(\"opacity\",v.opacity),u||(o.css(\"position\",\"static\"===f?\"relative\":f).offset(t),e.effects.saveStyle(o)),i()}})})),e.effects.define(\"scale\",(function(t,i){var n=e(this),s=t.mode,a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||\"effect\"!==s?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(n),to:e.effects.scaledDimensions(n,a,t.direction||\"both\"),origin:t.origin||[\"middle\",\"center\"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,i)})),e.effects.define(\"puff\",\"hide\",(function(t,i){var n=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,n,i)})),e.effects.define(\"pulsate\",\"show\",(function(t,i){var n=e(this),s=t.mode,a=\"show\"===s,o=a||\"hide\"===s,r=2*(t.times||5)+(o?1:0),l=t.duration/r,c=0,d=1,u=n.queue().length;for(!a&&n.is(\":visible\")||(n.css(\"opacity\",0).show(),c=1);d<r;d++)n.animate({opacity:c},l,t.easing),c=1-c;n.animate({opacity:c},l,t.easing),n.queue(i),e.effects.unshift(n,u,r+1)})),e.effects.define(\"shake\",(function(t,i){var n=1,s=e(this),a=t.direction||\"left\",o=t.distance||20,r=t.times||3,l=2*r+1,c=Math.round(t.duration/l),d=\"up\"===a||\"down\"===a?\"top\":\"left\",u=\"up\"===a||\"left\"===a,h={},p={},f={},g=s.queue().length;for(e.effects.createPlaceholder(s),h[d]=(u?\"-=\":\"+=\")+o,p[d]=(u?\"+=\":\"-=\")+2*o,f[d]=(u?\"-=\":\"+=\")+2*o,s.animate(h,c,t.easing);n<r;n++)s.animate(p,c,t.easing).animate(f,c,t.easing);s.animate(p,c,t.easing).animate(h,c/2,t.easing).queue(i),e.effects.unshift(s,g,l+1)})),e.effects.define(\"slide\",\"show\",(function(t,i){var n,s,a=e(this),o={up:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],right:[\"left\",\"right\"]},r=t.mode,l=t.direction||\"left\",c=\"up\"===l||\"down\"===l?\"top\":\"left\",d=\"up\"===l||\"left\"===l,u=t.distance||a[\"top\"===c?\"outerHeight\":\"outerWidth\"](!0),h={};e.effects.createPlaceholder(a),n=a.cssClip(),s=a.position()[c],h[c]=(d?-1:1)*u+s,h.clip=a.cssClip(),h.clip[o[l][1]]=h.clip[o[l][0]],\"show\"===r&&(a.cssClip(h.clip),a.css(c,h[c]),h.clip=n,h[c]=s),a.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}));\n/*!\n    * jQuery UI Effects Blind 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */!1!==e.uiBackCompat&&e.effects.define(\"transfer\",(function(t,i){e(this).transfer(t,i)}));\n/*!\n    * jQuery UI Focusable 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\ne.ui.focusable=function(t,i){var n,s,a,o,r,l=t.nodeName.toLowerCase();return\"area\"===l?(s=(n=t.parentNode).name,!(!t.href||!s||\"map\"!==n.nodeName.toLowerCase())&&((a=e(\"img[usemap='#\"+s+\"']\")).length>0&&a.is(\":visible\"))):(/^(input|select|textarea|button|object)$/.test(l)?(o=!t.disabled)&&(r=e(t).closest(\"fieldset\")[0])&&(o=!r.disabled):o=\"a\"===l&&t.href||i,o&&e(t).is(\":visible\")&&function(e){var t=e.css(\"visibility\");for(;\"inherit\"===t;)t=(e=e.parent()).css(\"visibility\");return\"hidden\"!==t}(e(t)))},e.extend(e.expr[\":\"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,\"tabindex\"))}});e.ui.focusable,e.fn.form=function(){return\"string\"==typeof this[0].form?this.closest(\"form\"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout((function(){var i=t.data(\"ui-form-reset-instances\");e.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data(\"ui-form-reset-instances\")||[];e.length||this.form.on(\"reset.ui-form-reset\",this._formResetHandler),e.push(this),this.form.data(\"ui-form-reset-instances\",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data(\"ui-form-reset-instances\");t.splice(e.inArray(this,t),1),t.length?this.form.data(\"ui-form-reset-instances\",t):this.form.removeData(\"ui-form-reset-instances\").off(\"reset.ui-form-reset\")}}};\n/*!\n    * jQuery UI Support for jQuery core 1.7.x 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    *\n    */\n\"1.7\"===e.fn.jquery.substring(0,3)&&(e.each([\"Width\",\"Height\"],(function(t,i){var n=\"Width\"===i?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function o(t,i,s,a){return e.each(n,(function(){i-=parseFloat(e.css(t,\"padding\"+this))||0,s&&(i-=parseFloat(e.css(t,\"border\"+this+\"Width\"))||0),a&&(i-=parseFloat(e.css(t,\"margin\"+this))||0)})),i}e.fn[\"inner\"+i]=function(t){return void 0===t?a[\"inner\"+i].call(this):this.each((function(){e(this).css(s,o(this,t)+\"px\")}))},e.fn[\"outer\"+i]=function(t,n){return\"number\"!=typeof t?a[\"outer\"+i].call(this,t):this.each((function(){e(this).css(s,o(this,t,!0,n)+\"px\")}))}})),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});\n/*!\n    * jQuery UI Keycode 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\nvar d,u;e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=(d=/([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])/g,function(e){return e.replace(d,\"\\\\$1\")}),e.fn.labels=function(){var t,i,n,s,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents(\"label\"),(n=this.attr(\"id\"))&&(a=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),i=\"label[for='\"+e.ui.escapeSelector(n)+\"']\",s=s.add(a.find(i).addBack(i))),this.pushStack(s))},e.fn.scrollParent=function(t){var i=this.css(\"position\"),n=\"absolute\"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var t=e(this);return(!n||\"static\"!==t.css(\"position\"))&&s.test(t.css(\"overflow\")+t.css(\"overflow-y\")+t.css(\"overflow-x\"))})).eq(0);return\"fixed\"!==i&&a.length?a:e(this[0].ownerDocument||document)},e.extend(e.expr[\":\"],{tabbable:function(t){var i=e.attr(t,\"tabindex\"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}}),e.fn.extend({uniqueId:(u=0,function(){return this.each((function(){this.id||(this.id=\"ui-id-\"+ ++u)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\\d+$/.test(this.id)&&e(this).removeAttr(\"id\")}))}}),e.widget(\"ui.accordion\",{version:\"1.12.1\",options:{active:0,animate:{},classes:{\"ui-accordion-header\":\"ui-corner-top\",\"ui-accordion-header-collapsed\":\"ui-corner-all\",\"ui-accordion-content\":\"ui-corner-bottom\"},collapsible:!1,event:\"click\",header:\"> li > :first-child, > :not(li):even\",heightStyle:\"auto\",icons:{activeHeader:\"ui-icon-triangle-1-s\",header:\"ui-icon-triangle-1-e\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\"hide\",borderBottomWidth:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\",height:\"hide\"},showProps:{borderTopWidth:\"show\",borderBottomWidth:\"show\",paddingTop:\"show\",paddingBottom:\"show\",height:\"show\"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass(\"ui-accordion\",\"ui-widget ui-helper-reset\"),this.element.attr(\"role\",\"tablist\"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,i,n=this.options.icons;n&&(t=e(\"<span>\"),this._addClass(t,\"ui-accordion-header-icon\",\"ui-icon \"+n.header),t.prependTo(this.headers),i=this.active.children(\".ui-accordion-header-icon\"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,\"ui-accordion-icons\"))},_destroyIcons:function(){this._removeClass(this.headers,\"ui-accordion-icons\"),this.headers.children(\".ui-accordion-header-icon\").remove()},_destroy:function(){var e;this.element.removeAttr(\"role\"),this.headers.removeAttr(\"role aria-expanded aria-selected aria-controls tabIndex\").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css(\"display\",\"\").removeAttr(\"role aria-hidden aria-labelledby\").removeUniqueId(),\"content\"!==this.options.heightStyle&&e.css(\"height\",\"\")},_setOption:function(e,t){\"active\"!==e?(\"event\"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),\"collapsible\"!==e||t||!1!==this.options.active||this._activate(0),\"icons\"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr(\"aria-disabled\",e),this._toggleClass(null,\"ui-state-disabled\",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,\"ui-state-disabled\",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[n-1]}a&&(e(t.target).attr(\"tabIndex\",-1),e(a).attr(\"tabIndex\",0),e(a).trigger(\"focus\"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger(\"focus\")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\".ui-state-disabled\").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,\"ui-accordion-header ui-accordion-header-collapsed\",\"ui-state-default\"),this.panels=this.headers.next().filter(\":not(.ui-accordion-content-active)\").hide(),this._addClass(this.panels,\"ui-accordion-content\",\"ui-helper-reset ui-widget-content\"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,\"ui-accordion-header-active\",\"ui-state-active\")._removeClass(this.active,\"ui-accordion-header-collapsed\"),this._addClass(this.active.next(),\"ui-accordion-content-active\"),this.active.next().show(),this.headers.attr(\"role\",\"tab\").each((function(){var t=e(this),i=t.uniqueId().attr(\"id\"),n=t.next(),s=n.uniqueId().attr(\"id\");t.attr(\"aria-controls\",s),n.attr(\"aria-labelledby\",i)})).next().attr(\"role\",\"tabpanel\"),this.headers.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}).next().attr({\"aria-hidden\":\"true\"}).hide(),this.active.length?this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}).next().attr({\"aria-hidden\":\"false\"}):this.headers.eq(0).attr(\"tabIndex\",0),this._createIcons(),this._setupEvents(i.event),\"fill\"===n?(t=s.height(),this.element.siblings(\":visible\").each((function(){var i=e(this),n=i.css(\"position\");\"absolute\"!==n&&\"fixed\"!==n&&(t-=i.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css(\"overflow\",\"auto\")):\"auto\"===n&&(t=0,this.headers.next().each((function(){var i=e(this).is(\":visible\");i||e(this).show(),t=Math.max(t,e(this).css(\"height\",\"\").height()),i||e(this).hide()})).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return\"number\"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:\"_keydown\"};t&&e.each(t.split(\" \"),(function(e,t){i[t]=\"_eventHandler\"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\"_panelKeyDown\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i,n,s=this.options,a=this.active,o=e(t.currentTarget),r=o[0]===a[0],l=r&&s.collapsible,c=l?e():o.next(),d=a.next(),u={oldHeader:a,oldPanel:d,newHeader:l?e():o,newPanel:c};t.preventDefault(),r&&!s.collapsible||!1===this._trigger(\"beforeActivate\",t,u)||(s.active=!l&&this.headers.index(o),this.active=r?e():o,this._toggle(u),this._removeClass(a,\"ui-accordion-header-active\",\"ui-state-active\"),s.icons&&(i=a.children(\".ui-accordion-header-icon\"),this._removeClass(i,null,s.icons.activeHeader)._addClass(i,null,s.icons.header)),r||(this._removeClass(o,\"ui-accordion-header-collapsed\")._addClass(o,\"ui-accordion-header-active\",\"ui-state-active\"),s.icons&&(n=o.children(\".ui-accordion-header-icon\"),this._removeClass(n,null,s.icons.header)._addClass(n,null,s.icons.activeHeader)),this._addClass(o.next(),\"ui-accordion-content-active\")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({\"aria-hidden\":\"true\"}),n.prev().attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),i.length&&n.length?n.prev().attr({tabIndex:-1,\"aria-expanded\":\"false\"}):i.length&&this.headers.filter((function(){return 0===parseInt(e(this).attr(\"tabIndex\"),10)})).attr(\"tabIndex\",-1),i.attr(\"aria-hidden\",\"false\").prev().attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_animate:function(e,t,i){var n,s,a,o=this,r=0,l=e.css(\"box-sizing\"),c=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},u=c&&d.down||d,h=function(){o._toggleComplete(i)};return\"number\"==typeof u&&(a=u),\"string\"==typeof u&&(s=u),s=s||u.easing||d.easing,a=a||u.duration||d.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:s,complete:h,step:function(e,i){i.now=Math.round(e),\"height\"!==i.prop?\"content-box\"===l&&(r+=i.now):\"content\"!==o.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,a,s,h):e.animate(this.showProps,a,s,h)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,\"ui-accordion-content-active\"),this._removeClass(i,\"ui-accordion-header-active\")._addClass(i,\"ui-accordion-header-collapsed\"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger(\"activate\",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget(\"ui.menu\",{version:\"1.12.1\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-caret-1-e\"},items:\"> *\",menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass(\"ui-menu\",\"ui-widget ui-widget-content\"),this._on({\"mousedown .ui-menu-item\":function(e){e.preventDefault()},\"click .ui-menu-item\":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(\".ui-state-disabled\").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(\".ui-menu\").length?this.expand(t):!this.element.is(\":focus\")&&n.closest(\".ui-menu\").length&&(this.element.trigger(\"focus\",[!0]),this.active&&1===this.active.parents(\".ui-menu\").length&&clearTimeout(this.timer)))},\"mouseenter .ui-menu-item\":function(t){if(!this.previousFilter){var i=e(t.target).closest(\".ui-menu-item\"),n=e(t.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(\".ui-state-active\"),null,\"ui-state-active\"),this.focus(t,n))}},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:\"_keydown\"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(\".ui-menu-item\").removeAttr(\"role aria-disabled\").children(\".ui-menu-item-wrapper\").removeUniqueId().removeAttr(\"tabIndex role aria-haspopup\");this.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeAttr(\"role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex\").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data(\"ui-menu-submenu-caret\")&&t.remove()}))},_keydown:function(t){var i,n,s,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move(\"first\",\"first\",t);break;case e.ui.keyCode.END:this._move(\"last\",\"last\",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(\".ui-state-disabled\")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||\"\",a=!1,s=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),s===n?a=!0:s=n+s,i=this._filterMenuItems(s),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(\".ui-menu-item\"):i).length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(\".ui-state-disabled\")&&(this.active.children(\"[aria-haspopup='true']\").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,s,a=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass(\"ui-menu-icons\",null,!!this.element.find(\".ui-icon\").length),i=r.filter(\":not(.ui-menu)\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each((function(){var t=e(this),i=t.prev(),n=e(\"<span>\").data(\"ui-menu-submenu-caret\",!0);a._addClass(n,\"ui-menu-icon\",\"ui-icon \"+o),i.attr(\"aria-haspopup\",\"true\").prepend(n),t.attr(\"aria-labelledby\",i.attr(\"id\"))})),this._addClass(i,\"ui-menu\",\"ui-widget ui-widget-content ui-front\"),(t=r.add(this.element).find(this.options.items)).not(\".ui-menu-item\").each((function(){var t=e(this);a._isDivider(t)&&a._addClass(t,\"ui-menu-divider\",\"ui-widget-content\")})),s=(n=t.not(\".ui-menu-item, .ui-menu-divider\")).children().not(\".ui-menu\").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,\"ui-menu-item\")._addClass(s,\"ui-menu-item-wrapper\"),t.filter(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role]},_setOption:function(e,t){if(\"icons\"===e){var i=this.element.find(\".ui-menu-icon\");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr(\"aria-disabled\",String(e)),this._toggleClass(null,\"ui-state-disabled\",!!e)},focus:function(e,t){var i,n,s;this.blur(e,e&&\"focus\"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(\".ui-menu-item-wrapper\"),this._addClass(n,null,\"ui-state-active\"),this.options.role&&this.element.attr(\"aria-activedescendant\",n.attr(\"id\")),s=this.active.parent().closest(\".ui-menu-item\").children(\".ui-menu-item-wrapper\"),this._addClass(s,null,\"ui-state-active\"),e&&\"keydown\"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(\".ui-menu\")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger(\"focus\",e,{item:t})},_scrollIntoView:function(t){var i,n,s,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],\"borderTopWidth\"))||0,n=parseFloat(e.css(this.activeMenu[0],\"paddingTop\"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),s<0?this.activeMenu.scrollTop(a+s):s+r>o&&this.activeMenu.scrollTop(a+s-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(\".ui-menu-item-wrapper\"),null,\"ui-state-active\"),this._trigger(\"blur\",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),\"true\"===e.attr(\"aria-hidden\")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\".ui-menu\").not(t.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\"),t.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(\".ui-menu\"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(\".ui-state-active\"),null,\"ui-state-active\"),this.activeMenu=n}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\")},_closeOnDocumentClick:function(t){return!e(t.target).closest(\".ui-menu\").length},_isDivider:function(e){return!/[^\\-\\u2014\\u2013\\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(\".ui-menu \").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move(\"next\",\"first\",e)},previous:function(e){this._move(\"prev\",\"last\",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},_move:function(e,t,i){var n;this.active&&(n=\"first\"===e||\"last\"===e?this.active[\"first\"===e?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1):this.active[e+\"All\"](\".ui-menu-item\").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(\".ui-menu-item\").each((function(){return(i=e(this)).offset().top-n-s<0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?\"last\":\"first\"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(\".ui-menu-item\").each((function(){return(i=e(this)).offset().top-n+s>0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\")},select:function(t){this.active=this.active||e(t.target).closest(\".ui-menu-item\");var i={item:this.active};this.active.has(\".ui-menu\").length||this.collapseAll(t,!0),this._trigger(\"select\",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\"),n=new RegExp(\"^\"+i,\"i\");return this.activeMenu.find(this.options.items).filter(\".ui-menu-item\").filter((function(){return n.test(e.trim(e(this).children(\".ui-menu-item-wrapper\").text()))}))}});\n/*!\n    * jQuery UI Autocomplete 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\ne.widget(\"ui.autocomplete\",{version:\"1.12.1\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),a=\"textarea\"===s,o=\"input\"===s;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?\"val\":\"text\"],this.isNewMenu=!0,this._addClass(\"ui-autocomplete-input\"),this.element.attr(\"autocomplete\",\"off\"),this._on(this.element,{keydown:function(s){if(this.element.prop(\"readOnly\"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var a=e.ui.keyCode;switch(s.keyCode){case a.PAGE_UP:t=!0,this._move(\"previousPage\",s);break;case a.PAGE_DOWN:t=!0,this._move(\"nextPage\",s);break;case a.UP:t=!0,this._keyEvent(\"previous\",s);break;case a.DOWN:t=!0,this._keyEvent(\"next\",s);break;case a.ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case a.TAB:this.menu.active&&this.menu.select(s);break;case a.ESCAPE:this.menu.element.is(\":visible\")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(\":visible\")||n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move(\"previousPage\",n);break;case s.PAGE_DOWN:this._move(\"nextPage\",n);break;case s.UP:this._keyEvent(\"previous\",n);break;case s.DOWN:this._keyEvent(\"next\",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e(\"<ul>\").appendTo(this._appendTo()).menu({role:null}).hide().menu(\"instance\"),this._addClass(this.menu.element,\"ui-autocomplete\",\"ui-front\"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger(\"focus\")}))},menufocus:function(t,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one(\"mousemove\",(function(){e(t.target).trigger(t.originalEvent)}));s=i.item.data(\"ui-autocomplete-item\"),!1!==this._trigger(\"focus\",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(n=i.item.attr(\"aria-label\")||s.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e(\"<div>\").text(n).appendTo(this.liveRegion))},menuselect:function(t,i){var n=i.item.data(\"ui-autocomplete-item\"),s=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger(\"focus\"),this.previous=s,this._delay((function(){this.previous=s,this.selectedItem=n}))),!1!==this._trigger(\"select\",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=e(\"<div>\",{role:\"status\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\"),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr(\"autocomplete\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),\"source\"===e&&this._initSource(),\"appendTo\"===e&&this.menu.element.appendTo(this._appendTo()),\"disabled\"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\".ui-front, dialog\")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):\"string\"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:\"json\",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),i=this.menu.element.is(\":visible\"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger(\"search\",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass(\"ui-autocomplete-loading\"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass(\"ui-autocomplete-loading\")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger(\"response\",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger(\"open\")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,\"mousedown\"),this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\"close\",e))},_change:function(e){this.previous!==this._value()&&this._trigger(\"change\",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return\"string\"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:\"_closeOnClickOutside\"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,(function(e,i){n._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data(\"ui-autocomplete-item\",t)},_renderItem:function(t,i){return e(\"<li>\").append(e(\"<div>\").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(\":visible\"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(\":visible\")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop(\"contentEditable\");return\"inherit\"===t?this._isContentEditable(e.parent()):\"true\"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),\"i\");return e.grep(t,(function(e){return n.test(e.label||e.value||e)}))}}),e.widget(\"ui.autocomplete\",e.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function(e){return e+(e>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\"}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e(\"<div>\").text(i).appendTo(this.liveRegion))}});e.ui.autocomplete;\n/*!\n    * jQuery UI Controlgroup 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */var h=/ui-corner-([a-z]){2,6}/g;e.widget(\"ui.controlgroup\",{version:\"1.12.1\",defaultElement:\"<div>\",options:{direction:\"horizontal\",disabled:null,onlyVisible:!0,items:{button:\"input[type=button], input[type=submit], input[type=reset], button, a\",controlgroupLabel:\".ui-controlgroup-label\",checkboxradio:\"input[type='checkbox'], input[type='radio']\",selectmenu:\"select\",spinner:\".ui-spinner-input\"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr(\"role\",\"toolbar\"),this.refresh()},_destroy:function(){this._callChildMethod(\"destroy\"),this.childWidgets.removeData(\"ui-controlgroup-data\"),this.element.removeAttr(\"role\"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(\".ui-controlgroup-label-contents\").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,(function(n,s){var a,o={};if(s)return\"controlgroupLabel\"===n?((a=t.element.find(s)).each((function(){var t=e(this);t.children(\".ui-controlgroup-label-contents\").length||t.contents().wrapAll(\"<span class='ui-controlgroup-label-contents'></span>\")})),t._addClass(a,null,\"ui-widget ui-widget-content ui-state-default\"),void(i=i.concat(a.get()))):void(e.fn[n]&&(o=t[\"_\"+n+\"Options\"]?t[\"_\"+n+\"Options\"](\"middle\"):{classes:{}},t.element.find(s).each((function(){var s=e(this),a=s[n](\"instance\"),r=e.widget.extend({},o);if(\"button\"!==n||!s.parent(\".ui-spinner\").length){a||(a=s[n]()[n](\"instance\")),a&&(r.classes=t._resolveClassesValues(r.classes,a)),s[n](r);var l=s[n](\"widget\");e.data(l[0],\"ui-controlgroup-data\",a||s[n](\"instance\")),i.push(l[0])}}))))})),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,\"ui-controlgroup-item\")},_callChildMethod:function(t){this.childWidgets.each((function(){var i=e(this).data(\"ui-controlgroup-data\");i&&i[t]&&i[t]()}))},_updateCornerClass:function(e,t){var i=this._buildSimpleOptions(t,\"label\").classes.label;this._removeClass(e,null,\"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all\"),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var i=\"vertical\"===this.options.direction,n={classes:{}};return n.classes[t]={middle:\"\",first:\"ui-corner-\"+(i?\"top\":\"left\"),last:\"ui-corner-\"+(i?\"bottom\":\"right\"),only:\"ui-corner-all\"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,\"ui-spinner\");return t.classes[\"ui-spinner-up\"]=\"\",t.classes[\"ui-spinner-down\"]=\"\",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,\"ui-button\")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,\"ui-checkboxradio-label\")},_selectmenuOptions:function(e){var t=\"vertical\"===this.options.direction;return{width:!!t&&\"auto\",classes:{middle:{\"ui-selectmenu-button-open\":\"\",\"ui-selectmenu-button-closed\":\"\"},first:{\"ui-selectmenu-button-open\":\"ui-corner-\"+(t?\"top\":\"tl\"),\"ui-selectmenu-button-closed\":\"ui-corner-\"+(t?\"top\":\"left\")},last:{\"ui-selectmenu-button-open\":t?\"\":\"ui-corner-tr\",\"ui-selectmenu-button-closed\":\"ui-corner-\"+(t?\"bottom\":\"right\")},only:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"}}[e]}},_resolveClassesValues:function(t,i){var n={};return e.each(t,(function(s){var a=i.options.classes[s]||\"\";a=e.trim(a.replace(h,\"\")),n[s]=(a+\" \"+t[s]).replace(/\\s+/g,\" \")})),n},_setOption:function(e,t){\"direction\"===e&&this._removeClass(\"ui-controlgroup-\"+this.options.direction),this._super(e,t),\"disabled\"!==e?this.refresh():this._callChildMethod(t?\"disable\":\"enable\")},refresh:function(){var t,i=this;this._addClass(\"ui-controlgroup ui-controlgroup-\"+this.options.direction),\"horizontal\"===this.options.direction&&this._addClass(null,\"ui-helper-clearfix\"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(\":visible\")),t.length&&(e.each([\"first\",\"last\"],(function(e,n){var s=t[n]().data(\"ui-controlgroup-data\");if(s&&i[\"_\"+s.widgetName+\"Options\"]){var a=i[\"_\"+s.widgetName+\"Options\"](1===t.length?\"only\":n);a.classes=i._resolveClassesValues(a.classes,s),s.element[s.widgetName](a)}else i._updateCornerClass(t[n](),n)})),this._callChildMethod(\"refresh\"))}});\n/*!\n    * jQuery UI Checkboxradio 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\ne.widget(\"ui.checkboxradio\",[e.ui.formResetMixin,{version:\"1.12.1\",options:{disabled:null,label:null,icon:!0,classes:{\"ui-checkboxradio-label\":\"ui-corner-all\",\"ui-checkboxradio-icon\":\"ui-corner-all\"}},_getCreateOptions:function(){var t,i,n=this,s=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error(\"No label found for checkboxradio widget\"),this.originalLabel=\"\",this.label.contents().not(this.element[0]).each((function(){n.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML})),this.originalLabel&&(s.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(s.disabled=t),s},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption(\"disabled\",this.options.disabled),this._addClass(\"ui-checkboxradio\",\"ui-helper-hidden-accessible\"),this._addClass(this.label,\"ui-checkboxradio-label\",\"ui-button ui-widget\"),\"radio\"===this.type&&this._addClass(this.label,\"ui-checkboxradio-radio-label\"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\"),this.icon&&this._addClass(this.icon,null,\"ui-state-hover\")),this._on({change:\"_toggleClasses\",focus:function(){this._addClass(this.label,null,\"ui-state-focus ui-visual-focus\")},blur:function(){this._removeClass(this.label,null,\"ui-state-focus ui-visual-focus\")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,\"input\"===t&&/radio|checkbox/.test(this.type)||e.error(\"Can't create checkboxradio on element.nodeName=\"+t+\" and element.type=\"+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i=\"input[name='\"+e.ui.escapeSelector(t)+\"']\";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter((function(){return 0===e(this).form().length}))).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",t),this.options.icon&&\"checkbox\"===this.type&&this._toggleClass(this.icon,null,\"ui-icon-check ui-state-checked\",t)._toggleClass(this.icon,null,\"ui-icon-blank\",!t),\"radio\"===this.type&&this._getRadioGroup().each((function(){var t=e(this).checkboxradio(\"instance\");t&&t._removeClass(t.label,\"ui-checkboxradio-checked\",\"ui-state-active\")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if(\"label\"!==e||t){if(this._super(e,t),\"disabled\"===e)return this._toggleClass(this.label,null,\"ui-state-disabled\",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i=\"ui-icon ui-icon-background \";this.options.icon?(this.icon||(this.icon=e(\"<span>\"),this.iconSpace=e(\"<span> </span>\"),this._addClass(this.iconSpace,\"ui-checkboxradio-icon-space\")),\"checkbox\"===this.type?(i+=t?\"ui-icon-check ui-state-checked\":\"ui-icon-blank\",this._removeClass(this.icon,null,t?\"ui-icon-blank\":\"ui-icon-check\")):i+=\"ui-icon-blank\",this._addClass(this.icon,\"ui-checkboxradio-icon\",i),t||this._removeClass(this.icon,null,\"ui-icon-check ui-state-checked\"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);e.ui.checkboxradio;\n/*!\n    * jQuery UI Button 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.widget(\"ui.button\",{version:\"1.12.1\",defaultElement:\"<button>\",options:{classes:{\"ui-button\":\"ui-corner-all\"},disabled:null,icon:null,iconPosition:\"beginning\",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is(\"input\"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr(\"title\"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass(\"ui-button\",\"ui-widget\"),this._setOption(\"disabled\",this.options.disabled),this._enhance(),this.element.is(\"a\")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger(\"click\"))}})},_enhance:function(){this.element.is(\"button\")||this.element.attr(\"role\",\"button\"),this.options.icon&&(this._updateIcon(\"icon\",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr(\"title\"),this.options.showLabel||this.title||this.element.attr(\"title\",this.options.label)},_updateIcon:function(t,i){var n=\"iconPosition\"!==t,s=n?this.options.iconPosition:i,a=\"top\"===s||\"bottom\"===s;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e(\"<span>\"),this._addClass(this.icon,\"ui-button-icon\",\"ui-icon\"),this.options.showLabel||this._addClass(\"ui-button-icon-only\")),n&&this._addClass(this.icon,null,i),this._attachIcon(s),a?(this._addClass(this.icon,null,\"ui-widget-icon-block\"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e(\"<span> </span>\"),this._addClass(this.iconSpace,\"ui-button-icon-space\")),this._removeClass(this.icon,null,\"ui-wiget-icon-block\"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr(\"role\"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr(\"title\")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?\"before\":\"after\"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?\"append\":\"prepend\"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){\"icon\"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),\"iconPosition\"===e&&this._updateIcon(e,t),\"showLabel\"===e&&(this._toggleClass(\"ui-button-icon-only\",null,!t),this._updateTooltip()),\"label\"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),\"disabled\"===e&&(this._toggleClass(null,\"ui-state-disabled\",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is(\"input, button\")?this.element[0].disabled:this.element.hasClass(\"ui-button-disabled\");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget(\"ui.button\",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition=\"end\"),this._super()},_setOption:function(e,t){\"text\"!==e?(\"showLabel\"===e&&(this.options.text=t),\"icon\"===e&&(this.options.icons.primary=t),\"icons\"===e&&(t.primary?(this._super(\"icon\",t.primary),this._super(\"iconPosition\",\"beginning\")):t.secondary&&(this._super(\"icon\",t.secondary),this._super(\"iconPosition\",\"end\"))),this._superApply(arguments)):this._super(\"showLabel\",t)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&\"INPUT\"!==this[0].tagName||this.length&&\"INPUT\"===this[0].tagName&&\"checkbox\"!==this.attr(\"type\")&&\"radio\"!==this.attr(\"type\")?t.apply(this,arguments):(e.ui.checkboxradio||e.error(\"Checkboxradio widget missing\"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error(\"Controlgroup widget missing\"),\"option\"===arguments[0]&&\"items\"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],\"items.button\",arguments[2]]):\"option\"===arguments[0]&&\"items\"===arguments[1]?this.controlgroup.apply(this,[arguments[0],\"items.button\"]):(\"object\"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var p;\n/*!\n    * jQuery UI Datepicker 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\"\"]),this.regional.en=e.extend(!0,{},this.regional[\"\"]),this.regional[\"en-US\"]=e.extend(!0,{},this.regional.en),this.dpDiv=g(e(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function g(t){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return t.on(\"mouseout\",i,(function(){e(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).removeClass(\"ui-datepicker-next-hover\")})).on(\"mouseover\",i,m)}function m(){e.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(e(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),e(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).addClass(\"ui-datepicker-next-hover\"))}function v(t,i){for(var n in e.extend(t,i),i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:\"1.12.1\"}}),e.extend(f.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return v(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,a;s=\"div\"===(n=t.nodeName.toLowerCase())||\"span\"===n,t.id||(this.uuid+=1,t.id=\"dp\"+this.uuid),(a=this._newInst(e(t),s)).settings=e.extend({},i||{}),\"input\"===n?this._connectDatepicker(t,a):s&&this._inlineDatepicker(t,a)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?g(e(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on(\"keydown\",this._doKeyDown).on(\"keypress\",this._doKeyPress).on(\"keyup\",this._doKeyUp),this._autoSize(i),e.data(t,\"datepicker\",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,a,o=this._get(i,\"appendText\"),r=this._get(i,\"isRTL\");i.append&&i.append.remove(),o&&(i.append=e(\"<span class='\"+this._appendClass+\"'>\"+o+\"</span>\"),t[r?\"before\":\"after\"](i.append)),t.off(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),\"focus\"!==(n=this._get(i,\"showOn\"))&&\"both\"!==n||t.on(\"focus\",this._showDatepicker),\"button\"!==n&&\"both\"!==n||(s=this._get(i,\"buttonText\"),a=this._get(i,\"buttonImage\"),i.trigger=e(this._get(i,\"buttonImageOnly\")?e(\"<img/>\").addClass(this._triggerClass).attr({src:a,alt:s,title:s}):e(\"<button type='button'></button>\").addClass(this._triggerClass).html(a?e(\"<img/>\").attr({src:a,alt:s,title:s}):s)),t[r?\"before\":\"after\"](i.trigger),i.trigger.on(\"click\",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,\"autoSize\")&&!e.inline){var t,i,n,s,a=new Date(2009,11,20),o=this._get(e,\"dateFormat\");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},a.setMonth(t(this._get(e,o.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),a.setDate(t(this._get(e,o.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-a.getDay())),e.input.attr(\"size\",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,\"datepicker\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(t,i,n,s,a){var o,r,l,c,d,u=this._dialogInst;return u||(this.uuid+=1,o=\"dp\"+this.uuid,this._dialogInput=e(\"<input type='text' id='\"+o+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.on(\"keydown\",this._doKeyDown),e(\"body\").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],\"datepicker\",u)),v(u.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(r=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+c,l/2-150+d]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],\"datepicker\",u),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,\"datepicker\");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,\"datepicker\"),\"input\"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).off(\"focus\",this._showDatepicker).off(\"keydown\",this._doKeyDown).off(\"keypress\",this._doKeyPress).off(\"keyup\",this._doKeyUp)):\"div\"!==i&&\"span\"!==i||n.removeClass(this.markerClassName).empty(),p===s&&(p=null))},_enableDatepicker:function(t){var i,n,s=e(t),a=e.data(t,\"datepicker\");s.hasClass(this.markerClassName)&&(\"input\"===(i=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter(\"button\").each((function(){this.disabled=!1})).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):\"div\"!==i&&\"span\"!==i||((n=s.children(\".\"+this._inlineClass)).children().removeClass(\"ui-state-disabled\"),n.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var i,n,s=e(t),a=e.data(t,\"datepicker\");s.hasClass(this.markerClassName)&&(\"input\"===(i=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter(\"button\").each((function(){this.disabled=!0})).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):\"div\"!==i&&\"span\"!==i||((n=s.children(\".\"+this._inlineClass)).children().addClass(\"ui-state-disabled\"),n.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,\"datepicker\")}catch(e){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(t,i,n){var s,a,o,r,l=this._getInst(t);if(2===arguments.length&&\"string\"==typeof i)return\"defaults\"===i?e.extend({},e.datepicker._defaults):l?\"all\"===i?e.extend({},l.settings):this._get(l,i):null;s=i||{},\"string\"==typeof i&&((s={})[i]=n),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,\"min\"),r=this._getMinMaxDate(l,\"max\"),v(l.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==r&&void 0!==s.dateFormat&&void 0===s.maxDate&&(l.settings.maxDate=this._formatDate(l,r)),\"disabled\"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(\".ui-datepicker-rtl\");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=e(\"td.\"+e.datepicker._dayOverClass+\":not(.\"+e.datepicker._currentClass+\")\",a.dpDiv))[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,s[0]),(i=e.datepicker._get(a,\"onSelect\"))?(n=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[n,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\"stepBigMonths\"):-e.datepicker._get(a,\"stepMonths\"),\"M\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\"stepBigMonths\"):+e.datepicker._get(a,\"stepMonths\"),\"M\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,\"D\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\"stepBigMonths\"):-e.datepicker._get(a,\"stepMonths\"),\"M\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\"D\"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,\"D\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\"stepBigMonths\"):+e.datepicker._get(a,\"stepMonths\"),\"M\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\"D\"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,\"constrainInput\"))return i=e.datepicker._possibleChars(e.datepicker._get(s,\"dateFormat\")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<\" \"||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,\"dateFormat\"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){var i,n,s,a,o,r,l;(\"input\"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e(\"input\",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(s=(n=e.datepicker._get(i,\"beforeShow\"))?n.apply(t,[t,i]):{})&&(v(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\"\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each((function(){return!(a|=\"fixed\"===e(this).css(\"position\"))})),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\"static\":a?\"fixed\":\"absolute\",display:\"none\",left:o.left+\"px\",top:o.top+\"px\"}),i.inline||(r=e.datepicker._get(i,\"showAnim\"),l=e.datepicker._get(i,\"duration\"),i.dpDiv.css(\"z-index\",function(e){for(var t,i;e.length&&e[0]!==document;){if((\"absolute\"===(t=e.css(\"position\"))||\"relative\"===t||\"fixed\"===t)&&(i=parseInt(e.css(\"zIndex\"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[r]?i.dpDiv.show(r,e.datepicker._get(i,\"showOptions\"),l):i.dpDiv[r||\"show\"](r?l:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger(\"focus\"),e.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4,p=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),s=n[1],a=t.dpDiv.find(\".\"+this._dayOverClass+\" a\");a.length>0&&m.apply(a.get(0)),t.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),s>1&&t.dpDiv.addClass(\"ui-datepicker-multi-\"+s).css(\"width\",17*s+\"em\"),t.dpDiv[(1!==n[0]||1!==n[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),t.dpDiv[(this._get(t,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger(\"focus\"),t.yearshtml&&(i=t.yearshtml,setTimeout((function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(t.yearshtml),i=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\":visible\")&&!e.input.is(\":disabled\")&&!e.input.is(\":focus\")},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,\"isRTL\")?s-o:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+a>c&&c>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,\"isRTL\");t&&(\"hidden\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?\"previousSibling\":\"nextSibling\"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var i,n,s,a,o=this._curInst;!o||t&&o!==e.data(t,\"datepicker\")||this._datepickerShowing&&(i=this._get(o,\"showAnim\"),n=this._get(o,\"duration\"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,\"showOptions\"),n,s):o.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?n:null,s),i||s(),this._datepickerShowing=!1,(a=this._get(o,\"onClose\"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():\"\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),e.blockUI&&(e.unblockUI(),e(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(\".ui-datepicker-calendar\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents(\"#\"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest(\".\"+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),a=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(a,i+(\"M\"===n?this._get(a,\"showCurrentAtPos\"):0),n),this._updateDatepicker(a))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,\"gotoCurrent\")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),a=this._getInst(s[0]);a[\"selected\"+(\"M\"===n?\"Month\":\"Year\")]=a[\"draw\"+(\"M\"===n?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(s)},_selectDay:function(t,i,n,s){var a,o=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=e(\"a\",s).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=n,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\"\")},_selectDate:function(t,i){var n,s=e(t),a=this._getInst(s[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),(n=this._get(a,\"onSelect\"))?n.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger(\"change\"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],\"object\"!=typeof a.input[0]&&a.input.trigger(\"focus\"),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,a=this._get(t,\"altField\");a&&(i=this._get(t,\"altFormat\")||this._get(t,\"dateFormat\"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(a).val(s))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,\"\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw\"Invalid arguments\";if(\"\"===(i=\"object\"==typeof i?i.toString():i+\"\"))return null;var s,a,o,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=\"string\"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,_=-1,b=!1,y=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},w=function(e){var t=y(e),n=\"@\"===e?14:\"!\"===e?20:\"y\"===e&&t?4:\"o\"===e?3:2,s=new RegExp(\"^\\\\d{\"+(\"y\"===e?n:1)+\",\"+n+\"}\"),a=i.substring(l).match(s);if(!a)throw\"Missing number at position \"+l;return l+=a[0].length,parseInt(a[0],10)},x=function(t,n,s){var a=-1,o=e.map(y(t)?s:n,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(o,(function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return a=t[0],l+=n.length,!1})),-1!==a)return a+1;throw\"Unknown name at position \"+l},k=function(){if(i.charAt(l)!==t.charAt(s))throw\"Unexpected literal at position \"+l;l++};for(s=0;s<t.length;s++)if(b)\"'\"!==t.charAt(s)||y(\"'\")?k():b=!1;else switch(t.charAt(s)){case\"d\":v=w(\"d\");break;case\"D\":x(\"D\",u,h);break;case\"o\":_=w(\"o\");break;case\"m\":m=w(\"m\");break;case\"M\":m=x(\"M\",p,f);break;case\"y\":g=w(\"y\");break;case\"@\":g=(r=new Date(w(\"@\"))).getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case\"!\":g=(r=new Date((w(\"!\")-this._ticksTo1970)/1e4)).getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case\"'\":y(\"'\")?k():b=!0;break;default:k()}if(l<i.length&&(o=i.substr(l),!/^\\s+/.test(o)))throw\"Extra/unparsed characters found in date: \"+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=d?0:-100)),_>-1)for(m=1,v=_;;){if(v<=(a=this._getDaysInMonth(g,m-1)))break;m++,v-=a}if((r=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==v)throw\"Invalid date\";return r},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return\"\";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=\"\"+t;if(l(e))for(;n.length<i;)n=\"0\"+n;return n},d=function(e,t,i,n){return l(e)?n[t]:i[t]},u=\"\",h=!1;if(t)for(n=0;n<e.length;n++)if(h)\"'\"!==e.charAt(n)||l(\"'\")?u+=e.charAt(n):h=!1;else switch(e.charAt(n)){case\"d\":u+=c(\"d\",t.getDate(),2);break;case\"D\":u+=d(\"D\",t.getDay(),s,a);break;case\"o\":u+=c(\"o\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":u+=c(\"m\",t.getMonth()+1,2);break;case\"M\":u+=d(\"M\",t.getMonth(),o,r);break;case\"y\":u+=l(\"y\")?t.getFullYear():(t.getFullYear()%100<10?\"0\":\"\")+t.getFullYear()%100;break;case\"@\":u+=t.getTime();break;case\"!\":u+=1e4*t.getTime()+this._ticksTo1970;break;case\"'\":l(\"'\")?u+=\"'\":h=!0;break;default:u+=e.charAt(n)}return u},_possibleChars:function(e){var t,i=\"\",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)\"'\"!==e.charAt(t)||s(\"'\")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":s(\"'\")?i+=\"'\":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\"dateFormat\"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),a=s,o=this._getFormatConfig(e);try{a=this.parseDate(i,n,o)||s}catch(e){n=t?\"\":n}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=n?a.getDate():0,e.currentMonth=n?a.getMonth():0,e.currentYear=n?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\"defaultDate\"),new Date))},_determineDate:function(t,i,n){var s=null==i||\"\"===i?n:\"string\"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\"dateFormat\"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),a=n.getMonth(),o=n.getDate(),r=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||\"d\"){case\"d\":case\"D\":o+=parseInt(l[1],10);break;case\"w\":case\"W\":o+=7*parseInt(l[1],10);break;case\"m\":case\"M\":a+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(s,a));break;case\"y\":case\"Y\":s+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(s,a))}l=r.exec(i)}return new Date(s,a,o)}(i):\"number\"==typeof i?isNaN(i)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return(s=s&&\"Invalid Date\"===s.toString()?n:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),s===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?\"\":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&\"\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,\"stepMonths\"),n=\"#\"+t.id.replace(/\\\\\\\\/g,\"\\\\\");t.dpDiv.find(\"[data-handler]\").map((function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,\"M\")},next:function(){e.datepicker._adjustDate(n,+i,\"M\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,\"M\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,\"Y\"),!1}};e(this).on(this.getAttribute(\"data-event\"),t[this.getAttribute(\"data-handler\")])}))},_generateHTML:function(e){var t,i,n,s,a,o,r,l,c,d,u,h,p,f,g,m,v,_,b,y,w,x,k,C,T,S,D,P,I,M,A,E,z,O,H,j,N,L,R,W=new Date,q=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),F=this._get(e,\"isRTL\"),B=this._get(e,\"showButtonPanel\"),$=this._get(e,\"hideIfNoPrevNext\"),U=this._get(e,\"navigationAsDateFormat\"),Y=this._getNumberOfMonths(e),V=this._get(e,\"showCurrentAtPos\"),Q=this._get(e,\"stepMonths\"),K=1!==Y[0]||1!==Y[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,\"min\"),J=this._getMinMaxDate(e,\"max\"),Z=e.drawMonth-V,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),t=G&&t<G?G:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,\"prevText\"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-Q,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(F?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":$?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(F?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",s=this._get(e,\"nextText\"),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,Z+Q,1)),this._getFormatConfig(e)):s,a=this._canAdjustMonth(e,1,ee,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(F?\"w\":\"e\")+\"'>\"+s+\"</span></a>\":$?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+s+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(F?\"w\":\"e\")+\"'>\"+s+\"</span></a>\",o=this._get(e,\"currentText\"),r=this._get(e,\"gotoCurrent\")&&e.currentDay?X:q,o=U?this.formatDate(o,r,this._getFormatConfig(e)):o,l=e.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(e,\"closeText\")+\"</button>\",c=B?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(F?l:\"\")+(this._isInRange(e,r)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+o+\"</button>\":\"\")+(F?\"\":l)+\"</div>\":\"\",d=parseInt(this._get(e,\"firstDay\"),10),d=isNaN(d)?0:d,u=this._get(e,\"showWeek\"),h=this._get(e,\"dayNames\"),p=this._get(e,\"dayNamesMin\"),f=this._get(e,\"monthNames\"),g=this._get(e,\"monthNamesShort\"),m=this._get(e,\"beforeShowDay\"),v=this._get(e,\"showOtherMonths\"),_=this._get(e,\"selectOtherMonths\"),b=this._getDefaultDate(e),y=\"\",x=0;x<Y[0];x++){for(k=\"\",this.maxRows=4,C=0;C<Y[1];C++){if(T=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),S=\" ui-corner-all\",D=\"\",K){if(D+=\"<div class='ui-datepicker-group\",Y[1]>1)switch(C){case 0:D+=\" ui-datepicker-group-first\",S=\" ui-corner-\"+(F?\"right\":\"left\");break;case Y[1]-1:D+=\" ui-datepicker-group-last\",S=\" ui-corner-\"+(F?\"left\":\"right\");break;default:D+=\" ui-datepicker-group-middle\",S=\"\"}D+=\"'>\"}for(D+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+S+\"'>\"+(/all|left/.test(S)&&0===x?F?a:n:\"\")+(/all|right/.test(S)&&0===x?F?n:a:\"\")+this._generateMonthYearHeader(e,Z,ee,G,J,x>0||C>0,f,g)+\"</div><table class='ui-datepicker-calendar'><thead><tr>\",P=u?\"<th class='ui-datepicker-week-col'>\"+this._get(e,\"weekHeader\")+\"</th>\":\"\",w=0;w<7;w++)P+=\"<th scope='col'\"+((w+d+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\"><span title='\"+h[I=(w+d)%7]+\"'>\"+p[I]+\"</span></th>\";for(D+=P+\"</tr></thead><tbody>\",M=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),A=(this._getFirstDayOfMonth(ee,Z)-d+7)%7,E=Math.ceil((A+M)/7),z=K&&this.maxRows>E?this.maxRows:E,this.maxRows=z,O=this._daylightSavingAdjust(new Date(ee,Z,1-A)),H=0;H<z;H++){for(D+=\"<tr>\",j=u?\"<td class='ui-datepicker-week-col'>\"+this._get(e,\"calculateWeek\")(O)+\"</td>\":\"\",w=0;w<7;w++)N=m?m.apply(e.input?e.input[0]:null,[O]):[!0,\"\"],R=(L=O.getMonth()!==Z)&&!_||!N[0]||G&&O<G||J&&O>J,j+=\"<td class='\"+((w+d+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(L?\" ui-datepicker-other-month\":\"\")+(O.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===O.getTime()&&b.getTime()===T.getTime()?\" \"+this._dayOverClass:\"\")+(R?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(L&&!v?\"\":\" \"+N[1]+(O.getTime()===X.getTime()?\" \"+this._currentClass:\"\")+(O.getTime()===q.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(L&&!v||!N[2]?\"\":\" title='\"+N[2].replace(/'/g,\"&#39;\")+\"'\")+(R?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+O.getMonth()+\"' data-year='\"+O.getFullYear()+\"'\")+\">\"+(L&&!v?\"&#xa0;\":R?\"<span class='ui-state-default'>\"+O.getDate()+\"</span>\":\"<a class='ui-state-default\"+(O.getTime()===q.getTime()?\" ui-state-highlight\":\"\")+(O.getTime()===X.getTime()?\" ui-state-active\":\"\")+(L?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+O.getDate()+\"</a>\")+\"</td>\",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);D+=j+\"</tr>\"}++Z>11&&(Z=0,ee++),k+=D+=\"</tbody></table>\"+(K?\"</div>\"+(Y[0]>0&&C===Y[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\")}y+=k}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,s,a,o,r){var l,c,d,u,h,p,f,g,m=this._get(e,\"changeMonth\"),v=this._get(e,\"changeYear\"),_=this._get(e,\"showMonthAfterYear\"),b=\"<div class='ui-datepicker-title'>\",y=\"\";if(a||!m)y+=\"<span class='ui-datepicker-month'>\"+o[t]+\"</span>\";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,y+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",d=0;d<12;d++)(!l||d>=n.getMonth())&&(!c||d<=s.getMonth())&&(y+=\"<option value='\"+d+\"'\"+(d===t?\" selected='selected'\":\"\")+\">\"+r[d]+\"</option>\");y+=\"</select>\"}if(_||(b+=y+(!a&&m&&v?\"\":\"&#xa0;\")),!e.yearshtml)if(e.yearshtml=\"\",a||!v)b+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(u=this._get(e,\"yearRange\").split(\":\"),h=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(u[0]),g=Math.max(f,p(u[1]||\"\")),f=n?Math.max(f,n.getFullYear()):f,g=s?Math.min(g,s.getFullYear()):g,e.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";f<=g;f++)e.yearshtml+=\"<option value='\"+f+\"'\"+(f===i?\" selected='selected'\":\"\")+\">\"+f+\"</option>\";e.yearshtml+=\"</select>\",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,\"yearSuffix\"),_&&(b+=(!a&&m&&v?\"\":\"&#xa0;\")+y),b+=\"</div>\"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+(\"Y\"===i?t:0),s=e.selectedMonth+(\"M\"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+(\"D\"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),\"M\"!==i&&\"Y\"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\"min\"),n=this._getMinMaxDate(e,\"max\"),s=i&&t<i?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,\"onChangeMonthYear\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\"numberOfMonths\");return null==t?[1,1]:\"number\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\"Date\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,\"min\"),a=this._getMinMaxDate(e,\"max\"),o=null,r=null,l=this._get(e,\"yearRange\");return l&&(i=l.split(\":\"),n=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(o+=n),i[1].match(/[+\\-].*/)&&(r+=n)),(!s||t.getTime()>=s.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,\"shortYearCutoff\");return{shortYearCutoff:t=\"string\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,\"dayNamesShort\"),dayNames:this._get(e,\"dayNames\"),monthNamesShort:this._get(e,\"monthNamesShort\"),monthNames:this._get(e,\"monthNames\")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?\"object\"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\"dateFormat\"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on(\"mousedown\",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\"#\"+e.datepicker._mainDivId).length&&e(\"body\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof t||\"isDisabled\"!==t&&\"getDate\"!==t&&\"widget\"!==t?\"option\"===t&&2===arguments.length&&\"string\"==typeof arguments[1]?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i)):this.each((function(){\"string\"==typeof t?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)})):e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new f,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\"1.12.1\";e.datepicker,e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;e(document).on(\"mouseup\",(function(){_=!1}));e.widget(\"ui.mouse\",{version:\"1.12.1\",options:{cancel:\"input, textarea, button, select, option\",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on(\"mousedown.\"+this.widgetName,(function(e){return t._mouseDown(e)})).on(\"click.\"+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+\".preventClickEvent\"))return e.removeData(i.target,t.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off(\".\"+this.widgetName),this._mouseMoveDelegate&&this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,s=!(\"string\"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+\".preventClickEvent\")&&e.removeData(t.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).on(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),t.preventDefault(),_=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i,n){var s,a=e.plugins[t];if(a&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<a.length;s++)e.options[a[s][0]]&&a[s][1].apply(e.element,i)}},e.ui.safeBlur=function(t){t&&\"body\"!==t.nodeName.toLowerCase()&&e(t).trigger(\"blur\")};\n/*!\n    * jQuery UI Draggable 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\ne.widget(\"ui.draggable\",e.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass(\"ui-draggable\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),\"handle\"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(\".ui-draggable-dragging\")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(\".ui-resizable-handle\").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?\"iframe\":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e(\"<div>\").css(\"position\",\"absolute\").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,\"ui-draggable-dragging\"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return\"fixed\"===e(this).css(\"position\")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger(\"start\",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var n=this._uiHash();if(!1===this._trigger(\"drag\",t,n))return this._mouseUp(new e.Event(\"mouseup\",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+\"px\",this.helper[0].style.top=this.position.top+\"px\",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),\"invalid\"===this.options.revert&&!n||\"valid\"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger(\"stop\",t)&&i._clear()})):!1!==this._trigger(\"stop\",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger(\"focus\"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp(new e.Event(\"mouseup\",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,\"ui-draggable-handle\")},_removeHandleClassName:function(){this._removeClass(this.handleElement,\"ui-draggable-handle\")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),s=n?e(i.helper.apply(this.element[0],[t])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return s.parents(\"body\").length||s.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css(\"position\"))||s.css(\"position\",\"absolute\"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\")},_adjustOffsetFromHelper:function(t){\"string\"==typeof t&&(t=t.split(\" \")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\"left\"in t&&(this.offset.click.left=t.left+this.margins.left),\"right\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\"top\"in t&&(this.offset.click.top=t.top+this.margins.top),\"bottom\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css(\"top\"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css(\"left\"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options,a=this.document[0];this.relativeContainer=null,s.containment?\"window\"!==s.containment?\"document\"!==s.containment?s.containment.constructor!==Array?(\"parent\"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=e(s.containment))[0])&&(t=/(scroll|auto)/.test(i.css(\"overflow\")),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=s.containment:this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i=\"absolute\"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,s,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),\"y\"===o.axis&&(l=this.originalPageX),\"x\"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo(\"absolute\"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(t,i,n){var s=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each((function(){var i=e(this).sortable(\"instance\");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger(\"activate\",t,s))}))},stop:function(t,i,n){var s=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,(function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css(\"position\"),top:e.placeholder.css(\"top\"),left:e.placeholder.css(\"left\")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger(\"deactivate\",t,s))}))},drag:function(t,i,n){e.each(n.sortables,(function(){var s=!1,a=this;a.positionAbs=n.positionAbs,a.helperProportions=n.helperProportions,a.offset.click=n.offset.click,a._intersectsWith(a.containerCache)&&(s=!0,e.each(n.sortables,(function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(s=!1),s}))),s?(a.isOver||(a.isOver=1,n._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data(\"ui-sortable-item\",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=n.offset.click.top,a.offset.click.left=n.offset.click.left,a.offset.parent.left-=n.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=n.offset.parent.top-a.offset.parent.top,n._trigger(\"toSortable\",t),n.dropped=a.element,e.each(n.sortables,(function(){this.refreshPositions()})),n.currentItem=n.element,a.fromOutside=n),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger(\"out\",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger(\"fromSortable\",t),n.dropped=!1,e.each(n.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add(\"draggable\",\"cursor\",{start:function(t,i,n){var s=e(\"body\"),a=n.options;s.css(\"cursor\")&&(a._cursor=s.css(\"cursor\")),s.css(\"cursor\",a.cursor)},stop:function(t,i,n){var s=n.options;s._cursor&&e(\"body\").css(\"cursor\",s._cursor)}}),e.ui.plugin.add(\"draggable\",\"opacity\",{start:function(t,i,n){var s=e(i.helper),a=n.options;s.css(\"opacity\")&&(a._opacity=s.css(\"opacity\")),s.css(\"opacity\",a.opacity)},stop:function(t,i,n){var s=n.options;s._opacity&&e(i.helper).css(\"opacity\",s._opacity)}}),e.ui.plugin.add(\"draggable\",\"scroll\",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\"HTML\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var s=n.options,a=!1,o=n.scrollParentNotHidden[0],r=n.document[0];o!==r&&\"HTML\"!==o.tagName?(s.axis&&\"x\"===s.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=a=o.scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-s.scrollSpeed)),s.axis&&\"y\"===s.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-s.scrollSpeed))):(s.axis&&\"x\"===s.axis||(t.pageY-e(r).scrollTop()<s.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<s.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+s.scrollSpeed))),s.axis&&\"y\"===s.axis||(t.pageX-e(r).scrollLeft()<s.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<s.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+s.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add(\"draggable\",\"snap\",{start:function(t,i,n){var s=n.options;n.snapElements=[],e(s.snap.constructor!==String?s.snap.items||\":data(ui-draggable)\":s.snap).each((function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,i,n){var s,a,o,r,l,c,d,u,h,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,_=i.offset.top,b=_+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)c=(l=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,u=(d=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,v<l-g||m>c+g||b<d-g||_>u+g||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):(\"inner\"!==f.snapMode&&(s=Math.abs(d-b)<=g,a=Math.abs(u-_)<=g,o=Math.abs(l-v)<=g,r=Math.abs(c-m)<=g,s&&(i.position.top=n._convertPositionTo(\"relative\",{top:d-n.helperProportions.height,left:0}).top),a&&(i.position.top=n._convertPositionTo(\"relative\",{top:u,left:0}).top),o&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:l-n.helperProportions.width}).left),r&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:c}).left)),p=s||a||o||r,\"outer\"!==f.snapMode&&(s=Math.abs(d-_)<=g,a=Math.abs(u-b)<=g,o=Math.abs(l-m)<=g,r=Math.abs(c-v)<=g,s&&(i.position.top=n._convertPositionTo(\"relative\",{top:d,left:0}).top),a&&(i.position.top=n._convertPositionTo(\"relative\",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:l}).left),r&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(s||a||o||r||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=s||a||o||r||p)}}),e.ui.plugin.add(\"draggable\",\"stack\",{start:function(t,i,n){var s,a=n.options,o=e.makeArray(e(a.stack)).sort((function(t,i){return(parseInt(e(t).css(\"zIndex\"),10)||0)-(parseInt(e(i).css(\"zIndex\"),10)||0)}));o.length&&(s=parseInt(e(o[0]).css(\"zIndex\"),10)||0,e(o).each((function(t){e(this).css(\"zIndex\",s+t)})),this.css(\"zIndex\",s+o.length))}}),e.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(t,i,n){var s=e(i.helper),a=n.options;s.css(\"zIndex\")&&(a._zIndex=s.css(\"zIndex\")),s.css(\"zIndex\",a.zIndex)},stop:function(t,i,n){var s=n.options;s._zIndex&&e(i.helper).css(\"zIndex\",s._zIndex)}});e.ui.draggable;\n/*!\n    * jQuery UI Resizable 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.widget(\"ui.resizable\",e.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,classes:{\"ui-resizable-se\":\"ui-icon ui-icon-gripsmall-diagonal-se\"},containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if(\"hidden\"===e(t).css(\"overflow\"))return!1;var n,s=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\";return t[s]>0||(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i=this.options,n=this;this._addClass(\"ui-resizable\"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\"),marginLeft:this.originalElement.css(\"marginLeft\")},this.element.css(t),this.originalElement.css(\"margin\",0),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on(\"mouseenter\",(function(){i.disabled||(n._removeClass(\"ui-resizable-autohide\"),n._handles.show())})).on(\"mouseleave\",(function(){i.disabled||n.resizing||(n._addClass(\"ui-resizable-autohide\"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData(\"resizable\").removeData(\"ui-resizable\").off(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css(\"position\"),width:t.outerWidth(),height:t.outerHeight(),top:t.css(\"top\"),left:t.css(\"left\")}).insertAfter(t),t.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case\"handles\":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,n,s,a,o=this.options,r=this;if(this.handles=o.handles||(e(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this._handles=e(),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),n=this.handles.split(\",\"),this.handles={},i=0;i<n.length;i++)s=\"ui-resizable-\"+(t=e.trim(n[i])),a=e(\"<div>\"),this._addClass(a,\"ui-resizable-handle \"+s),a.css({zIndex:o.zIndex}),this.handles[t]=\".ui-resizable-\"+t,this.element.append(a);this._renderAxis=function(t){var i,n,s,a;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),t.css(s,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(\".ui-resizable-handle\")),this._handles.disableSelection(),this._handles.on(\"mouseover\",(function(){r.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=a&&a[1]?a[1]:\"se\")})),o.autoHide&&(this._handles.hide(),this._addClass(\"ui-resizable-autohide\"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var i,n,s,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\"left\")),n=this._num(this.helper.css(\"top\")),a.containment&&(i+=e(a.containment).scrollLeft()||0,n+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=\"number\"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(\".ui-resizable-\"+this.axis).css(\"cursor\"),e(\"body\").css(\"cursor\",\"auto\"===s?this.axis+\"-resize\":s),this._addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",t),!0},_mouseDrag:function(t){var i,n,s=this.originalMousePosition,a=this.axis,o=t.pageX-s.left||0,r=t.pageY-s.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate(\"resize\",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger(\"resize\",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,s,a,o,r,l,c=this.options,d=this;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],\"left\")?0:d.sizeDiff.height,a=n?0:d.sizeDiff.width,o={width:d.helper.width()-a,height:d.helper.height()-s},r=parseFloat(d.element.css(\"left\"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css(\"top\"))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:r})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e(\"body\").css(\"cursor\",\"auto\"),this._removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+\"px\"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+\"px\"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+\"px\"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+\"px\"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,s,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),s<a.maxHeight&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),\"sw\"===n&&(e.left=t.left+(i.width-e.width),e.top=null),\"nw\"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&c&&(e.left=r-t.minWidth),n&&c&&(e.left=r-t.maxWidth),o&&d&&(e.top=l-t.minHeight),s&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css(\"borderTopWidth\"),e.css(\"borderRightWidth\"),e.css(\"borderBottomWidth\"),e.css(\"borderLeftWidth\")],s=[e.css(\"paddingTop\"),e.css(\"paddingRight\"),e.css(\"paddingBottom\"),e.css(\"paddingLeft\")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(s[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e(\"<div style='overflow:hidden;'></div>\"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),\"resize\"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add(\"resizable\",\"animate\",{stop:function(t){var i=e(this).resizable(\"instance\"),n=i.options,s=i._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),o=a&&i._hasScroll(s[0],\"left\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},c=parseFloat(i.element.css(\"left\"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css(\"top\"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css(\"width\")),height:parseFloat(i.element.css(\"height\")),top:parseFloat(i.element.css(\"top\")),left:parseFloat(i.element.css(\"left\"))};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate(\"resize\",t)}})}}),e.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var t,i,n,s,a,o,r,l=e(this).resizable(\"instance\"),c=l.options,d=l.element,u=c.containment,h=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each((function(e,n){i[e]=l._num(t.css(\"padding\"+n))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(h,\"left\")?h.scrollWidth:a,r=l._hasScroll(h)?h.scrollHeight:s,l.parentData={element:h,left:n.left,top:n.top,width:o,height:r}))},resize:function(t){var i,n,s,a,o=e(this).resizable(\"instance\"),r=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||t.shiftKey,u={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css(\"position\"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),d&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\"position\")),s&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,d&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable(\"instance\"),i=t.options,n=t.containerOffset,s=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css(\"position\"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css(\"position\"))&&e(this).css({left:r.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var t=e(this).resizable(\"instance\").options;e(t.alsoResize).each((function(){var t=e(this);t.data(\"ui-resizable-alsoresize\",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css(\"left\")),top:parseFloat(t.css(\"top\"))})}))},resize:function(t,i){var n=e(this).resizable(\"instance\"),s=n.options,a=n.originalSize,o=n.originalPosition,r={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(s.alsoResize).each((function(){var t=e(this),n=e(this).data(\"ui-resizable-alsoresize\"),s={},a=t.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];e.each(a,(function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(s[t]=i||null)})),t.css(s)}))},stop:function(){e(this).removeData(\"ui-resizable-alsoresize\")}}),e.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var t=e(this).resizable(\"instance\"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,\"ui-resizable-ghost\"),!1!==e.uiBackCompat&&\"string\"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable(\"instance\");t.ghost&&t.ghost.css({position:\"relative\",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable(\"instance\");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var t,i=e(this).resizable(\"instance\"),n=i.options,s=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,l=\"number\"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((s.width-a.width)/c)*c,h=Math.round((s.height-a.height)/d)*d,p=a.width+u,f=a.height+h,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,_=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),_&&(f+=d),g&&(p-=c),m&&(f-=d),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-h):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-u):((f-d<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=o.top-h):(f=d-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-u):(p=c-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}});e.ui.resizable;\n/*!\n    * jQuery UI Dialog 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.widget(\"ui.dialog\",{version:\"1.12.1\",options:{appendTo:\"body\",autoOpen:!0,buttons:[],classes:{\"ui-dialog\":\"ui-corner-all\",\"ui-dialog-titlebar\":\"ui-corner-all\"},closeOnEscape:!0,closeText:\"Close\",draggable:!0,hide:null,height:\"auto\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:\"center\",at:\"center\",of:window,collision:\"fit\",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css(\"top\",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(\"title\"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr(\"title\").appendTo(this.uiDialog),this._addClass(\"ui-dialog-content\",\"ui-widget-content\"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||\"body\").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr(\"title\",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger(\"beforeClose\",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(\":focusable\").trigger(\"focus\").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger(\"close\",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,s=this.uiDialog.siblings(\".ui-front:visible\").map((function(){return+e(this).css(\"z-index\")})).get(),a=Math.max.apply(null,s);return a>=+this.uiDialog.css(\"z-index\")&&(this.uiDialog.css(\"z-index\",a+1),n=!0),n&&!i&&this._trigger(\"focus\",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css(\"z-index\",this.uiDialog.css(\"z-index\")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger(\"focus\")})),this._makeFocusTarget(),this._trigger(\"open\"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find(\"[autofocus]\")),e.length||(e=this.element.find(\":tabbable\")),e.length||(e=this.uiDialogButtonPane.find(\":tabbable\")),e.length||(e=this.uiDialogTitlebarClose.filter(\":tabbable\")),e.length||(e=this.uiDialog),e.eq(0).trigger(\"focus\")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e(\"<div>\").hide().attr({tabIndex:-1,role:\"dialog\"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,\"ui-dialog\",\"ui-widget ui-widget-content ui-front\"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(\":tabbable\"),n=i.filter(\":first\"),s=i.filter(\":last\");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){s.trigger(\"focus\")})),t.preventDefault()):(this._delay((function(){n.trigger(\"focus\")})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find(\"[aria-describedby]\").length||this.uiDialog.attr({\"aria-describedby\":this.element.uniqueId().attr(\"id\")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e(\"<div>\"),this._addClass(this.uiDialogTitlebar,\"ui-dialog-titlebar\",\"ui-widget-header ui-helper-clearfix\"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(\".ui-dialog-titlebar-close\")||this.uiDialog.trigger(\"focus\")}}),this.uiDialogTitlebarClose=e(\"<button type='button'></button>\").button({label:e(\"<a>\").text(this.options.closeText).html(),icon:\"ui-icon-closethick\",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,\"ui-dialog-titlebar-close\"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e(\"<span>\").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,\"ui-dialog-title\"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({\"aria-labelledby\":t.attr(\"id\")})},_title:function(e){this.options.title?e.text(this.options.title):e.html(\"&#160;\")},_createButtonPane:function(){this.uiDialogButtonPane=e(\"<div>\"),this._addClass(this.uiDialogButtonPane,\"ui-dialog-buttonpane\",\"ui-widget-content ui-helper-clearfix\"),this.uiButtonSet=e(\"<div>\").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,\"ui-dialog-buttonset\"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this._removeClass(this.uiDialog,\"ui-dialog-buttons\"):(e.each(i,(function(i,n){var s,a;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:\"button\"},n),s=n.click,a={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,\"boolean\"==typeof n.text&&delete n.text,e(\"<button></button>\",n).button(a).appendTo(t.uiButtonSet).on(\"click\",(function(){s.apply(t.element[0],arguments)}))})),this._addClass(this.uiDialog,\"ui-dialog-buttons\"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:\".ui-dialog-content, .ui-dialog-titlebar-close\",handle:\".ui-dialog-titlebar\",containment:\"document\",start:function(i,s){t._addClass(e(this),\"ui-dialog-dragging\"),t._blockFrames(),t._trigger(\"dragStart\",i,n(s))},drag:function(e,i){t._trigger(\"drag\",e,n(i))},stop:function(s,a){var o=a.offset.left-t.document.scrollLeft(),r=a.offset.top-t.document.scrollTop();i.position={my:\"left top\",at:\"left\"+(o>=0?\"+\":\"\")+o+\" top\"+(r>=0?\"+\":\"\")+r,of:t.window},t._removeClass(e(this),\"ui-dialog-dragging\"),t._unblockFrames(),t._trigger(\"dragStop\",s,n(a))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,s=this.uiDialog.css(\"position\"),a=\"string\"==typeof n?n:\"n,e,s,w,se,sw,ne,nw\";function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:\".ui-dialog-content\",containment:\"document\",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,n){t._addClass(e(this),\"ui-dialog-resizing\"),t._blockFrames(),t._trigger(\"resizeStart\",i,o(n))},resize:function(e,i){t._trigger(\"resize\",e,o(i))},stop:function(n,s){var a=t.uiDialog.offset(),r=a.left-t.document.scrollLeft(),l=a.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:\"left top\",at:\"left\"+(r>=0?\"+\":\"\")+r+\" top\"+(l>=0?\"+\":\"\")+l,of:t.window},t._removeClass(e(this),\"ui-dialog-resizing\"),t._unblockFrames(),t._trigger(\"resizeStop\",n,o(s))}}).css(\"position\",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data(\"ui-dialog-instances\");return e||(e=[],this.document.data(\"ui-dialog-instances\",e)),e},_minHeight:function(){var e=this.options;return\"auto\"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(\":visible\");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,s={};e.each(t,(function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(s[e]=t)})),n&&(this._size(),this._position()),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",s)},_setOption:function(t,i){var n,s,a=this.uiDialog;\"disabled\"!==t&&(this._super(t,i),\"appendTo\"===t&&this.uiDialog.appendTo(this._appendTo()),\"buttons\"===t&&this._createButtons(),\"closeText\"===t&&this.uiDialogTitlebarClose.button({label:e(\"<a>\").text(\"\"+this.options.closeText).html()}),\"draggable\"===t&&((n=a.is(\":data(ui-draggable)\"))&&!i&&a.draggable(\"destroy\"),!n&&i&&this._makeDraggable()),\"position\"===t&&this._position(),\"resizable\"===t&&((s=a.is(\":data(ui-resizable)\"))&&!i&&a.resizable(\"destroy\"),s&&\"string\"==typeof i&&a.resizable(\"option\",\"handles\",i),s||!1===i||this._makeResizable()),\"title\"===t&&this._title(this.uiDialogTitlebar.find(\".ui-dialog-title\")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:\"auto\",minHeight:0,maxHeight:\"none\",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:\"auto\",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i=\"number\"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):\"none\",\"auto\"===n.height?this.element.css({minHeight:t,maxHeight:i,height:\"auto\"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(\":data(ui-resizable)\")&&this.uiDialog.resizable(\"option\",\"minHeight\",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(\"iframe\").map((function(){var t=e(this);return e(\"<div>\").css({position:\"absolute\",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(\".ui-dialog\").length||!!e(t.target).closest(\".ui-datepicker\").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data(\"ui-dialog-overlays\")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e(\"<div>\").appendTo(this._appendTo()),this._addClass(this.overlay,null,\"ui-widget-overlay ui-front\"),this._on(this.overlay,{mousedown:\"_keepFocus\"}),this.document.data(\"ui-dialog-overlays\",(this.document.data(\"ui-dialog-overlays\")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data(\"ui-dialog-overlays\")-1;e?this.document.data(\"ui-dialog-overlays\",e):(this._off(this.document,\"focusin\"),this.document.removeData(\"ui-dialog-overlays\")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget(\"ui.dialog\",e.ui.dialog,{options:{dialogClass:\"\"},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){\"dialogClass\"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});e.ui.dialog;\n/*!\n    * jQuery UI Droppable 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.widget(\"ui.droppable\",{version:\"1.12.1\",widgetEventPrefix:\"drop\",options:{accept:\"*\",addClasses:!0,greedy:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass(\"ui-droppable\")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if(\"accept\"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if(\"scope\"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger(\"activate\",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger(\"deactivate\",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger(\"over\",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger(\"out\",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each((function(){var i=e(this).droppable(\"instance\");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&b(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return s=!0,!1})),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger(\"drop\",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass(\"ui-droppable-hover\")},_removeHoverClass:function(){this._removeClass(\"ui-droppable-hover\")},_addActiveClass:function(){this._addClass(\"ui-droppable-active\")},_removeActiveClass:function(){this._removeClass(\"ui-droppable-active\")}});var b=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,s){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,l=o+t.helperProportions.height,c=i.offset.left,d=i.offset.top,u=c+i.proportions().width,h=d+i.proportions().height;switch(n){case\"fit\":return c<=a&&r<=u&&d<=o&&l<=h;case\"intersect\":return c<a+t.helperProportions.width/2&&r-t.helperProportions.width/2<u&&d<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case\"pointer\":return e(s.pageY,d,i.proportions().height)&&e(s.pageX,c,i.proportions().width);case\"touch\":return(o>=d&&o<=h||l>=d&&l<=h||o<d&&l>h)&&(a>=c&&a<=u||r>=c&&r<=u||a<c&&r>u);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,s,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(\":data(ui-droppable)\").addBack();e:for(n=0;n<a.length;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(s=0;s<r.length;s++)if(r[s]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible=\"none\"!==a[n].element.css(\"display\"),a[n].visible&&(\"mousedown\"===o&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&b(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),n},dragStart:function(t,i){t.element.parentsUntil(\"body\").on(\"scroll.droppable\",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,a,o=b(t,this,this.options.tolerance,i),r=!o&&this.isover?\"isout\":o&&!this.isover?\"isover\":null;r&&(this.options.greedy&&(s=this.options.scope,(a=this.element.parents(\":data(ui-droppable)\").filter((function(){return e(this).droppable(\"instance\").options.scope===s}))).length&&((n=e(a[0]).droppable(\"instance\")).greedyChild=\"isover\"===r)),n&&\"isover\"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this[\"isout\"===r?\"isover\":\"isout\"]=!1,this[\"isover\"===r?\"_over\":\"_out\"].call(this,i),n&&\"isout\"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}}))},dragStop:function(t,i){t.element.parentsUntil(\"body\").off(\"scroll.droppable\"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget(\"ui.droppable\",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable,e.widget(\"ui.progressbar\",{version:\"1.12.1\",options:{classes:{\"ui-progressbar\":\"ui-corner-all\",\"ui-progressbar-value\":\"ui-corner-left\",\"ui-progressbar-complete\":\"ui-corner-right\"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:\"progressbar\",\"aria-valuemin\":this.min}),this._addClass(\"ui-progressbar\",\"ui-widget ui-widget-content\"),this.valueDiv=e(\"<div>\").appendTo(this.element),this._addClass(this.valueDiv,\"ui-progressbar-value\",\"ui-widget-header\"),this._refreshValue()},_destroy:function(){this.element.removeAttr(\"role aria-valuemin aria-valuemax aria-valuenow\"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,\"number\"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){\"max\"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr(\"aria-disabled\",e),this._toggleClass(null,\"ui-state-disabled\",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+\"%\"),this._toggleClass(this.valueDiv,\"ui-progressbar-complete\",null,t===this.options.max)._toggleClass(\"ui-progressbar-indeterminate\",null,this.indeterminate),this.indeterminate?(this.element.removeAttr(\"aria-valuenow\"),this.overlayDiv||(this.overlayDiv=e(\"<div>\").appendTo(this.valueDiv),this._addClass(this.overlayDiv,\"ui-progressbar-overlay\"))):(this.element.attr({\"aria-valuemax\":this.options.max,\"aria-valuenow\":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger(\"change\")),t===this.options.max&&this._trigger(\"complete\")}}),e.widget(\"ui.selectable\",e.ui.mouse,{version:\"1.12.1\",options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass(\"ui-selectable\"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,\"ui-selectee\"),t.selectees.each((function(){var i=e(this),n=i.offset(),s={left:n.left-t.elementPos.left,top:n.top-t.elementPos.top};e.data(this,\"selectable-item\",{element:this,$element:i,left:s.left,top:s.top,right:s.left+i.outerWidth(),bottom:s.top+i.outerHeight(),startselected:!1,selected:i.hasClass(\"ui-selected\"),selecting:i.hasClass(\"ui-selecting\"),unselecting:i.hasClass(\"ui-unselecting\")})}))},this.refresh(),this._mouseInit(),this.helper=e(\"<div>\"),this._addClass(this.helper,\"ui-selectable-helper\")},_destroy:function(){this.selectees.removeData(\"selectable-item\"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger(\"start\",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each((function(){var n=e.data(this,\"selectable-item\");n.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(n.$element,\"ui-selected\"),n.selected=!1,i._addClass(n.$element,\"ui-unselecting\"),n.unselecting=!0,i._trigger(\"unselecting\",t,{unselecting:n.element}))})),e(t.target).parents().addBack().each((function(){var n,s=e.data(this,\"selectable-item\");if(s)return n=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass(\"ui-selected\"),i._removeClass(s.$element,n?\"ui-unselecting\":\"ui-selected\")._addClass(s.$element,n?\"ui-selecting\":\"ui-unselecting\"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger(\"selecting\",t,{selecting:s.element}):i._trigger(\"unselecting\",t,{unselecting:s.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,l=t.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each((function(){var i=e.data(this,\"selectable-item\"),c=!1,d={};i&&i.element!==n.element[0]&&(d.left=i.left+n.elementPos.left,d.right=i.right+n.elementPos.left,d.top=i.top+n.elementPos.top,d.bottom=i.bottom+n.elementPos.top,\"touch\"===s.tolerance?c=!(d.left>r||d.right<a||d.top>l||d.bottom<o):\"fit\"===s.tolerance&&(c=d.left>a&&d.right<r&&d.top>o&&d.bottom<l),c?(i.selected&&(n._removeClass(i.$element,\"ui-selected\"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,\"ui-unselecting\"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,\"ui-selecting\"),i.selecting=!0,n._trigger(\"selecting\",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(n._removeClass(i.$element,\"ui-selecting\"),i.selecting=!1,n._addClass(i.$element,\"ui-selected\"),i.selected=!0):(n._removeClass(i.$element,\"ui-selecting\"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,\"ui-unselecting\"),i.unselecting=!0),n._trigger(\"unselecting\",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(n._removeClass(i.$element,\"ui-selected\"),i.selected=!1,n._addClass(i.$element,\"ui-unselecting\"),i.unselecting=!0,n._trigger(\"unselecting\",t,{unselecting:i.element})))))})),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(\".ui-unselecting\",this.element[0]).each((function(){var n=e.data(this,\"selectable-item\");i._removeClass(n.$element,\"ui-unselecting\"),n.unselecting=!1,n.startselected=!1,i._trigger(\"unselected\",t,{unselected:n.element})})),e(\".ui-selecting\",this.element[0]).each((function(){var n=e.data(this,\"selectable-item\");i._removeClass(n.$element,\"ui-selecting\")._addClass(n.$element,\"ui-selected\"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger(\"selected\",t,{selected:n.element})})),this._trigger(\"stop\",t),this.helper.remove(),!1}}),e.widget(\"ui.selectmenu\",[e.ui.formResetMixin,{version:\"1.12.1\",defaultElement:\"<select>\",options:{appendTo:null,classes:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"},disabled:null,icons:{button:\"ui-icon-triangle-1-s\"},position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr(\"id\");this.ids={element:t,button:t+\"-button\",menu:t+\"-menu\"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,i=this,n=this._parseOption(this.element.find(\"option:selected\"),this.element[0].selectedIndex);this.labels=this.element.labels().attr(\"for\",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e(\"<span>\",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\"combobox\",\"aria-expanded\":\"false\",\"aria-autocomplete\":\"list\",\"aria-owns\":this.ids.menu,\"aria-haspopup\":\"true\",title:this.element.attr(\"title\")}).insertAfter(this.element),this._addClass(this.button,\"ui-selectmenu-button ui-selectmenu-button-closed\",\"ui-button ui-widget\"),t=e(\"<span>\").appendTo(this.button),this._addClass(t,\"ui-selectmenu-icon\",\"ui-icon \"+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one(\"focusin\",(function(){i._rendered||i._refreshMenu()}))},_drawMenu:function(){var t=this;this.menu=e(\"<ul>\",{\"aria-hidden\":\"true\",\"aria-labelledby\":this.ids.button,id:this.ids.menu}),this.menuWrap=e(\"<div>\").append(this.menu),this._addClass(this.menuWrap,\"ui-selectmenu-menu\",\"ui-front\"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{\"ui-menu\":\"ui-corner-bottom\"},role:\"listbox\",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data(\"ui-selectmenu-item\"),e)},focus:function(e,i){var n=i.item.data(\"ui-selectmenu-item\");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger(\"focus\",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr(\"aria-activedescendant\",t.menuItems.eq(n.index).attr(\"id\"))}}).menu(\"instance\"),this.menuInstance._off(this.menu,\"mouseleave\"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data(\"ui-selectmenu-item\")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find(\"option\");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find(\"li\").not(\".ui-selectmenu-optgroup\").find(\".ui-menu-item-wrapper\"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data(\"ui-selectmenu-item\")),this._setOption(\"disabled\",this.element.prop(\"disabled\")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(\".ui-state-active\"),null,\"ui-state-active\"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger(\"open\",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger(\"close\",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=e(\"<span>\");return this._setText(i,t.label),this._addClass(i,\"ui-selectmenu-text\"),i},_renderMenu:function(t,i){var n=this,s=\"\";e.each(i,(function(i,a){var o;a.optgroup!==s&&(o=e(\"<li>\",{text:a.optgroup}),n._addClass(o,\"ui-selectmenu-optgroup\",\"ui-menu-divider\"+(a.element.parent(\"optgroup\").prop(\"disabled\")?\" ui-state-disabled\":\"\")),o.appendTo(t),s=a.optgroup),n._renderItemData(t,a)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data(\"ui-selectmenu-item\",t)},_renderItem:function(t,i){var n=e(\"<li>\"),s=e(\"<div>\",{title:i.element.attr(\"title\")});return i.disabled&&this._addClass(n,null,\"ui-state-disabled\"),this._setText(s,i.label),n.append(s).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html(\"&#160;\")},_move:function(e,t){var i,n,s=\".ui-menu-item\";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent(\"li\"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\"),s+=\":not(.ui-state-disabled)\"),(n=\"first\"===e||\"last\"===e?i[\"first\"===e?\"prevAll\":\"nextAll\"](s).eq(-1):i[e+\"All\"](s).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\")},_toggle:function(e){this[this.isOpen?\"close\":\"open\"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(\".ui-selectmenu-menu, #\"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move(\"prev\",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move(\"next\",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move(\"prev\",t);break;case e.ui.keyCode.RIGHT:this._move(\"next\",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move(\"first\",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move(\"last\",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent(\"li\");t.hasClass(\"ui-state-disabled\")||this._select(t.data(\"ui-selectmenu-item\"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger(\"select\",t,{item:e}),e.index!==i&&this._trigger(\"change\",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr(\"id\");this.button.attr({\"aria-labelledby\":t,\"aria-activedescendant\":t}),this.menu.attr(\"aria-activedescendant\",t)},_setOption:function(e,t){if(\"icons\"===e){var i=this.button.find(\"span.ui-icon\");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(e,t),\"appendTo\"===e&&this.menuWrap.appendTo(this._appendTo()),\"width\"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option(\"disabled\",e),this.button.attr(\"aria-disabled\",e),this._toggleClass(this.button,null,\"ui-state-disabled\",e),this.element.prop(\"disabled\",e),e?(this.button.attr(\"tabindex\",-1),this.close()):this.button.attr(\"tabindex\",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\".ui-front, dialog\")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr(\"aria-expanded\",this.isOpen),this._removeClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"closed\":\"open\"))._addClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"open\":\"closed\"))._toggleClass(this.menuWrap,\"ui-selectmenu-open\",null,this.isOpen),this.menu.attr(\"aria-hidden\",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css(\"width\",\"\")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\"\").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop(\"disabled\"),e},_parseOptions:function(t){var i=this,n=[];t.each((function(t,s){n.push(i._parseOption(e(s),t))})),this.items=n},_parseOption:function(e,t){var i=e.parent(\"optgroup\");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr(\"label\")||\"\",disabled:i.prop(\"disabled\")||e.prop(\"disabled\")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr(\"for\",this.ids.element)}}]),e.widget(\"ui.slider\",e.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"slide\",options:{animate:!1,classes:{\"ui-slider\":\"ui-corner-all\",\"ui-slider-handle\":\"ui-corner-all\",\"ui-slider-range\":\"ui-corner-all ui-widget-header\"},distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass(\"ui-slider ui-slider-\"+this.orientation,\"ui-widget ui-widget-content\"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(\".ui-slider-handle\"),a=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;t<i;t++)a.push(\"<span tabindex='0'></span>\");this.handles=s.add(e(a.join(\"\")).appendTo(this.element)),this._addClass(this.handles,\"ui-slider-handle\",\"ui-state-default\"),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data(\"ui-slider-handle-index\",t).attr(\"tabIndex\",0)}))},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,\"ui-slider-range-min ui-slider-range-max\"),this.range.css({left:\"\",bottom:\"\"})):(this.range=e(\"<div>\").appendTo(this.element),this._addClass(this.range,\"ui-slider-range\")),\"min\"!==t.range&&\"max\"!==t.range||this._addClass(this.range,\"ui-slider-range-\"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,a,o,r,l,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var i=Math.abs(n-c.values(t));(s>i||s===i&&(t===c._lastChangedValue||c.values(t)===d.min))&&(s=i,a=e(this),o=t)})),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,\"ui-state-active\"),a.trigger(\"focus\"),r=a.offset(),l=!e(t.target).parents().addBack().is(\".ui-slider-handle\"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-r.left-a.width()/2,top:t.pageY-r.top-a.height()/2-(parseInt(a.css(\"borderTopWidth\"),10)||0)-(parseInt(a.css(\"borderBottomWidth\"),10)||0)+(parseInt(a.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,\"ui-state-active\"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\"vertical\"===this.options.orientation?\"vertical\":\"horizontal\"},_normValueFromMouse:function(e){var t,i,n,s,a;return\"horizontal\"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),n<0&&(n=0),\"vertical\"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_uiHash:function(e,t,i){var n={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==t?t:this.values(e),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger(\"start\",e,this._uiHash(t))},_slide:function(e,t,i){var n,s=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),s=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(n,i):Math.max(n,i)),a[t]=i),i!==s&&!1!==this._trigger(\"slide\",e,this._uiHash(t,i,a))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger(\"stop\",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger(\"change\",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch(\"range\"===t&&!0===this.options.range&&(\"min\"===i?(this.options.value=this._values(0),this.options.values=null):\"max\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,i),t){case\"orientation\":this._detectOrientation(),this._removeClass(\"ui-slider-horizontal ui-slider-vertical\")._addClass(\"ui-slider-\"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(\"horizontal\"===i?\"bottom\":\"left\",\"\");break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":for(this._animateOff=!0,this._refreshValue(),n=s-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case\"step\":case\"min\":case\"max\":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case\"range\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,\"ui-state-disabled\",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(\".\");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){\"vertical\"===e&&this.range.css({width:\"\",left:\"\"}),\"horizontal\"===e&&this.range.css({height:\"\",bottom:\"\"})},_refreshValue:function(){var t,i,n,s,a,o=this.options.range,r=this.options,l=this,c=!this._animateOff&&r.animate,d={};this._hasMultipleValues()?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d[\"horizontal\"===l.orientation?\"left\":\"bottom\"]=i+\"%\",e(this).stop(1,1)[c?\"animate\":\"css\"](d,r.animate),!0===l.options.range&&(\"horizontal\"===l.orientation?(0===n&&l.range.stop(1,1)[c?\"animate\":\"css\"]({left:i+\"%\"},r.animate),1===n&&l.range[c?\"animate\":\"css\"]({width:i-t+\"%\"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?\"animate\":\"css\"]({bottom:i+\"%\"},r.animate),1===n&&l.range[c?\"animate\":\"css\"]({height:i-t+\"%\"},{queue:!1,duration:r.animate}))),t=i})):(n=this.value(),s=this._valueMin(),a=this._valueMax(),i=a!==s?(n-s)/(a-s)*100:0,d[\"horizontal\"===this.orientation?\"left\":\"bottom\"]=i+\"%\",this.handle.stop(1,1)[c?\"animate\":\"css\"](d,r.animate),\"min\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[c?\"animate\":\"css\"]({width:i+\"%\"},r.animate),\"max\"===o&&\"horizontal\"===this.orientation&&this.range.stop(1,1)[c?\"animate\":\"css\"]({width:100-i+\"%\"},r.animate),\"min\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[c?\"animate\":\"css\"]({height:i+\"%\"},r.animate),\"max\"===o&&\"vertical\"===this.orientation&&this.range.stop(1,1)[c?\"animate\":\"css\"]({height:100-i+\"%\"},r.animate))},_handleEvents:{keydown:function(t){var i,n,s,a=e(t.target).data(\"ui-slider-handle-index\");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,\"ui-state-active\"),!1===this._start(t,a)))return}switch(s=this.options.step,i=n=this._hasMultipleValues()?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(t,a,n)},keyup:function(t){var i=e(t.target).data(\"ui-slider-handle-index\");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,\"ui-state-active\"))}}}),e.widget(\"ui.sortable\",e.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css(\"float\"))||/inline|table-cell/.test(e.css(\"display\"))},_create:function(){this.containerCache={},this._addClass(\"ui-sortable\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),\"handle\"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(\".ui-sortable-handle\"),\"ui-sortable-handle\"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,\"ui-sortable-handle\")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+\"-item\");return this},_mouseCapture:function(t,i){var n=null,s=!1,a=this;return!this.reverting&&(!this.options.disabled&&\"static\"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,a.widgetName+\"-item\")===a)return n=e(this),!1})),e.data(t.target,a.widgetName+\"-item\")===a&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find(\"*\").addBack().each((function(){this===t.target&&(s=!0)})),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var s,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&\"auto\"!==o.cursor&&(a=this.document.find(\"body\"),this.storedCursor=a.css(\"cursor\"),a.css(\"cursor\",o.cursor),this.storedStylesheet=e(\"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\").appendTo(a)),o.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",o.opacity)),o.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",o.zIndex)),this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger(\"activate\",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,\"ui-sortable-helper\"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(a=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===a?\"next\":\"prev\"]()[0]===s||e.contains(this.placeholder[0],s)||\"semi-dynamic\"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===a?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger(\"change\",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger(\"sort\",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),a=this.options.axis,o={};a&&\"x\"!==a||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&\"y\"!==a||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event(\"mouseup\",{target:null})),\"original\"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,\"ui-sortable-helper\")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger(\"out\",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||\"id\")||\"\").match(t.expression||/(.+)[\\-=_](.+)/);i&&n.push((t.key||i[1]+\"[]\")+\"=\"+(t.key&&t.expression?i[1]:i[2]))})),!n.length&&t.key&&n.push(t.key+\"=\"),n.join(\"&\")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each((function(){n.push(e(t.item||this).attr(t.attribute||\"id\")||\"\")})),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,u=\"x\"===this.options.axis||n+c>r&&n+c<l,h=\"y\"===this.options.axis||t+d>a&&t+d<o,p=u&&h;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>e[this.floating?\"width\":\"height\"]?p:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&r<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n=\"x\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),s=\"y\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!s)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?\"right\"===i||\"down\"===t?2:1:t&&(\"down\"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?\"right\"===s&&i||\"left\"===s&&!i:n&&(\"down\"===n&&t||\"up\"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?\"right\":\"left\")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,a,o=[],r=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(s=e(l[i],this.document[0])).length-1;n>=0;n--)(a=e.data(s[n],this.widgetFullName))&&a!==this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),a]);function c(){o.push(this)}for(r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),i=r.length-1;i>=0;i--)r[i][0].each(c);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,a,o,r,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(s=e(h[i],this.document[0])).length-1;n>=0;n--)(a=e.data(s[n],this.widgetFullName))&&a!==this&&!a.options.disabled&&(u.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=u.length-1;i>=0;i--)for(o=u[i][1],n=0,c=(r=u[i][0]).length;n<c;n++)(l=e(r[n])).data(this.widgetName+\"-item\",o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,s,a;for(this.floating=!!this.items.length&&(\"x\"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),a=s.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e(\"<\"+n+\">\",t.document[0]);return t._addClass(s,\"ui-sortable-placeholder\",i||t.currentItem[0].className)._removeClass(s,\"ui-sortable-helper\"),\"tbody\"===n?t._createTrPlaceholder(t.currentItem.find(\"tr\").eq(0),e(\"<tr>\",t.document[0]).appendTo(s)):\"tr\"===n?t._createTrPlaceholder(t.currentItem,s):\"img\"===n&&s.attr(\"src\",t.currentItem.attr(\"src\")),i||s.css(\"visibility\",\"hidden\"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css(\"paddingTop\")||0,10)-parseInt(t.currentItem.css(\"paddingBottom\")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css(\"paddingLeft\")||0,10)-parseInt(t.currentItem.css(\"paddingRight\")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each((function(){e(\"<td>&#160;</td>\",n.document[0]).attr(\"colspan\",e(this).attr(\"colspan\")||1).appendTo(i)}))},_contactContainers:function(t){var i,n,s,a,o,r,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\"out\",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\"over\",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,a=null,o=(d=h.floating||this._isFloating(this.currentItem))?\"left\":\"top\",r=d?\"width\":\"height\",u=d?\"pageX\":\"pageY\",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,t[u]-l>this.items[n][r]/2&&(c=!0),Math.abs(t[u]-l)<s&&(s=Math.abs(t[u]-l),a=this.items[n],this.direction=c?\"up\":\"down\"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger(\"over\",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger(\"change\",t,this._uiHash()),this.containers[p]._trigger(\"change\",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\"over\",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return n.parents(\"body\").length||e(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){\"string\"==typeof t&&(t=t.split(\" \")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\"left\"in t&&(this.offset.click.left=t.left+this.margins.left),\"right\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\"top\"in t&&(this.offset.click.top=t.top+this.margins.top),\"bottom\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;\"parent\"===s.containment&&(s.containment=this.helper[0].parentNode),\"document\"!==s.containment&&\"window\"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\"document\"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\"document\"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n=\"hidden\"!==e(t).css(\"overflow\"),this.containment=[i.left+(parseInt(e(t).css(\"borderLeftWidth\"),10)||0)+(parseInt(e(t).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css(\"borderTopWidth\"),10)||0)+(parseInt(e(t).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css(\"borderLeftWidth\"),10)||0)-(parseInt(e(t).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css(\"borderTopWidth\"),10)||0)-(parseInt(e(t).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n=\"absolute\"===t?1:-1,s=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,a=t.pageX,o=t.pageY,r=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((a-this.originalPageX)/s.grid[0])*s.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay((function(){s===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)\"auto\"!==this._storedCSS[i]&&\"static\"!==this._storedCSS[i]||(this._storedCSS[i]=\"\");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,\"ui-sortable-helper\")}else this.currentItem.show();function s(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push((function(e){this._trigger(\"receive\",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger(\"update\",e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger(\"remove\",e,this._uiHash())})),n.push(function(e){return function(t){e._trigger(\"receive\",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger(\"update\",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(s(\"deactivate\",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(s(\"out\",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,t||this._trigger(\"beforeStop\",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger(\"stop\",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});\n/*!\n    * jQuery UI Progressbar 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\n/*!\n    * jQuery UI Spinner 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */\nfunction y(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger(\"change\")}}e.widget(\"ui.spinner\",{version:\"1.12.1\",defaultElement:\"<input>\",widgetEventPrefix:\"spin\",options:{classes:{\"ui-spinner\":\"ui-corner-all\",\"ui-spinner-down\":\"ui-corner-br\",\"ui-spinner-up\":\"ui-corner-tr\"},culture:null,icons:{down:\"ui-icon-triangle-1-s\",up:\"ui-icon-triangle-1-n\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\"max\",this.options.max),this._setOption(\"min\",this.options.min),this._setOption(\"step\",this.options.step),\"\"!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\"autocomplete\")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return e.each([\"min\",\"max\",\"step\"],(function(e,n){var s=i.attr(n);null!=s&&s.length&&(t[n]=s)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:\"_stop\",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger(\"change\",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},\"mousedown .ui-spinner-button\":function(t){var i;function n(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger(\"focus\"),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,t)},\"mouseup .ui-spinner-button\":\"_stop\",\"mouseenter .ui-spinner-button\":function(t){if(e(t.currentTarget).hasClass(\"ui-state-active\"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,t)},\"mouseleave .ui-spinner-button\":\"_stop\"},_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(\"<span>\").parent().append(\"<a></a><a></a>\")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,\"ui-spinner\",\"ui-widget ui-widget-content\"),this._addClass(\"ui-spinner-input\"),this.element.attr(\"role\",\"spinbutton\"),this.buttons=this.uiSpinner.children(\"a\").attr(\"tabIndex\",-1).attr(\"aria-hidden\",!0).button({classes:{\"ui-button\":\"\"}}),this._removeClass(this.buttons,\"ui-corner-all\"),this._addClass(this.buttons.first(),\"ui-spinner-button ui-spinner-up\"),this._addClass(this.buttons.last(),\"ui-spinner-button ui-spinner-down\"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger(\"start\",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,i)}),e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger(\"spin\",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(\".\");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger(\"stop\",e))},_setOption:function(e,t){var i,n,s;if(\"culture\"===e||\"numberFormat\"===e)return i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i));\"max\"!==e&&\"min\"!==e&&\"step\"!==e||\"string\"==typeof t&&(t=this._parse(t)),\"icons\"===e&&(n=this.buttons.first().find(\".ui-icon\"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,t.up),s=this.buttons.last().find(\".ui-icon\"),this._removeClass(s,null,this.options.icons.down),this._addClass(s,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,\"ui-state-disabled\",!!e),this.element.prop(\"disabled\",!!e),this.buttons.button(e?\"disable\":\"enable\")},_setOptions:y((function(e){this._super(e)})),_parse:function(e){return\"string\"==typeof e&&\"\"!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),\"\"===e||isNaN(e)?null:e},_format:function(e){return\"\"===e?\"\":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({\"aria-valuemin\":this.options.min,\"aria-valuemax\":this.options.max,\"aria-valuenow\":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;\"\"!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop(\"disabled\",!1).removeAttr(\"autocomplete role aria-valuemin aria-valuemax aria-valuenow\"),this.uiSpinner.replaceWith(this.element)},stepUp:y((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:y((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:y((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:y((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());y(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget(\"ui.spinner\",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return\"<span>\"},_buttonHtml:function(){return\"<a></a><a></a>\"}});var w;\n/*!\n    * jQuery UI Tabs 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.ui.spinner;e.widget(\"ui.tabs\",{version:\"1.12.1\",delay:300,options:{active:null,classes:{\"ui-tabs\":\"ui-corner-all\",\"ui-tabs-nav\":\"ui-corner-all\",\"ui-tabs-panel\":\"ui-corner-bottom\",\"ui-tabs-tab\":\"ui-corner-top\"},collapsible:!1,event:\"click\",heightStyle:\"content\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(e){var t,i;t=e.href.replace(w,\"\"),i=location.href.replace(w,\"\");try{t=decodeURIComponent(t)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return e.hash.length>1&&t===i}),_create:function(){var t=this,i=this.options;this.running=!1,this._addClass(\"ui-tabs\",\"ui-widget ui-widget-content\"),this._toggleClass(\"ui-tabs-collapsible\",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(\".ui-state-disabled\"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each((function(i,s){if(e(s).attr(\"aria-controls\")===n)return t=i,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(\".ui-tabs-active\"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(e.ui.safeActiveElement(this.document[0])).closest(\"li\"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),t.ctrlKey||t.metaKey||(i.attr(\"aria-selected\",\"false\"),this.tabs.eq(n).attr(\"aria-selected\",\"true\"),this.activating=this._delay((function(){this.option(\"active\",n)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger(\"focus\"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){var n=this.tabs.length-1;for(;-1!==e.inArray((t>n&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger(\"focus\"),e},_setOption:function(e,t){\"active\"!==e?(this._super(e,t),\"collapsible\"===e&&(this._toggleClass(\"ui-tabs-collapsible\",null,t),t||!1!==this.options.active||this._activate(0)),\"event\"===e&&this._setupEvents(t),\"heightStyle\"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g,\"\\\\$&\"):\"\"},refresh:function(){var t=this.options,i=this.tablist.children(\":has(a[href])\");t.disabled=e.map(i.filter(\".ui-state-disabled\"),(function(e){return i.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({\"aria-hidden\":\"true\"}),this.active.length?(this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}),this._addClass(this.active,\"ui-tabs-active\",\"ui-state-active\"),this._getPanelForTab(this.active).show().attr({\"aria-hidden\":\"false\"})):this.tabs.eq(0).attr(\"tabIndex\",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().attr(\"role\",\"tablist\"),this._addClass(this.tablist,\"ui-tabs-nav\",\"ui-helper-reset ui-helper-clearfix ui-widget-header\"),this.tablist.on(\"mousedown\"+this.eventNamespace,\"> li\",(function(t){e(this).is(\".ui-state-disabled\")&&t.preventDefault()})).on(\"focus\"+this.eventNamespace,\".ui-tabs-anchor\",(function(){e(this).closest(\"li\").is(\".ui-state-disabled\")&&this.blur()})),this.tabs=this.tablist.find(\"> li:has(a[href])\").attr({role:\"tab\",tabIndex:-1}),this._addClass(this.tabs,\"ui-tabs-tab\",\"ui-state-default\"),this.anchors=this.tabs.map((function(){return e(\"a\",this)[0]})).attr({role:\"presentation\",tabIndex:-1}),this._addClass(this.anchors,\"ui-tabs-anchor\"),this.panels=e(),this.anchors.each((function(i,n){var s,a,o,r=e(n).uniqueId().attr(\"id\"),l=e(n).closest(\"li\"),c=l.attr(\"aria-controls\");t._isLocal(n)?(o=(s=n.hash).substring(1),a=t.element.find(t._sanitizeSelector(s))):(s=\"#\"+(o=l.attr(\"aria-controls\")||e({}).uniqueId()[0].id),(a=t.element.find(s)).length||(a=t._createPanel(o)).insertAfter(t.panels[i-1]||t.tablist),a.attr(\"aria-live\",\"polite\")),a.length&&(t.panels=t.panels.add(a)),c&&l.data(\"ui-tabs-aria-controls\",c),l.attr({\"aria-controls\":o,\"aria-labelledby\":r}),a.attr(\"aria-labelledby\",r)})),this.panels.attr(\"role\",\"tabpanel\"),this._addClass(this.panels,\"ui-tabs-panel\",\"ui-widget-content\"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find(\"ol, ul\").eq(0)},_createPanel:function(t){return e(\"<div>\").attr(\"id\",t).data(\"ui-tabs-destroy\",!0)},_setOptionDisabled:function(t){var i,n,s;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),s=0;n=this.tabs[s];s++)i=e(n),!0===t||-1!==e.inArray(s,t)?(i.attr(\"aria-disabled\",\"true\"),this._addClass(i,null,\"ui-state-disabled\")):(i.removeAttr(\"aria-disabled\"),this._removeClass(i,null,\"ui-state-disabled\"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,!0===t)},_setupEvents:function(t){var i={};t&&e.each(t.split(\" \"),(function(e,t){i[t]=\"_eventHandler\"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:\"_tabKeydown\"}),this._on(this.panels,{keydown:\"_panelKeydown\"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();\"fill\"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(\":visible\").each((function(){var t=e(this),n=t.css(\"position\");\"absolute\"!==n&&\"fixed\"!==n&&(i-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))})).css(\"overflow\",\"auto\")):\"auto\"===t&&(i=0,this.panels.each((function(){i=Math.max(i,e(this).height(\"\").height())})).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget).closest(\"li\"),a=s[0]===n[0],o=a&&i.collapsible,r=o?e():this._getPanelForTab(s),l=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:l,newTab:o?e():s,newPanel:r};t.preventDefault(),s.hasClass(\"ui-state-disabled\")||s.hasClass(\"ui-tabs-loading\")||this.running||a&&!i.collapsible||!1===this._trigger(\"beforeActivate\",t,c)||(i.active=!o&&this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),l.length||r.length||e.error(\"jQuery UI Tabs: Mismatching fragment identifier.\"),r.length&&this.load(this.tabs.index(s),t),this._toggle(t,c))},_toggle:function(t,i){var n=this,s=i.newPanel,a=i.oldPanel;function o(){n.running=!1,n._trigger(\"activate\",t,i)}function r(){n._addClass(i.newTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),s.length&&n.options.show?n._show(s,n.options.show,o):(s.show(),o())}this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){n._removeClass(i.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),r()})):(this._removeClass(i.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\"),a.hide(),r()),a.attr(\"aria-hidden\",\"true\"),i.oldTab.attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"}),s.length&&a.length?i.oldTab.attr(\"tabIndex\",-1):s.length&&this.tabs.filter((function(){return 0===e(this).attr(\"tabIndex\")})).attr(\"tabIndex\",-1),s.attr(\"aria-hidden\",\"false\"),i.newTab.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(\".ui-tabs-anchor\")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return\"string\"==typeof t&&(t=this.anchors.index(this.anchors.filter(\"[href$='\"+e.ui.escapeSelector(t)+\"']\"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr(\"role\").off(this.eventNamespace),this.anchors.removeAttr(\"role tabIndex\").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,\"ui-tabs-destroy\")?e(this).remove():e(this).removeAttr(\"role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded\")})),this.tabs.each((function(){var t=e(this),i=t.data(\"ui-tabs-aria-controls\");i?t.attr(\"aria-controls\",i).removeData(\"ui-tabs-aria-controls\"):t.removeAttr(\"aria-controls\")})),this.panels.show(),\"content\"!==this.options.heightStyle&&this.panels.css(\"height\",\"\")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,i){return i!==t?i:null}))),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,s=this.tabs.eq(t),a=s.find(\".ui-tabs-anchor\"),o=this._getPanelForTab(s),r={tab:s,panel:o},l=function(e,t){\"abort\"===t&&n.panels.stop(!1,!0),n._removeClass(s,\"ui-tabs-loading\"),o.removeAttr(\"aria-busy\"),e===n.xhr&&delete n.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&\"canceled\"!==this.xhr.statusText&&(this._addClass(s,\"ui-tabs-loading\"),o.attr(\"aria-busy\",\"true\"),this.xhr.done((function(e,t,s){setTimeout((function(){o.html(e),n._trigger(\"load\",i,r),l(s,t)}),1)})).fail((function(e,t){setTimeout((function(){l(e,t)}),1)}))))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr(\"href\").replace(/#.*$/,\"\"),beforeSend:function(t,a){return s._trigger(\"beforeLoad\",i,e.extend({jqXHR:t,ajaxSettings:a},n))}}},_getPanelForTab:function(t){var i=e(t).attr(\"aria-controls\");return this.element.find(this._sanitizeSelector(\"#\"+i))}}),!1!==e.uiBackCompat&&e.widget(\"ui.tabs\",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,\"ui-tab\")}});e.ui.tabs;\n/*!\n    * jQuery UI Tooltip 1.12.1\n    * http://jqueryui.com\n    *\n    * Copyright jQuery Foundation and other contributors\n    * Released under the MIT license.\n    * http://jquery.org/license\n    */e.widget(\"ui.tooltip\",{version:\"1.12.1\",options:{classes:{\"ui-tooltip\":\"ui-corner-all ui-widget-shadow\"},content:function(){var t=e(this).attr(\"title\")||\"\";return e(\"<a>\").text(t).html()},hide:!0,items:\"[title]:not([disabled])\",position:{my:\"left top+15\",at:\"left bottom\",collision:\"flipfit flip\"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr(\"aria-describedby\")||\"\").split(/\\s+/);n.push(i),t.data(\"ui-tooltip-id\",i).attr(\"aria-describedby\",e.trim(n.join(\" \")))},_removeDescribedBy:function(t){var i=t.data(\"ui-tooltip-id\"),n=(t.attr(\"aria-describedby\")||\"\").split(/\\s+/),s=e.inArray(i,n);-1!==s&&n.splice(s,1),t.removeData(\"ui-tooltip-id\"),(n=e.trim(n.join(\" \")))?t.attr(\"aria-describedby\",n):t.removeAttr(\"aria-describedby\")},_create:function(){this._on({mouseover:\"open\",focusin:\"open\"}),this.tooltips={},this.parents={},this.liveRegion=e(\"<div>\").attr({role:\"log\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\"),this.disabledTitles=e([])},_setOption:function(t,i){var n=this;this._super(t,i),\"content\"===t&&e.each(this.tooltips,(function(e,t){n._updateContent(t.element)}))},_setOptionDisabled:function(e){this[e?\"_disable\":\"_enable\"]()},_disable:function(){var t=this;e.each(this.tooltips,(function(i,n){var s=e.Event(\"blur\");s.target=s.currentTarget=n.element[0],t.close(s,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var t=e(this);if(t.is(\"[title]\"))return t.data(\"ui-tooltip-title\",t.attr(\"title\")).removeAttr(\"title\")})))},_enable:function(){this.disabledTitles.each((function(){var t=e(this);t.data(\"ui-tooltip-title\")&&t.attr(\"title\",t.data(\"ui-tooltip-title\"))})),this.disabledTitles=e([])},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data(\"ui-tooltip-id\")&&(n.attr(\"title\")&&n.data(\"ui-tooltip-title\",n.attr(\"title\")),n.data(\"ui-tooltip-open\",!0),t&&\"mouseover\"===t.type&&n.parents().each((function(){var t,n=e(this);n.data(\"ui-tooltip-open\")&&((t=e.Event(\"blur\")).target=t.currentTarget=this,i.close(t,!0)),n.attr(\"title\")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr(\"title\")},n.attr(\"title\",\"\"))})),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,a=t?t.type:null;if(\"string\"==typeof n||n.nodeType||n.jquery)return this._open(t,e,n);(i=n.call(e[0],(function(i){s._delay((function(){e.data(\"ui-tooltip-open\")&&(t&&(t.type=a),this._open(t,e,i))}))})))&&this._open(t,e,i)},_open:function(t,i,n){var s,a,o,r,l=e.extend({},this.options.position);function c(e){l.of=e,a.is(\":hidden\")||a.position(l)}n&&((s=this._find(i))?s.tooltip.find(\".ui-tooltip-content\").html(n):(i.is(\"[title]\")&&(t&&\"mouseover\"===t.type?i.attr(\"title\",\"\"):i.removeAttr(\"title\")),s=this._tooltip(i),a=s.tooltip,this._addDescribedBy(i,a.attr(\"id\")),a.find(\".ui-tooltip-content\").html(n),this.liveRegion.children().hide(),(r=e(\"<div>\").html(a.find(\".ui-tooltip-content\").html())).removeAttr(\"name\").find(\"[name]\").removeAttr(\"name\"),r.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\"),r.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval((function(){a.is(\":visible\")&&(c(l.of),clearInterval(o))}),e.fx.interval)),this._trigger(\"open\",t,{tooltip:a})))},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&\"mouseover\"!==t.type||(n.mouseleave=\"close\"),t&&\"focusin\"!==t.type||(n.focusout=\"close\"),this._on(!0,i,n)},close:function(t){var i,n=this,s=e(t?t.currentTarget:this.element),a=this._find(s);a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),s.data(\"ui-tooltip-title\")&&!s.attr(\"title\")&&s.attr(\"title\",s.data(\"ui-tooltip-title\")),this._removeDescribedBy(s),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,(function(){n._removeTooltip(e(this))})),s.removeData(\"ui-tooltip-open\"),this._off(s,\"mouseleave focusout keyup\"),s[0]!==this.element[0]&&this._off(s,\"remove\"),this._off(this.document,\"mousemove\"),t&&\"mouseleave\"===t.type&&e.each(this.parents,(function(t,i){e(i.element).attr(\"title\",i.title),delete n.parents[t]})),a.closing=!0,this._trigger(\"close\",t,{tooltip:i}),a.hiding||(a.closing=!1))):s.removeData(\"ui-tooltip-open\")},_tooltip:function(t){var i=e(\"<div>\").attr(\"role\",\"tooltip\"),n=e(\"<div>\").appendTo(i),s=i.uniqueId().attr(\"id\");return this._addClass(n,\"ui-tooltip-content\"),this._addClass(i,\"ui-tooltip\",\"ui-widget ui-widget-content\"),i.appendTo(this._appendTo(t)),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data(\"ui-tooltip-id\");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr(\"id\")]},_appendTo:function(e){var t=e.closest(\".ui-front, dialog\");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,(function(i,n){var s=e.Event(\"blur\"),a=n.element;s.target=s.currentTarget=a[0],t.close(s,!0),e(\"#\"+i).remove(),a.data(\"ui-tooltip-title\")&&(a.attr(\"title\")||a.attr(\"title\",a.data(\"ui-tooltip-title\")),a.removeData(\"ui-tooltip-title\"))})),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget(\"ui.tooltip\",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip}));var s={};const a=jQuery=jquery=i;function o(e,t){0==a(\".cloudflare_notification\").length&&a(\"body\").append(a(\"<div class='cloudflare_notification' >\")),icon=\"response_success\"==e?\"&#xF004;\":\"&#xF005;\";const i=a(\"<div class='notification \"+(e=\"response_success\"==e?\"response_success\":\"response_error\")+\"' >\").append(a(\"<span class='message' >\").text(t)).append(a(\"<span class='progress' >\")).append(a(\"<span class='cloudflare-icon close' >\").html(\"&#xF01A;\")).append(a(\"<i class='cloudflare-icon status' >\").html(icon));a(\".cloudflare_notification\").append(i),setTimeout((function(){a(i).addClass(\"auto_remove\")}),200);var n=setTimeout((function(){a(i).remove()}),10200);a(i).on(\"click\",(function(){a(this).removeClass(\"auto_remove\"),a(this).addClass(\"locked\"),clearTimeout(n)})),a(i).on(\"mouseover\",(function(){a(this).hasClass(\"locked\")||(a(this).removeClass(\"auto_remove\"),clearTimeout(n))})),a(i).on(\"mouseout\",(function(){a(this).hasClass(\"locked\")||(a(this).addClass(\"auto_remove\"),clearTimeout(n),n=setTimeout((function(){a(i).remove()}),1e4))})),a(i).find(\".close\").on(\"click\",(function(){clearTimeout(n),a(this).parent().remove()}))}function r(e,t){Array.isArray(t)||(t=[t]),t.map((t=>{o(e,t)}))}function l(e){r(\"response_success\",e)}function c(e){r(\"response_error\",e)}s={addMessage:o,addMessages:r,addSuccess:l,addError:c,showMessages:function(e){e.error&&(e.errors=[{code:e.code,message:e.error}]),e.errors&&c(e.errors.map((e=>`${e.code}: ${e.message}`))),e.messages&&l(e.messages.map((e=>\"string\"==typeof e?e:`${e.code}: ${e.message}`)))}};var d={};const u=jQuery=jquery=i;d={loadSections:function(e=\"\"){u(\"section.cloudflare.initialize\"+e).each(((e,t)=>{u.ajax({url:u(t).data(\"endpoint\"),type:\"POST\",data:{form_key:u(t).data(\"form-key\")},success:e=>{if(u(t).removeClass(\"loading\"),hasErrors=e=>\"code\"in e&&1009==e.code||(\"success\"in e?!1===e.success:\"state\"in e&&\"success\"in e.state?!1===e.state.success:\"webp\"in e&&\"success\"in e.webp&&!1===e.webp.success),hasErrors(e)){var i=\"Authorization Error\",n=\"It appears that the configured Cloudflare token does not have sufficient permissions to render this section.\";return e&&e.errors&&e.errors.some((e=>e.message.startsWith(\"API Tokens are not supported\")))&&(i=\"Unsupported Error\",n=\"Currently, this API endpoint cannot be used with token authorization. This may change in the future.\"),u(t).find(\".row:nth-child( n + 2 )\").remove(),u(t).find(\".wrapper_bottom\").remove(),u(t).find(\".wrapper_right\").remove(),u(t).find(\".wrapper_left *:nth-child( n + 3 )\").remove(),void u(t).find(\".row\").append(`\\n\\t\\t\\t\\t\\t\\t<div class=\"wrapper_right\" >\\n\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\"error\" >${i}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>${n}</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t`)}s.showMessages(e);var a={target:{tab:u(t).data(\"tab-name\"),section:u(t).data(\"section-name\"),action:\"initialize\"},section:t,response:e};a.target.name=[\"cloudflare\",a.target.tab,a.target.section,a.target.action].join(\".\"),u.event.trigger(a.target.name,a)}})}))}};var h={};h={getDomainName:function(){return window.domain},getSkinBaseUrl:function(e=\"\"){return window.skin_base+e}};const p=jQuery=jquery=i;var f={};const g=jQuery=jquery=i;function m(e=\"value\",t=\"on\"){return function(i,n){let s;s=\"object\"==typeof e&&\"Array\"===e.constructor.name?e.reduce(((e,t)=>e[t]),n.response.result):n.response.result[e],g(n.section).find(\"[name='mode']\").prop(\"checked\",s==t)}}f={initialize:m(),toggle:function(e,t){var i=g(t.section).find(\"[name='mode']:checked\").length>0;g(t.section).addClass(\"loading\"),g.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,state:i},success:e=>{e.success||g(t.section).find(\"[name='mode']\").prop(\"checked\",!i),s.showMessages(e),g(t.section).removeClass(\"loading\")}})},initializeCustom:m},p(document).on(\"cloudflare.speed.automatic_platform_optimization.initialize\",f.initializeCustom([\"value\",\"enabled\"],!0)),p(document).on(\"cloudflare.speed.automatic_platform_optimization.toggle\",f.toggle);const v=jQuery=jquery=i;var _;const b=jQuery=jquery=i;_={initialize:function(e,t){b(t.section).find(\"[name='value']\").val(t.response.result.value),b(t.section).removeClass(\"loading\")},update:function(e,t){let i=b(t.section).find(\"[name='value']\").val();b(t.section).addClass(\"loading\"),b.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,value:i},success:e=>{if(s.showMessages(e),e.success)b(t.section).removeClass(\"loading\");else{let e=`${t.target.tab}.${t.target.section}`;d.loadSections(`.cloudflare.${e}`)}}})}},v(document).on(\"cloudflare.speed.image_resizing.initialize\",_.initialize),v(document).on(\"cloudflare.speed.image_resizing.update\",_.update);const y=jQuery=jquery=i;y(document).on(\"cloudflare.speed.prefetch_urls.initialize\",f.initialize),y(document).on(\"cloudflare.speed.prefetch_urls.toggle\",f.toggle);const w=jQuery=jquery=i;w(document).on(\"cloudflare.speed.amp_real_url.initialize\",f.initializeCustom(\"enabled\",!0)),w(document).on(\"cloudflare.speed.amp_real_url.toggle\",f.toggle);const x=jQuery=jquery=i;x(document).on(\"cloudflare.speed.auto_minify.initialize\",((e,t)=>{var i=\"on\"===t.response.result.value.js,n=\"on\"===t.response.result.value.css,s=\"on\"===t.response.result.value.html;x(t.section).find(\"input[value='javascript']\").prop(\"checked\",i),x(t.section).find(\"input[value='css']\").prop(\"checked\",n),x(t.section).find(\"input[value='html']\").prop(\"checked\",s)})),x(document).on(\"cloudflare.speed.auto_minify.change\",((e,t)=>{var i=x(t.section).find(\"input[value='javascript']\").prop(\"checked\"),n=x(t.section).find(\"input[value='css']\").prop(\"checked\"),a=x(t.section).find(\"input[value='html']\").prop(\"checked\");x(t.section).addClass(\"loading\"),x.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,js:i,css:n,html:a},success:e=>{s.showMessages(e),d.loadSections(\".auto_minify\")}})}));const k=jQuery=jquery=i;k(document).on(\"cloudflare.speed.mirage.initialize\",f.initialize),k(document).on(\"cloudflare.speed.mirage.toggle\",f.toggle);const C=jQuery=jquery=i;C(document).on(\"cloudflare.speed.mobile_redirect.initialize\",((e,t)=>{var i=t.response.result.domains,n=t.response.result.value;C(t.section).find(\"[name='mobile_subdomain']\").html(\"\");for(let e of i)C(t.section).find(\"[name='mobile_subdomain']\").append(C(\"<option>\").prop(\"value\",e.value).text(e.label));C(t.section).find(\"[name='mobile_subdomain']\").val(n.mobile_subdomain),C(t.section).find(\"[name='strip_uri']\").val(n.strip_uri+\"\"),C(t.section).find(\"[name='status']\").prop(\"checked\",\"on\"===n.status)})),C(document).on(\"cloudflare.speed.mobile_redirect.change\",((e,t)=>{let i=C(t.section).find(\"[name='mobile_subdomain']\").val(),n=C(t.section).find(\"[name='strip_uri']\").val(),a=C(t.section).find(\"[name='status']\").prop(\"checked\");C(t.section).addClass(\"loading\"),C.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,mobile_subdomain:i,status:a?\"on\":\"off\",strip_uri:n},success:e=>{s.showMessages(e),d.loadSections(\".mobile_redirect\")}})}));const T=jQuery=jquery=i;T(document).on(\"cloudflare.speed.rocket_loader.initialize\",f.initialize),T(document).on(\"cloudflare.speed.rocket_loader.toggle\",f.toggle);const S=jQuery=jquery=i;S(document).on(\"cloudflare.speed.polish.initialize\",((e,t)=>{var i=t.response.state.result.value,n=\"on\"==t.response.webp.result.value;if(S(t.section).find(\"[name='value']\").val(i),S(t.section).find(\"[name='webp']\").prop(\"checked\",n),!t.response.state.result.editable){S(t.section).find(\".wrapper_right > div\").eq(0).html(\"<a href='https://www.cloudflare.com/plans/' target='_blank' ><input type='button' value='Upgrade to Pro' /></a>\")}})),S(document).on(\"cloudflare.speed.polish.change\",((e,t)=>{let i=S(t.section).find(\"[name='value']\").val(),n=S(t.section).find(\"[name='webp']\").prop(\"checked\");S(t.section).addClass(\"loading\"),S.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,value:i,webp:n},success:e=>{s.showMessages(e),d.loadSections(\".polish\")}})}));const D=jQuery=jquery=i;D(document).on(\"cloudflare.speed.enhanced_http2_prioritization.initialize\",f.initialize),D(document).on(\"cloudflare.speed.enhanced_http2_prioritization.toggle\",f.toggle);const P=jQuery=jquery=i;P(document).on(\"cloudflare.speed.brotli.initialize\",f.initialize),P(document).on(\"cloudflare.speed.brotli.toggle\",f.toggle);const I=jQuery=jquery=i;I(document).on(\"cloudflare.speed.tcp_turbo.initialize\",((e,t)=>{const i=t.response.result;I(t.section).find(\".value\").text(\"free\"===i?\"Disabled\":\"Enabled\")}));const M=jQuery=jquery=i;M(document).on(\"cloudflare.speed.early_hints.initialize\",f.initialize),M(document).on(\"cloudflare.speed.early_hints.toggle\",f.toggle);const A=jQuery=jquery=i;var E={};const z=jQuery=jquery=i;function O(e){let t={pick_a_setting:\"Pick a Setting\",always_online:\"Always Online\",minify:\"Auto Minify\",browser_cache_ttl:\"Browser Cache TTL\",browser_check:\"Browser Integrity Check\",bypass_cache_on_cookie:\"Bypass Cache on Cookie\",cache_by_device_type:\"Cache By Device Type\",cache_deception_armor:\"Cache Deception Armor\",cache_level:\"Cache Level\",cache_on_cookie:\"Cache on Cookie\",disable_apps:\"Disable Apps\",disable_performance:\"Disable Performance\",disable_security:\"Disable Security\",edge_cache_ttl:\"Edge Cache TTL\",email_obfuscation:\"Email Obfuscation\",forwarding_url:\"Forwarding URL\",host_header_override:\"Host Header Override\",ip_geolocation:\"IP Geolocation Header\",mirage:\"Mirage\",explicit_cache_control:\"Origin Cache Control\",origin_error_page_pass_thru:\"Origin Error Page Pass-thru\",polish:\"Polish\",sort_query_string_for_cache:\"Query String Sort\",resolve_override:\"Resolve Override\",respect_strong_etag:\"Respect Strong ETags\",response_buffering:\"Response Buffering\",rocket_loader:\"Rocket Loader\",security_level:\"Security Level\",server_side_exclude:\"Server Side Excludes\",ssl:\"SSL\",true_client_ip_header:\"True Client IP Header\",waf:\"Web Application Firewall\",status_code:\"Status Code\",url:\"Url\",html:\"HTML\",js:\"JS\",css:\"CSS\"};return e in t?t[e]:\"Undefined\"}function H(e=!1,t=[]){var i=A(\"<div class='cloudflare-font delete' >\").html(\"&#xF01A;\"),n=A(\"<div class='dynamic_wrapper collection' >\").append(E.createSelect(\"setting\",[{label:\"Pick a Setting\",value:\"pick_a_setting\",disabled:!0,selected:!0},{label:O(\"always_online\"),value:\"always_online\"},{label:O(\"minify\"),value:\"minify\"},{label:O(\"browser_cache_ttl\"),value:\"browser_cache_ttl\"},{label:O(\"browser_check\"),value:\"browser_check\"},{label:O(\"bypass_cache_on_cookie\"),value:\"bypass_cache_on_cookie\"},{label:O(\"cache_by_device_type\"),value:\"cache_by_device_type\"},{label:O(\"cache_deception_armor\"),value:\"cache_deception_armor\"},{label:O(\"cache_level\"),value:\"cache_level\"},{label:O(\"cache_on_cookie\"),value:\"cache_on_cookie\"},{label:O(\"disable_apps\"),value:\"disable_apps\"},{label:O(\"disable_performance\"),value:\"disable_performance\"},{label:O(\"disable_security\"),value:\"disable_security\"},{label:O(\"edge_cache_ttl\"),value:\"edge_cache_ttl\"},{label:O(\"email_obfuscation\"),value:\"email_obfuscation\"},{label:O(\"forwarding_url\"),value:\"forwarding_url\",disabled:e},{label:O(\"host_header_override\"),value:\"host_header_override\"},{label:O(\"ip_geolocation\"),value:\"ip_geolocation\"},{label:O(\"mirage\"),value:\"mirage\"},{label:O(\"explicit_cache_control\"),value:\"explicit_cache_control\"},{label:O(\"origin_error_page_pass_thru\"),value:\"origin_error_page_pass_thru\"},{label:O(\"polish\"),value:\"polish\"},{label:O(\"sort_query_string_for_cache\"),value:\"sort_query_string_for_cache\"},{label:O(\"resolve_override\"),value:\"resolve_override\"},{label:O(\"respect_strong_etag\"),value:\"respect_strong_etag\"},{label:O(\"response_buffering\"),value:\"response_buffering\"},{label:O(\"rocket_loader\"),value:\"rocket_loader\"},{label:O(\"security_level\"),value:\"security_level\"},{label:O(\"server_side_exclude\"),value:\"server_side_exclude\"},{label:O(\"ssl\"),value:\"ssl\"},{label:O(\"true_client_ip_header\"),value:\"true_client_ip_header\"},{label:O(\"waf\"),value:\"waf\"}]).addClass(\"dynamic-trigger\").val(t.length>0?t[0]:\"pick_a_setting\")).append(A('<div data-dynamic-wrapper=\"always_online\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"minify\" >').append('<label class=\"text\" >HTML</label>').append(E.createSwitch(\"html\")).append('<label class=\"text\" >CSS</label>').append(E.createSwitch(\"css\")).append('<label class=\"text\" >JS</label>').append(E.createSwitch(\"js\"))).append(A('<div data-dynamic-wrapper=\"browser_cache_ttl\" >').html(E.createSelect(\"value\",[{label:\"Enable Browser Cache TTL\",value:\"\",selected:!0,disabled:!0},{label:\"30 minutes\",value:1800},{label:\"an hour\",value:3600},{label:\"2 hours\",value:7200},{label:\"3 hours\",value:10800},{label:\"4 hours\",value:14400},{label:\"5 hours\",value:18e3},{label:\"8 hours\",value:28800},{label:\"12 hours\",value:43200},{label:\"16 hours\",value:57600},{label:\"20 hours\",value:72e3},{label:\"a day\",value:86400},{label:\"2 days\",value:172800},{label:\"3 days\",value:259200},{label:\"4 days\",value:345600},{label:\"5 days\",value:432e3},{label:\"8 days\",value:691200},{label:\"16 days\",value:1382400},{label:\"24 days\",value:2073600},{label:\"a month\",value:2678400},{label:\"2 months\",value:5356800},{label:\"6 months\",value:16070400},{label:\"a year\",value:31536e3}]))).append(A('<div data-dynamic-wrapper=\"browser_check\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"bypass_cache_on_cookie\" >').append(E.createInput(\"text\",\"value\",\"Enter Value\"))).append(A('<div data-dynamic-wrapper=\"cache_by_device_type\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"cache_deception_armor\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"cache_level\" >').append(E.createSelect(\"value\",[{label:\"Select Cache Level\",value:\"\",disabled:!0,selected:!0},{label:\"Bypass\",value:\"bypass\"},{label:\"No Query String\",value:\"basic\"},{label:\"Ignore Query String\",value:\"simplified\"},{label:\"Standard\",value:\"aggressive\"},{label:\"Cache Everything\",value:\"cache_everything\"}]))).append(A('<div data-dynamic-wrapper=\"cache_on_cookie\" >').append(E.createInput(\"text\",\"value\",\"Enter Value\"))).append(A('<div data-dynamic-wrapper=\"disable_apps\" >').html(\"<p>Apps are disabled</p>\")).append(A('<div data-dynamic-wrapper=\"disable_performance\" >').html(\"<p>Performance is disabled</p>\")).append(A('<div data-dynamic-wrapper=\"disable_security\" >').html(\"<p>Security is disabled</p>\")).append(A('<div data-dynamic-wrapper=\"edge_cache_ttl\" >').html(E.createSelect(\"value\",[{label:\"Enter Edge Cache TTL\",value:\"\",selected:!0,disabled:!0},{label:\"2 hours\",value:7200},{label:\"3 hours\",value:10800},{label:\"4 hours\",value:14400},{label:\"5 hours\",value:18e3},{label:\"8 hours\",value:28800},{label:\"12 hours\",value:43200},{label:\"16 hours\",value:57600},{label:\"20 hours\",value:72e3},{label:\"a day\",value:86400},{label:\"2 days\",value:172800},{label:\"3 days\",value:259200},{label:\"4 days\",value:345600},{label:\"5 days\",value:432e3},{label:\"6 days\",value:518400},{label:\"7 days\",value:604800},{label:\"14 days\",value:1209600},{label:\"a month\",value:2419200}]))).append(A('<div data-dynamic-wrapper=\"email_obfuscation\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"forwarding_url\" >').html(E.createSelect(\"status_code\",[{label:\"Select Status Code\",value:\"\",disabled:!0,selected:!0},{label:\"301 - Permanent Redirect\",value:301},{label:\"302 - Temporary Redirect\",value:302}])).append(E.createInput(\"text\",\"url\",\"Enter destination URL\"))).append(A('<div data-dynamic-wrapper=\"host_header_override\" >').append(E.createInput(\"text\",\"value\",\"Enter Value\"))).append(A('<div data-dynamic-wrapper=\"ip_geolocation\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"mirage\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"explicit_cache_control\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"origin_error_page_pass_thru\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"polish\" >').append(E.createSelect(\"value\",[{label:\"Select Value\",value:\"\",disabled:!0,selected:!0},{label:\"Off\",value:\"off\"},{label:\"Lossless\",value:\"lossless\"},{label:\"Lossy\",value:\"lossy\"}]))).append(A('<div data-dynamic-wrapper=\"sort_query_string_for_cache\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"resolve_override\" >').append(E.createInput(\"text\",\"value\",\"Enter Value\"))).append(A('<div data-dynamic-wrapper=\"respect_strong_etag\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"response_buffering\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"rocket_loader\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"security_level\" >').html(E.createSelect(\"value\",[{label:\"Select Security Level\",value:\"\",disabled:!0,selected:!0},{label:\"Essentially Off\",value:\"essentially_off\"},{label:\"Low\",value:\"low\"},{label:\"Medium\",value:\"medium\"},{label:\"High\",value:\"high\"},{label:\"I'm Under Attack\",value:\"under_attack\"}]))).append(A('<div data-dynamic-wrapper=\"server_side_exclude\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"ssl\" >').html(E.createSelect(\"value\",[{label:\"Select SSL Setting\",value:\"\",disabled:!0,selected:!0},{label:\"Off\",value:\"off\"},{label:\"Flexible\",value:\"flexible\"},{label:\"Full\",value:\"full\"},{label:\"Strict\",value:\"strict\"}]))).append(A('<div data-dynamic-wrapper=\"true_client_ip_header\" >').append(E.createSwitch(\"value\"))).append(A('<div data-dynamic-wrapper=\"waf\" >').append(E.createSwitch(\"value\"))).append(i.click((()=>{A(i).parent().remove()})));if(t.length>0&&(A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).addClass(\"active\"),t.length>1)){let e=A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"input,[name='value']\"),i=t[1];\"forwarding_url\"==t[0]?(A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"[name='status_code']\").val(t[1]),A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"[name='url']\").val(t[2])):\"minify\"==t[0]?(A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"[name='html']\").prop(\"checked\",\"on\"==t[1].html),A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"[name='css']\").prop(\"checked\",\"on\"==t[1].css),A(n).find(`[data-dynamic-wrapper=\"${t[0]}\"]`).find(\"[name='js']\").prop(\"checked\",\"on\"==t[1].js)):\"on\"!=i&&\"off\"!=i||\"ssl\"==t[0]||\"rocket_loader\"==t[0]?A(e).val(i):A(e).prop(\"checked\",\"on\"==i)}return n}E={Modal:function(e=!1){const t=function(e){let t=z(\"<div class='container' >\");return e&&\"boolean\"!=typeof e?z(t).css({width:e+\"px\"}):e&&z(t).css({width:\"630px\"}),{modal:z(\"<div class='cloudflare_modal' >\"),container:t,close:z(\"<div class='close cloudflare-font' >\").html(\"&#xF01A\")}}(e);return function(e){z(e.close).on(\"click\",(function(){z(e.modal).removeClass(\"active\"),setTimeout((function(){z(e.modal).remove()}),1e3)}))}(t),{components:t,addTitle:(e,i=\"\")=>{let n=z(\"<div class='title' >\");z(t.container).append(n.html(e)),\"\"!==i.trim()&&z(n).append(z(\"<div class='sub-title' >\").text(i))},addRow:(e,i,n=!1)=>{let s=z(\"<div class='row' >\");n&&z(s).addClass(\"tight\"),s.append(z(\"<div class='label' >\").html(e)),s.append(z(\"<div class='element' >\").html(i)),z(t.container).append(s)},addButton:e=>{\"buttonsContainer\"in t||(t.buttonsContainer=z(\"<div class='buttons' >\"),z(t.container).append(t.buttonsContainer));var i=z(`<input type=\"button\" class=\"${e.class}\" value=\"${e.label}\" />`);\"callback\"in e&&z(i).on(\"click\",e.callback.bind(null,t)),z(t.buttonsContainer).append(i)},addElement:e=>{z(t.container).append(e)},close:()=>{z(\".cloudflare_modal\").removeClass(\"active\"),setTimeout((function(){z(t.modal).remove()}),1e3)},show:()=>{z(\"*\").blur(),function(e){z(\"body\").append(e.modal.append(e.container.append(e.close)))}(t),setTimeout((function(){z(t.modal).addClass(\"active\"),z(t.modal).find(\"input,textarea,select\").first().focus()}),200)}}},confirm:function(){var e=z(\"<div class='cloudflare_modal' >\"),t=z(\"<div class='container' >\"),i=z(\"<div class='close' >\");z(i).on(\"click\",(function(){z(\".cloudflare_modal\").removeClass(\"active\"),setTimeout((function(){z(e).remove()}),1e3)})),z(\"body\").append(e.append(t.append(i))),setTimeout((function(){z(e).addClass(\"active\")}),200)},createInput:function(e=\"text\",t,i=\"\",n=\"\"){return z(`<input type=\"${e}\" name=\"${t}\" placeholder=\"${i}\" value=\"${n}\" />`)},createSelect:function(e,t,i=!1){let n=z(`<select name='${e}' ${i?\"multiple\":\"\"} >`);return t=t.map((e=>{var t=new Option(e.label,e.value);return e.selected&&z(t).prop(\"selected\",!0),e.disabled&&z(t).prop(\"disabled\",!0),t})),z(n).append(t),n},createRows:function(){let e=z(\"<div class='rows' >\");for(let t in arguments)z(e).append(arguments[t]);return e},createRow:function(e,t){return z(\"<div class='row tight' >\").html(z(\"<div class='label' >\").text(e)).append(t)},createTextarea:function(e,t=\"\",i=\"\"){return z(`<textarea name=\"${e}\" placeholder=\"${t}\" >`).text(i)},createSwitch:function(e,t=!1){return z('<label class=\"switch\" >').append(z(`<input type=\"checkbox\" name=\"${e}\" >`).prop(\"checked\",t)).append(z('<span class=\"knob\" >'))},createIconButton:function(e,t){return z(`<div class=\"icon-button cloudflare-font ${e}\" >`).html(t)}},A(document).on(\"cloudflare.page_rules.page_rules.initialize\",(function(e,t){let i=t.response.result.length,n=t.response.entitlements.allocation.value;i<n?(A(t.section).find(\"#rules_left\").text(n-i),A(t.section).find(\"#action\").addClass(\"trigger\").val(\"Create Page Rule\").off(\"click\")):(A(t.section).find(\"#rules_left\").text(\"0\"),A(t.section).find(\"#action\").removeClass(\"trigger\").val(\"Buy More Page Rules\").on(\"click\",(()=>{window.open(\"https://support.cloudflare.com/hc/en-us/articles/225894428-How-To-Buy-Additional-Page-Rules\",\"_blank\")})));var a=A(t.section).find(\"table.rules\");A(a).find(\"tbody > tr\").remove(),A(t.section).data(\"rules\",t.response.result),t.response.result.length>0?(t.response.result.sort(((e,t)=>t.priority-e.priority)).map(((e,t)=>{var i;A(a).find(\"tbody\").append(A(\"<tr>\").data(\"rule\",e).append(A(\"<td class='handle' >\").html(\"&#xF000; &#xF001;\")).append(A(\"<td>\").text(t+1).css(\"min-width\",\"initial\")).append(A(\"<td class='no_white_space' >\").text(e.targets[0].constraint.value).append(A(\"<span>\").text(e.actions.map((e=>{let t=O(e.id),i=\"\";if(e.value&&e.value instanceof Object){i=\": (\";let t=\"\";for(let n in e.value)i+=t+O(n)+\": \"+e.value[n],t=\", \";i+=\")\"}else e.value&&(i=\": \"+(n=e.value,(n+=\"\").charAt(0).toUpperCase()+n.slice(1)));var n;return t+i})).join(\", \")))).append(A(\"<td>\").append((i=E.createSwitch(\"status\",\"active\"==e.status),A(i).find(\"input\").addClass(\"trigger\").data(\"target\",\"toggle\").data(\"id\",e.id),i)).append(E.createIconButton(\"edit\",\"&#xF019;\").addClass(\"trigger\").data(\"target\",\"edit\").data(\"data\",e).css(\"display\",\"inline-block\")).append(E.createIconButton(\"delete\",\"&#xF01A;\").addClass(\"trigger\").data(\"target\",\"delete\").data(\"id\",e.id).css(\"display\",\"inline-block\"))))})),A(a).find(\"tbody\").sortable({handle:\".handle\",helper:(e,t)=>(t.children().each((()=>{A(this).width(A(this).width())})),t),stop:(e,i)=>{i.item.parent().find(\"tr\").each(((e,t)=>{A(t).find(\"td\").eq(1).text(e+1)}));var n=A(a).find(\"tbody > tr\").toArray().reverse().map(((e,t)=>({id:A(e).data(\"rule\").id,priority:t+1})));A.ajax({url:A(t.section).data(\"endpoint\").replace(/(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/,\"$1priority$3\"),type:\"POST\",data:{form_key:A(t.section).data(\"form-key\"),priorities:n},success:function(e){s.showMessages(e)}})}})):A(a).find(\"tbody\").append(A(\"<tr>\").append(A(\"<td colspan='6' >\").text(\"You do not have any Page Rules yet. Click 'Create Page Rule' above to get started.\")))})),A(document).on(\"cloudflare.page_rules.page_rules.toggle\",(function(e,t){var i=t.trigger.data(\"id\"),n=A(t.trigger).is(\":checked\");A(t.section).addClass(\"loading\"),A.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,state:n,id:i},success:function(e){A(t.section).removeClass(\"loading\"),s.showMessages(e)}})})),A(document).on(\"cloudflare.page_rules.page_rules.delete\",(function(e,t){var i=new E.Modal;i.addTitle(\"Confirm\"),i.addElement(A(\"<p>\").text(\"Are you sure you want to delete this page rule?\")),i.addButton({label:\"OK\",callback:e=>{i.close();var n=t.trigger.data(\"id\");A(t.section).addClass(\"loading\"),A.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n},success:function(e){s.showMessages(e),d.loadSections(\".page_rules\")}})}}),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.show()})),A(document).on(\"cloudflare.page_rules.page_rules.edit\",(function(e,t){var i=A(t.trigger).data(\"data\"),n=new E.Modal(800),a=A('<div class=\"collections\" >');n.addTitle(\"Edit Page Rule for \"+h.getDomainName(),A(this).val()),n.addRow(A(\"<p>\").append(A(\"<strong>\").text(\"If the URL matches: \")).append(\"By using the asterisk (*) character, you can create dynamic patterns that can match many URLs, rather than just one. \").append(A('<a href=\"https://support.cloudflare.com/hc/en-us/articles/218411427\" target=\"_blank\" >').text(\"Learn more here\")),E.createInput(\"text\",\"target\",\"Example: www.example.com/*\").val(i.targets[0].constraint.value),!0),i.actions.map((e=>{var t=[e.value];\"forwarding_url\"==e.id&&(t=[e.value.status_code,e.value.url]),a.append(H(!1,[e.id].concat(t)))})),n.addRow(A(\"<p>\").append(A(\"<strong>\").text(\"Then the settings are:\")),[a,A('<a class=\"dashed\" >').text(\"+ Add a Setting\").click((()=>{var e=A(a).find(\".collection\").length>0;A(a).append(H(e))}))],!0);var o=(e,a)=>{var o=A(e.container).find(\"[name='target']\").val(),r=A.makeArray(A(e.container).find(\".collections > .collection\").map(((e,t)=>{var i=A(t).find(\"[name='setting']\").val(),n=A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='value']\").eq(0);return n=A(n).is(\":checkbox\")?A(n).is(\":checked\")?\"on\":\"off\":A(n).val(),\"forwarding_url\"==i&&(n={url:A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='url']\").eq(0).val(),status_code:A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='status_code']\").eq(0).val()}),\"minify\"==i&&(n={html:A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='html']\").eq(0).is(\":checked\")?\"on\":\"off\",css:A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='css']\").eq(0).is(\":checked\")?\"on\":\"off\",js:A(t).find(\"[data-dynamic-wrapper='\"+i+\"']\").find(\"[name='js']\").eq(0).is(\":checked\")?\"on\":\"off\"}),{id:i,value:n}})));A(e.modal).addClass(\"loading\"),A.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,target:o,actions:r,status:a,id:i.id},success:function(i){i.success?(n.close(),A(e.modal).removeClass(\"loading\"),A(t.section).addClass(\"loading\"),d.loadSections(\".page_rules\")):(A(e.modal).removeClass(\"loading\"),s.showMessages(i))}})};n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.addButton({label:\"Save as Draft\",class:\"gray\",callback:e=>{o(e,!1)}}),n.addButton({label:\"Save and Deploy\",callback:e=>{o(e,!0)}}),n.show()})),A(document).on(\"cloudflare.page_rules.page_rules.create\",(function(e,t){var i=t.section,n=new E.Modal(800),a=A('<div class=\"collections\" >');if(n.addTitle(\"Create a Page Rule for \"+h.getDomainName(),A(this).val()),n.addRow(A(\"<p>\").append(A(\"<strong>\").text(\"If the URL matches: \")).append(\"By using the asterisk (*) character, you can create dynamic patterns that can match many URLs, rather than just one. \").append(A('<a href=\"https://support.cloudflare.com/hc/en-us/articles/218411427\" target=\"_blank\" >').text(\"Learn more here\")),E.createInput(\"text\",\"target\",\"Example: www.example.com/*\"),!0),n.addRow(A(\"<p>\").append(A(\"<strong>\").text(\"Then the settings are:\")),[a.append(H()),A('<a class=\"dashed\" >').text(\"+ Add a Setting\").click((()=>{var e=A(a).find(\".collection\").length>0;A(a).append(H(e))}))],!0),A(i).data(\"rules\").length>0){var o=A(i).data(\"rules\").sort(((e,t)=>t.priority-e.priority)).map((e=>({label:e.targets[0].constraint.value,value:e.priority})));o=[{label:\"Select which Page Rule this will fire after\",value:1,selected:!0,disabled:!0}].concat(o),n.addRow(A(\"<p>\").append(A(\"<strong>\").text(\"Order: \")).append(\"This is the order in which your Page Rules will be triggered. Only one Page Rule will trigger per URL, so put your most specific Page Rules at the top.\"),[E.createSelect(\"order\",[{label:\"First\",value:\"first\",selected:!0},{label:\"Last\",value:\"last\"},{label:\"Custom\",value:\"custom\"}]).on(\"change\",(e=>{\"custom\"===A(e.target).val()?A(e.target).next().show():A(e.target).next().hide()})),E.createSelect(\"custom\",o).hide()],!0)}var r=(e,a)=>{var o=A(e.container).find(\"[name='target']\").val(),r=A.makeArray(A(e.container).find(\".collections > .collection\").map(((t,i)=>{var n=A(i).find(\"[name='setting']\").val(),s=A(e.container).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='value']\").eq(0);return s=A(s).is(\":checkbox\")?A(s).is(\":checked\")?\"on\":\"off\":A(s).val(),\"forwarding_url\"==n&&(s={url:A(e.container).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='url']\").eq(0).val(),status_code:A(e.container).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='status_code']\").eq(0).val()}),\"minify\"==n&&(s={html:A(i).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='html']\").eq(0).val(),css:A(i).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='css']\").eq(0).val(),js:A(i).find(\"[data-dynamic-wrapper='\"+n+\"']\").find(\"[name='js']\").eq(0).val()}),{id:n,value:s}})));A(e.modal).addClass(\"loading\");A.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,target:o,actions:r,status:a,priority:(()=>{var t=1;if(A(i).data(\"rules\").length>0){let n=A(e.container).find(\"[name='order']\").val();\"custom\"===n?t=A(e.container).find(\"[name='custom']\").val():\"last\"==n&&(t=A(i).data(\"rules\").length+1)}return t})()},success:function(i){i.success?(n.close(),A(e.modal).removeClass(\"loading\"),A(t.section).addClass(\"loading\"),d.loadSections(\".page_rules\")):(A(e.modal).removeClass(\"loading\"),s.showMessages(i))}})};n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.addButton({label:\"Save as Draft\",class:\"gray\",callback:e=>{r(e,!1)}}),n.addButton({label:\"Save and Deploy\",callback:e=>{r(e,!0)}}),n.show()})),A(document).on(\"change\",\".cloudflare_modal .collection [name='setting']\",(function(){\"forwarding_url\"==A(this).val()?A(\".cloudflare_modal a.dashed\").hide():A(\".cloudflare_modal a.dashed\").show()}));window.$=window.jQuery=A;const j=jQuery=jquery=i;j(document).on(\"cloudflare.network.websockets.initialize\",f.initialize),j(document).on(\"cloudflare.network.websockets.toggle\",f.toggle);const N=jQuery=jquery=i;N(document).on(\"cloudflare.network.maximum_upload_size.initialize\",_.initialize),N(document).on(\"cloudflare.network.maximum_upload_size.update\",_.update);const L=jQuery=jquery=i;L(document).on(\"cloudflare.network.pseudo_ipv4.initialize\",_.initialize),L(document).on(\"cloudflare.network.pseudo_ipv4.update\",_.update);const R=jQuery=jquery=i;R(document).on(\"cloudflare.network.true_client_ip_header.initialize\",f.initialize),R(document).on(\"cloudflare.network.true_client_ip_header.toggle\",f.toggle);const W=jQuery=jquery=i;W(document).on(\"cloudflare.network.response_buffering.initialize\",f.initialize),W(document).on(\"cloudflare.network.response_buffering.toggle\",f.toggle);const q=jQuery=jquery=i;q(document).on(\"cloudflare.network.http_2.initialize\",f.initialize),q(document).on(\"cloudflare.network.http_2.toggle\",f.toggle);const F=jQuery=jquery=i;F(document).on(\"cloudflare.network.ip_geolocation.initialize\",f.initialize),F(document).on(\"cloudflare.network.ip_geolocation.toggle\",f.toggle);const B=jQuery=jquery=i;B(document).on(\"cloudflare.network.onion_routing.initialize\",f.initialize),B(document).on(\"cloudflare.network.onion_routing.toggle\",f.toggle);const U=jQuery=jquery=i;U(document).on(\"cloudflare.network.http_3.initialize\",f.initialize),U(document).on(\"cloudflare.network.http_3.toggle\",f.toggle);const Y=jQuery=jquery=i;Y(document).on(\"cloudflare.network.ipv6_compatibility.initialize\",f.initialize),Y(document).on(\"cloudflare.network.ipv6_compatibility.toggle\",f.toggle);const V=jQuery=jquery=i;V(document).on(\"cloudflare.network.zero_rtt_connection_resumption.initialize\",f.initialize),V(document).on(\"cloudflare.network.zero_rtt_connection_resumption.toggle\",f.toggle);const Q=jQuery=jquery=i;Q(document).on(\"cloudflare.network.grpc.initialize\",f.initialize),Q(document).on(\"cloudflare.network.grpc.toggle\",f.toggle);const K=jQuery=jquery=i;K(document).on(\"cloudflare.network.http_2_to_origin.initialize\",f.initialize),K(document).on(\"cloudflare.network.http_2_to_origin.toggle\",f.toggle);const X=jQuery=jquery=i;function G(e){let t=X(e).data(\"result\")||[];t=function(e,t){let i=(e+\"\").toLowerCase().trim();return t.filter((e=>(e.notes+\"\").toLowerCase().indexOf(i)>-1||(e.configuration.value+\"\").toLowerCase().indexOf(i)>-1))}(X(e).find(\".search\").val(),t),t=function(e,t){let i=X(e).find(\".sort-asc, sort-desc\");if(i.length>0){let e=(e,t)=>t.reduce(((e,t)=>e[t]),e),n=X(i).data(\"sort\").split(\".\");t=t.sort(((t,s)=>{let a=(e(t,n)+\"\").toLowerCase(),o=(e(s,n)+\"\").toLowerCase();return X(i).hasClass(\"sort-desc\")?a>o?-1:a<o?1:0:a<o?-1:a>o?1:0}))}return t}(e,t);let i=X(e).find(\"table > tbody\");X(e).data(\"item-count\",t.length);let n=X(e).data(\"item-count\"),s=X(e).data(\"page\"),a=X(e).data(\"page-size\"),o=Math.ceil(n/a),r=a*(s-1)+1;0==n&&(r=0);let l=Math.min(a*s,n);X(e).find(\".pagination_container .pages\").html(\"\"),X(e).find(\".pagination_container .showing\").html(`${r} - ${l} of ${n} rules`);let c=X(e).find(\".pagination_container .pages\"),d=e=>X('<span class=\"page\" >').addClass(e==s?\"\":\"trigger\").addClass(e==s?\"current\":\"\").data(\"target\",\"page\").data(\"page\",e).text(e);if(o>7){X(c).append(d(1)),o>7&&s>4&&X(c).append(X(\"<span>\").text(\"...\"));let e=Math.max(2,s-3),t=Math.min(o-1,s+3);s-4<0&&(t+=Math.abs(s-4)),s+3>o&&(e-=s+3-o),o<=7&&s<4&&(t-=1),o<=7&&s>4&&(e+=1);for(let i=e;i<=t;i++)X(c).append(d(i));o>7&&s<o-3&&X(c).append(X(\"<span>\").text(\"...\")),X(c).append(d(o))}else for(let e=1;e<=o;e++)X(c).append(d(e));1==s?X(e).find(\".previous\").addClass(\"disabled\"):X(e).find(\".previous\").removeClass(\"disabled\"),s==o?X(e).find(\".next\").addClass(\"disabled\"):X(e).find(\".next\").removeClass(\"disabled\"),X(i).html(\"\");for(let e=0;e<t.length;e++)if(e>=(s-1)*a&&e<s*a){let n=t[e];X(i).append(X(\"<tr>\").append(X(\"<td>\").text(n.configuration.value).append(X(\"<span>\").text(n.notes)).css({width:\"100%\"})).append(X(\"<td>\").text(\"This website\")).append(X(\"<td>\").css(\"display\",\"flex\").html(E.createSelect(\"mode\",[{label:\"Block\",value:\"block\",selected:\"block\"==n.mode},{label:\"Challenge\",value:\"challenge\",selected:\"challenge\"==n.mode},{label:\"Whitelist\",value:\"whitelist\",selected:\"whitelist\"==n.mode},{label:\"JavaScript Challenge\",value:\"js_challenge\",selected:\"js_challenge\"==n.mode}]).css({minWidth:\"200px\"}).addClass(\"trigger-select\").data(\"target\",\"mode\").data(\"id\",n.id)).append(E.createIconButton(\"trigger edit\",\"&#xF013;\").data(\"id\",n.id).data(\"note\",n.notes).data(\"target\",\"edit\")).append(E.createIconButton(\"trigger delete\",\"&#xF01A;\").data(\"id\",n.id).data(\"target\",\"delete\"))))}0==t.length&&X(i).append(X(\"<tr>\").append(X(\"<td colspan='6' >\").text(\"No access rules found.\")))}X(document).on(\"cloudflare.firewall.access_rules.initialize\",(function(e,t){X(t.section).data(\"result\",t.response.result),G(t.section),X(t.section).removeClass(\"loading\")})),X(document).on(\"cloudflare.firewall.access_rules.sort\",(function(e,t){X(t.section).data(\"page\",1),X(t.section).data(\"sort\",X(t.trigger).data(\"sort\")),X(t.trigger).hasClass(\"sort-asc\")?(X(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),X(t.trigger).removeClass(\"sort-asc\").addClass(\"sort-desc\"),X(t.section).data(\"direction\",\"desc\")):X(t.trigger).hasClass(\"sort-desc\")?(X(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),X(t.trigger).removeClass(\"sort-asc\").removeClass(\"sort-desc\"),X(t.section).data(\"direction\",\"\")):(X(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),X(t.trigger).addClass(\"sort-asc\"),X(t.section).data(\"direction\",\"asc\")),G(t.section)})),X(document).on(\"cloudflare.firewall.access_rules.search\",(function(e,t){X(t.section).data(\"page\",1);let i=X(t.section).find(\"table > tbody\");X(i).children().remove(),G(t.section)})),X(document).on(\"cloudflare.firewall.access_rules.add\",(function(e,t){X(t.section).addClass(\"loading\");var i=X(t.section).find(\"[name='value']\").val(),n=X(t.section).find(\"[name='mode']\").val(),a=X(t.section).find(\"[name='note']\").val(),o=\"\";switch(!0){case/^[a-z]{2}$/i.test(i):o=\"country\";break;case/AS[0-9]+/.test(i):o=\"asn\";break;case/\\//.test(i):o=\"ip_range\";break;default:o=\"ip\"}X.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,target:o,value:i,mode:n,note:a},success:function(e){s.showMessages(e),X(t.section).addClass(\"loading\"),X(t.section).find(\"[name='value']\").val(\"\"),X(t.section).find(\"[name='mode']\").val(\"block\"),X(t.section).find(\"[name='note']\").val(\"\"),d.loadSections(\".access_rules\")}}),d.loadSections(\".access_rules\")})),X(document).on(\"cloudflare.firewall.access_rules.delete\",(function(e,t){var i=new E.Modal;i.addTitle(\"Confirm\"),i.addElement(X(\"<p>\").text(\"Are you sure you want to delete this rule?\")),i.addButton({label:\"OK\",callback:e=>{i.close(),X(t.section).addClass(\"loading\");var n=X(t.trigger).data(\"id\");X.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n},success:function(e){s.showMessages(e),d.loadSections(\".access_rules\")}})}}),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.show()})),X(document).on(\"cloudflare.firewall.access_rules.mode\",(function(e,t){X(t.section).addClass(\"loading\");var i=X(t.trigger).data(\"id\"),n=X(t.trigger).val();X.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:i,mode:n},success:function(e){s.showMessages(e),d.loadSections(\".access_rules\")}})})),X(document).on(\"cloudflare.firewall.access_rules.edit\",(function(e,t){let i=E.createTextarea(\"notes\",\"\",X(t.trigger).data(\"note\")).css({margin:\"22.5px 22.5px 0 22.5px\",width:\"calc(100% - 45px)\",fontSize:\"1.1em\"}),n=new E.Modal(800);n.addTitle(\"Edit notes\"),n.addElement(i),n.addButton({label:\"Close\",class:\"gray\",callback:n.close}),n.addButton({label:\"Save\",callback:e=>{n.close(),X(t.section).addClass(\"loading\"),X.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:X(t.trigger).data(\"id\"),note:i.val()},success:function(e){s.showMessages(e),d.loadSections(\".access_rules\")}})}}),n.show()})),X(document).on(\"cloudflare.firewall.access_rules.page\",(function(e,t){X(t.section).data(\"page\",X(t.trigger).data(\"page\")),G(t.section)})),X(document).on(\"cloudflare.firewall.access_rules.next_page\",(function(e,t){X(t.section).data(\"page\")+1<=Math.ceil(X(t.section).data(\"item-count\")/X(t.section).data(\"page-size\"))&&(X(t.section).data(\"page\",X(t.section).data(\"page\")+1),G(t.section))})),X(document).on(\"cloudflare.firewall.access_rules.previous_page\",(function(e,t){X(t.section).data(\"page\")-1>0&&(X(t.section).data(\"page\",X(t.section).data(\"page\")-1),G(t.section))}));const J=jQuery=jquery=i;J(document).on(\"cloudflare.firewall.bot_management.initialize\",f.initializeCustom(\"enabled\",!0)),J(document).on(\"cloudflare.firewall.bot_management.toggle\",f.toggle);const Z=jQuery=jquery=i;Z(document).on(\"cloudflare.firewall.bot_fight_mode.initialize\",f.initializeCustom(\"fight_mode\",!0)),Z(document).on(\"cloudflare.firewall.bot_fight_mode.toggle\",f.toggle);const ee=jQuery=jquery=i;ee(document).on(\"cloudflare.firewall.challenge_passage.initialize\",_.initialize),ee(document).on(\"cloudflare.firewall.challenge_passage.update\",_.update);const te=jQuery=jquery=i;function ie(e){let t=te(e).data(\"result\")||[],i=te(e).find(\"table > tbody\");te(e).data(\"item-count\",t.length);let n=te(e).data(\"item-count\"),s=te(e).data(\"page\"),a=te(e).data(\"page-size\"),o=Math.ceil(n/a),r=a*(s-1)+1;0==n&&(r=0);let l=Math.min(a*s,n);te(e).find(\".pagination_container .pages\").html(\"\"),te(e).find(\".pagination_container .showing\").html(`${r} - ${l} of ${n} rules`);let c=te(e).find(\".pagination_container .pages\"),d=e=>te('<span class=\"page\" >').addClass(e==s?\"\":\"trigger\").addClass(e==s?\"current\":\"\").data(\"target\",\"page\").data(\"page\",e).text(e);if(o>7){te(c).append(d(1)),o>7&&s>4&&te(c).append(te(\"<span>\").text(\"...\"));let e=Math.max(2,s-3),t=Math.min(o-1,s+3);s-4<0&&(t+=Math.abs(s-4)),s+3>o&&(e-=s+3-o),o<=7&&s<4&&(t-=1),o<=7&&s>4&&(e+=1);for(let i=e;i<=t;i++)te(c).append(d(i));o>7&&s<o-3&&te(c).append(te(\"<span>\").text(\"...\")),te(c).append(d(o))}else for(let e=1;e<=o;e++)te(c).append(d(e));1==s?te(e).find(\".previous\").addClass(\"disabled\"):te(e).find(\".previous\").removeClass(\"disabled\"),s==o?te(e).find(\".next\").addClass(\"disabled\"):te(e).find(\".next\").removeClass(\"disabled\"),te(i).html(\"\");for(let e=0;e<t.length;e++)if(e>=(s-1)*a&&e<s*a){let n=t[e];te(i).append(ne(n))}0==t.length&&te(i).append(te(\"<tr>\").append(te(\"<td colspan='2' >\").text(\"You currently have no User Agent Blocking rules. Please click on 'Create Blocking Rule' to get started.\")))}function ne(e){let t=E.createSwitch(\"state\",!e.paused).css(\"margin\",\"auto 15px auto 22px\");return te(t).find(\"input\").addClass(\"trigger\").data(\"target\",\"toggle\").data(\"entry\",e),te(\"<tr>\").append(te(\"<td>\").append(te(\"<b>\").text(e.description).css({\"text-overflow\":\"ellipsis\",overflow:\"hidden\"})).append(te(\"<span>\").text(e.configuration.value).css({\"text-overflow\":\"ellipsis\",overflow:\"hidden\"})).css({width:\"100%\",\"max-width\":\"100px\"})).append(te(\"<td>\").append(E.createSelect(\"mode\",[{label:\"Block\",value:\"block\"},{label:\"Challenge\",value:\"challenge\"},{label:\"JavaScript Challenge\",value:\"js_challenge\"}]).val(e.mode).css(\"width\",\"auto\").addClass(\"trigger-select\").data(\"target\",\"mode\").data(\"entry\",e)).append(t).append(E.createIconButton(\"trigger edit\",\"&#xF019;\").css(\"display\",\"inline-block\").addClass(\"trigger\").data(\"target\",\"edit\").data(\"entry\",e)).append(E.createIconButton(\"trigger delete\",\"&#xF01A;\").css(\"display\",\"inline-block\").addClass(\"trigger\").data(\"target\",\"delete\").data(\"entry\",e)))}function se(e=!1,t=!1,i=!1){let n=new E.Modal(600),s=E.createInput(\"text\",\"name\",\"Example: Block Internet Explorer 6 browsers\",e||\"\"),a=E.createTextarea(\"agent\",\"Example: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)\",i||\"\").css({width:\"100%\",margin:0}),o=E.createSelect(\"mode\",[{label:\"Block\",value:\"block\",selected:!1===t||\"block\"==t},{label:\"Challenge\",value:\"challenge\",selected:\"challenge\"==t},{label:\"JavaScript Challenge\",value:\"js_challenge\",selected:\"js_challenge\"==t}]);return n.addTitle((!1===e?\"Create\":\"Edit\")+\" a User Agent Blocking Rule\"),n.addElement(te(\"<p>\").text(\"Provide a description, an action, and a specific User Agent which you wish to configure.\")),n.addRow(\"Name Description\",s,!0),n.addRow(\"Action\",o,!0),n.addRow(\"User Agent\",a,!0),n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.show(),n}te(document).on(\"cloudflare.firewall.user_agent_blocking.initialize\",(function(e,t){let i=t.response.usage.used,n=t.response.usage.max,s=`You have ${i} of ${n} User Agent Blocking rules active`;te(t.section).find(\".usage\").text(s),te(t.section).data(\"result\",t.response.result),te(t.section).data(\"used\",i),te(t.section).data(\"available\",n),ie(t.section),te(t.section).removeClass(\"loading\")})),te(document).on(\"cloudflare.firewall.user_agent_blocking.create\",(function(e,t){let i=t.section.data(\"used\"),n=t.section.data(\"available\"),a=se(),o=e=>{let i=te(a.components.container).find(\"[name='name']\").val(),n=te(a.components.container).find(\"[name='mode']\").val(),o=te(a.components.container).find(\"[name='agent']\").val();te(t.section).addClass(\"loading\"),te(a.components.modal).addClass(\"loading\"),te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,mode:n,paused:e,description:i,value:o},success:function(e){te(a.components.modal).removeClass(\"loading\"),e.success&&a.close(),s.showMessages(e),d.loadSections(\".firewall.user_agent_blocking\")}})};a.addButton({label:\"Save as Draft\",class:\"gray\",callback:()=>o(!0)}),i<n&&a.addButton({label:\"Save and Deploy\",callback:()=>o(!1)})})),te(document).on(\"cloudflare.firewall.user_agent_blocking.edit\",(function(e,t){let i=te(t.trigger).data(\"entry\"),n=se(i.description,i.mode,i.configuration.value);n.addButton({label:\"Save\",callback:()=>{te(t.section).addClass(\"loading\"),te(n.components.modal).addClass(\"loading\");let e=te(n.components.modal);te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:i.id,mode:te(e).find(\"[name='mode']\").val(),paused:i.paused,description:te(e).find(\"[name='name']\").val(),value:te(e).find(\"[name='agent']\").val()},success:t=>{te(e).removeClass(\"loading\"),t.success&&n.close(),s.showMessages(t),d.loadSections(\".firewall.user_agent_blocking\")}})}})})),te(document).on(\"cloudflare.firewall.user_agent_blocking.delete\",(function(e,t){let i=new E.Modal(600),n=te(t.trigger).data(\"entry\");i.addTitle(\"Please confirm that you would like to delete the following rule: <b>\"+n.description+\"</b>\"),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Delete User Agent Rule\",class:\"red\",callback:()=>{te(t.section).addClass(\"loading\"),i.close(),te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n.id},success:function(e){s.showMessages(e),d.loadSections(\".firewall.user_agent_blocking\")}})}}),i.show()})),te(document).on(\"cloudflare.firewall.user_agent_blocking.mode\",(function(e,t){let i=te(t.trigger),n=te(i).data(\"entry\");te(t.section).addClass(\"loading\"),te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n.id,mode:i.val(),paused:n.paused,value:n.configuration.value,description:n.description},success:function(e){s.showMessages(e),d.loadSections(\".firewall.user_agent_blocking\")}})})),te(document).on(\"cloudflare.firewall.user_agent_blocking.toggle\",(function(e,t){let i=te(t.trigger),n=te(i).data(\"entry\");te(t.section).addClass(\"loading\"),te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n.id,mode:n.mode,paused:!te(i).prop(\"checked\"),value:n.configuration.value,description:n.description},success:function(e){s.showMessages(e),d.loadSections(\".firewall.user_agent_blocking\")}})})),te(document).on(\"cloudflare.firewall.user_agent_blocking.page\",(function(e,t){te(t.section).data(\"page\",te(t.trigger).data(\"page\")),ie(t.section)})),te(document).on(\"cloudflare.firewall.user_agent_blocking.next_page\",(function(e,t){te(t.section).data(\"page\")+1<=Math.ceil(te(t.section).data(\"item-count\")/te(t.section).data(\"page-size\"))&&(te(t.section).data(\"page\",te(t.section).data(\"page\")+1),ie(t.section))})),te(document).on(\"cloudflare.firewall.user_agent_blocking.previous_page\",(function(e,t){te(t.section).data(\"page\")-1>0&&(te(t.section).data(\"page\",te(t.section).data(\"page\")-1),ie(t.section))}));const ae=jQuery=jquery=i;ae(document).on(\"cloudflare.firewall.web_application_firewall.initialize\",f.initialize),ae(document).on(\"cloudflare.firewall.web_application_firewall.toggle\",f.toggle);const oe=jQuery=jquery=i;oe(document).on(\"cloudflare.firewall.security_level.initialize\",_.initialize),oe(document).on(\"cloudflare.firewall.security_level.update\",_.update);const re=jQuery=jquery=i;re(document).on(\"cloudflare.firewall.zone_lockdown.initialize\",(function(e,t){let i=t.response.result.filter((e=>!e.paused)).length,n=t.response.entitlements.allocation.value;re(t.section).find(\"#rules_total\").text(n),re(t.section).find(\"#rules_used\").text(i),i<n?re(t.section).find(\"#action\").addClass(\"trigger\").val(\"Create Lockdown Rule\").off(\"click\"):re(t.section).find(\"#action\").removeClass(\"trigger\").val(\"Buy More Zone Lockdown Rules\").on(\"click\",(()=>{window.open(\"https://www.cloudflare.com/plans/\",\"_blank\")}));var s=re(t.section).find(\"table.rules\");re(s).find(\"tbody > tr\").remove(),re(t.section).data(\"rules\",t.response.result),t.response.result.length>0?t.response.result.sort(((e,t)=>e.priority-t.priority)).map((e=>{var t;re(s).find(\"tbody\").append(re(\"<tr>\").data(\"rule\",e).append(re(\"<td class='no_white_space' >\").html(`<b>${e.description}</b>`).append(re(\"<span>\").html([e.urls.length>0?`${e.urls.length} URLs`:null,e.configurations.length>0?`${e.configurations.length} IP Addresses`:null,e.priority?`<br/>Priority: ${e.priority}`:null].filter((e=>e)).join(\", \")))).append(re(\"<td>\").append((t=E.createSwitch(\"status\",!e.paused),re(t).find(\"input\").addClass(\"trigger\").data(\"target\",\"toggle\").data(\"rule\",e),t)).append(E.createIconButton(\"edit\",\"&#xF019;\").addClass(\"trigger\").data(\"target\",\"edit\").data(\"data\",e).css(\"display\",\"inline-block\")).append(E.createIconButton(\"delete\",\"&#xF01A;\").addClass(\"trigger\").data(\"target\",\"delete\").data(\"id\",e.id).data(\"description\",e.description).css(\"display\",\"inline-block\"))))})):re(s).find(\"tbody\").append(re(\"<tr>\").append(re(\"<td colspan='6' >\").text(\"You currently have no Zone Lockdown Rules. To create some click on the button above.\")))})),re(document).on(\"cloudflare.firewall.zone_lockdown.toggle\",(function(e,t){var i=t.trigger.data(\"rule\"),n=re(t.trigger).is(\":checked\");re(t.section).addClass(\"loading\"),re.ajax({url:t.form.endpoint.replace(\"toggle\",\"edit\"),type:\"POST\",data:{form_key:t.form.key,id:i.id,description:i.description,paused:!n,configurations:i.configurations,urls:i.urls,priority:i.priority},success:function(e){re(t.section).removeClass(\"loading\"),s.showMessages(e)}})})),re(document).on(\"cloudflare.firewall.zone_lockdown.delete\",(function(e,t){var i=new E.Modal(800);i.addTitle(\"Delete Zone Lockdown Rule\"),i.addElement(re(\"<p>\").html(`Please confirm that you would like to delete the following rule: <b>${t.trigger.data(\"description\")}</b>`)),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Delete Zone Lockdown Rule\",class:\"red\",callback:e=>{i.close();var n=t.trigger.data(\"id\");re(t.section).addClass(\"loading\"),re.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n},success:function(e){s.showMessages(e),d.loadSections(\".zone_lockdown\")}})}}),i.show()})),re(document).on(\"cloudflare.firewall.zone_lockdown.edit\",(function(e,t){var i=re(t.trigger).data(\"data\"),n=(t.section,new E.Modal(800)),a=(re('<div class=\"collections\" >'),h.getDomainName()),o=i.paused,r=i.id;n.addTitle(\"Edit a Zone Lockdown Rule\"),n.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"Name\")),E.createInput(\"text\",\"description\",\"Example: Allow traffic from Office IP address\",i.description),!0),n.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"URLs (Separate URLS by new line)\")),E.createTextarea(\"urls\",`Example: www.${a}/login\\nwww.${a}`,i.urls.join(\"\\n\")),!0),n.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"IP Range (Separate IP Addresses by new line)\")),E.createTextarea(\"configurations\",\"Example: 1.1.1.0/28\\n1.1.1.0/12\",i.configurations.map((e=>e.value)).join(\"\\n\")),!0),n.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"Priority\")),E.createInput(\"number\",\"priority\",\"\",i.priority),!0);n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.addButton({label:\"Save\",callback:e=>{(e=>{re(e.modal).addClass(\"loading\");var i=re(e.container).find(\"[name='description']\").val(),a=re(e.container).find(\"[name='urls']\").val(),l=re(e.container).find(\"[name='configurations']\").val(),c=re(e.container).find(\"[name='priority']\").val();re.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:r,description:i,paused:o,configurations:l.split(\"\\n\").map((e=>e.trim())).filter((e=>!!e)).map((e=>({target:/\\//.test(e)?\"ip_range\":\"ip\",value:e.trim()}))),urls:a.split(\"\\n\").map((e=>e.trim())).filter((e=>e.length>0)),priority:c},success:function(i){i.success?(n.close(),re(e.modal).removeClass(\"loading\"),re(t.section).addClass(\"loading\"),d.loadSections(\".zone_lockdown\")):(re(e.modal).removeClass(\"loading\"),s.showMessages(i))}})})(e)}}),n.show()})),re(document).on(\"cloudflare.firewall.zone_lockdown.create\",(function(e,t){t.section;var i=new E.Modal(800),n=(re('<div class=\"collections\" >'),h.getDomainName());i.addTitle(\"Create a Zone Lockdown Rule\"),i.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"Name\")),E.createInput(\"text\",\"description\",\"Example: Allow traffic from Office IP address\"),!0),i.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"URLs (Separate URLS by new line)\")),E.createTextarea(\"urls\",`Example: www.${n}/login\\nwww.${n}`),!0),i.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"IP Range (Separate IP Addresses by new line)\")),E.createTextarea(\"configurations\",\"Example: 1.1.1.0/28\\n1.1.1.0/12\"),!0),i.addRow(re(\"<p>\").append(re(\"<strong>\").text(\"Priority\")),E.createInput(\"number\",\"priority\",\"\"),!0);var a=(e,n)=>{re(e.modal).addClass(\"loading\");var a=re(e.container).find(\"[name='description']\").val(),o=re(e.container).find(\"[name='urls']\").val(),r=re(e.container).find(\"[name='configurations']\").val(),l=re(e.container).find(\"[name='priority']\").val();re.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,description:a,paused:n,configurations:r.split(\"\\n\").map((e=>e.trim())).filter((e=>!!e)).map((e=>({target:/\\//.test(e)?\"ip_range\":\"ip\",value:e.trim()}))),urls:o.split(\"\\n\").map((e=>e.trim())).filter((e=>e.length>0)),priority:l},success:function(n){n.success?(i.close(),re(e.modal).removeClass(\"loading\"),re(t.section).addClass(\"loading\"),d.loadSections(\".zone_lockdown\")):(re(e.modal).removeClass(\"loading\"),s.showMessages(n))}})};i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Save as Draft\",class:\"gray\",callback:e=>{a(e,!0)}}),i.addButton({label:\"Save and Deploy\",callback:e=>{a(e,!1)}}),i.show()}));window.$=window.jQuery=re;const le=jQuery=jquery=i;le(document).on(\"cloudflare.firewall.javascript_detections.initialize\",f.initializeCustom(\"enable_js\",!0)),le(document).on(\"cloudflare.firewall.javascript_detections.toggle\",f.toggle);const ce=jQuery=jquery=i;ce(document).on(\"cloudflare.firewall.privacy_pass_support.initialize\",f.initialize),ce(document).on(\"cloudflare.firewall.privacy_pass_support.toggle\",f.toggle);const de=jQuery=jquery=i;de(document).on(\"cloudflare.firewall.browser_integrity_check.initialize\",f.initialize),de(document).on(\"cloudflare.firewall.browser_integrity_check.toggle\",f.toggle);const ue=jQuery=jquery=i;function he(e){switch(e){case\"managed_challenge\":return\"Managed Challenge\";case\"block\":return\"Block\";case\"js_challenge\":return\"JS Challenge\";case\"allow\":return\"Allow\";case\"bypass\":return\"Bypass\";case\"log\":return\"Log\";case\"challenge\":return\"Legacy CAPTCHA\";default:return\"Unknown\"}}function pe(e){switch(e){case\"uaBlock\":return\"User-Agent Blocking\";case\"bic\":return\"Browser Integrity Check\";case\"hot\":return\"Hotlink Protection\";case\"securityLevel\":return\"Security Level\";case\"rateLimit\":return\"Rate Limiting\";case\"zoneLockdown\":return\"Zone Lockdown\";case\"waf\":return\"WAF Managed Rules\";default:return\"Unknown\"}}function fe(e){let t=ue(e).data(\"result\")||[];t=function(e,t,i,n){let s=(e+\"\").toLowerCase().trim();return n.filter((e=>(e.description+\"\").toLowerCase().indexOf(s)>-1&&(\"all\"==t||e.paused==(\"paused\"==t))&&(\"all\"==i||e.action==i)))}(ue(e).find(\".search\").val(),ue(e).find(\".status\").val(),ue(e).find(\".action\").val(),t);let i=ue(e).find(\"table > tbody\");ue(e).data(\"item-count\",t.length);let n=ue(e).data(\"item-count\"),s=ue(e).data(\"page\"),a=ue(e).data(\"page-size\"),o=Math.ceil(n/a),r=a*(s-1)+1;0==n&&(r=0);let l=Math.min(a*s,n);ue(e).find(\".pagination_container .pages\").html(\"\"),ue(e).find(\".pagination_container .showing\").html(`${r} - ${l} of ${n} rules`);let c=ue(e).find(\".pagination_container .pages\"),d=e=>ue('<span class=\"page\" >').addClass(e==s?\"\":\"trigger\").addClass(e==s?\"current\":\"\").data(\"target\",\"page\").data(\"page\",e).text(e);if(o>7){ue(c).append(d(1)),o>7&&s>4&&ue(c).append(ue(\"<span>\").text(\"...\"));let e=Math.max(2,s-3),t=Math.min(o-1,s+3);s-4<0&&(t+=Math.abs(s-4)),s+3>o&&(e-=s+3-o),o<=7&&s<4&&(t-=1),o<=7&&s>4&&(e+=1);for(let i=e;i<=t;i++)ue(c).append(d(i));o>7&&s<o-3&&ue(c).append(ue(\"<span>\").text(\"...\")),ue(c).append(d(o))}else for(let e=1;e<=o;e++)ue(c).append(d(e));1==s?ue(e).find(\".previous\").addClass(\"disabled\"):ue(e).find(\".previous\").removeClass(\"disabled\"),s==o?ue(e).find(\".next\").addClass(\"disabled\"):ue(e).find(\".next\").removeClass(\"disabled\"),ue(i).html(\"\");for(let e=0;e<t.length;e++)if(e>=(s-1)*a&&e<s*a){let n=t[e];ue(i).append(ue(\"<tr>\").append(ue(\"<td>\").text(n.priority)).append(ue(\"<td>\").text(he(n.action))).append(ue(\"<td>\").text(n.description).css(\"width\",\"100%\")).append(ue(\"<td>\").css(\"display\",\"flex\").append((u=void 0,u=E.createSwitch(\"status\",!n.paused),ue(u).find(\"input\").addClass(\"trigger\").data(\"target\",\"toggle\").data(\"id\",n.id).data(\"entry\",n).data(\"paused\",!n.paused),u)).append(E.createIconButton(\"trigger update\",\"&#xF019;\").data(\"id\",n.id).data(\"entry\",n).data(\"target\",\"update\")).append(E.createIconButton(\"trigger delete\",\"&#xF01A;\").data(\"id\",n.id).data(\"target\",\"delete\"))))}var u;0==t.length&&ue(i).append(ue(\"<tr>\").append(ue(\"<td colspan='4' >\").text(\"No Firewall Rules\")))}ue(document).on(\"cloudflare.firewall.firewall_rules.initialize\",(function(e,t){let i=t.response.usage.used,n=t.response.usage.max;ue(t.section).find(\".usage-used\").text(i),ue(t.section).find(\".usage-total\").text(n),ue(t.section).data(\"result\",t.response.result),fe(t.section),ue(t.section).removeClass(\"loading\")})),ue(document).on(\"cloudflare.firewall.firewall_rules.search\",(function(e,t){ue(t.section).data(\"page\",1);let i=ue(t.section).find(\"table > tbody\");ue(i).children().remove(),fe(t.section)})),ue(document).on(\"cloudflare.firewall.firewall_rules.create\",(function(e,t){var i=new E.Modal(800);i.addTitle(\"Create Firewall Rule\",ue(this).val()),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"Rule name (required)\")),E.createInput(\"text\",\"name\",\"Give your rule a descriptive name\"),!0),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"When incoming requests match\u2026\")),E.createTextarea(\"expression\",\"For example: ip.src == 66.249.66.1\",\"\"),!0);const n=E.createSelect(\"action\",[{label:he(\"managed_challenge\"),value:\"managed_challenge\",selected:!0},{label:he(\"block\"),value:\"block\"},{label:he(\"js_challenge\"),value:\"js_challenge\"},{label:he(\"allow\"),value:\"allow\"},{label:he(\"bypass\"),value:\"bypass\"},{label:he(\"log\"),value:\"log\"},{label:he(\"challenge\"),value:\"challenge\"}]),a=E.createSelect(\"products\",[{label:pe(\"zoneLockdown\"),value:\"zoneLockdown\",selected:!0},{label:pe(\"uaBlock\"),value:\"uaBlock\"},{label:pe(\"bic\"),value:\"bic\"},{label:pe(\"hot\"),value:\"hot\"},{label:pe(\"securityLevel\"),value:\"securityLevel\"},{label:pe(\"rateLimit\"),value:\"rateLimit\"},{label:pe(\"waf\"),value:\"waf\"}],!0);ue(a).css({height:\"150px\"});const o=ue(\"<div>\").append(ue(\"<span>\").text(\"Choose a feature (Required)\")).append(a).css({paddingRight:\"5px\",width:\"100%\"}).hide();ue(n).on(\"change\",(e=>\"bypass\"==e.target.value?o.show():o.hide())),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"Then\u2026\")),ue(\"<p>\").append(ue(\"<div>\").append(ue(\"<span>\").text(\"Choose an action (Required)\")).append(n).css({paddingRight:\"5px\",width:\"100%\"}),o,ue(\"<div>\").append(ue(\"<span>\").text(\"Priority (Optional)\")).append(E.createInput(\"number\",\"priority\",\"\")).css({paddingLeft:\"5px\",width:\"100%\"})).css({display:\"flex\",width:\"100%\"}),!0);var r=(e,n)=>{var a=ue(e.container).find(\"[name='name']\").val(),o=ue(e.container).find(\"[name='expression']\").val(),r=ue(e.container).find(\"[name='action']\").val(),l=ue(e.container).find(\"[name='priority']\").val(),c=ue(e.container).find(\"[name='products']\").val();ue(e.modal).addClass(\"loading\"),ue.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,name:a,expression:o,action:r,priority:l,products:\"bypass\"==r&&c||[],paused:n},success:function(n){n.success?(i.close(),ue(e.modal).removeClass(\"loading\"),ue(t.section).addClass(\"loading\"),d.loadSections(\".firewall_rules\")):(ue(e.modal).removeClass(\"loading\"),s.showMessages(n))}})};i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Save as Draft\",class:\"gray\",callback:e=>{r(e,!0)}}),i.addButton({label:\"Deploy Firewall Rule\",callback:e=>{r(e,!1)}}),i.show()})),ue(document).on(\"cloudflare.firewall.firewall_rules.delete\",(function(e,t){var i=new E.Modal;i.addTitle(\"Confirm\"),i.addElement(ue(\"<p>\").text(\"Are you sure you want to delete this rule?\")),i.addButton({label:\"OK\",callback:e=>{i.close(),ue(t.section).addClass(\"loading\");var n=ue(t.trigger).data(\"id\");ue.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n},success:function(e){s.showMessages(e),d.loadSections(\".firewall_rules\")}})}}),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.show()})),ue(document).on(\"cloudflare.firewall.firewall_rules.toggle\",(function(e,t){ue(t.section).addClass(\"loading\");var i=ue(t.trigger).data(\"entry\"),n=ue(t.trigger).data(\"paused\");ue.ajax({url:t.form.endpoint.replace(/toggle/,\"update\"),type:\"POST\",data:{form_key:t.form.key,id:i.id,name:i.description,filterId:i.filter.id,filterExpression:i.filter.expression,action:i.action,priority:i.priority,paused:n,products:i.products||[]},success:function(e){s.showMessages(e),d.loadSections(\".firewall_rules\")}})})),ue(document).on(\"cloudflare.firewall.firewall_rules.update\",(function(e,t){var i=new E.Modal(800),n=ue(t.trigger).data(\"entry\");i.addTitle(\"Update Firewall Rule\",ue(this).val()),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"Rule name (required)\")),E.createInput(\"text\",\"name\",\"Give your rule a descriptive name\",n.description),!0),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"When incoming requests match\u2026\")),E.createTextarea(\"expression\",\"For example: ip.src == 66.249.66.1\",n.filter.expression),!0);const a=E.createSelect(\"action\",[{label:he(\"managed_challenge\"),value:\"managed_challenge\",selected:\"managed_challenge\"==n.action},{label:he(\"block\"),value:\"block\",selected:\"block\"==n.action},{label:he(\"js_challenge\"),value:\"js_challenge\",selected:\"js_challenge\"==n.action},{label:he(\"allow\"),value:\"allow\",selected:\"allow\"==n.action},{label:he(\"bypass\"),value:\"bypass\",selected:\"bypass\"==n.action},{label:he(\"log\"),value:\"log\",selected:\"log\"==n.action},{label:he(\"challenge\"),value:\"challenge\",selected:\"challenge\"==n.action}]),o=E.createSelect(\"products\",[{label:pe(\"zoneLockdown\"),value:\"zoneLockdown\",selected:(n.products||[]).includes(\"zoneLockdown\")},{label:pe(\"uaBlock\"),value:\"uaBlock\",selected:(n.products||[]).includes(\"uaBlock\")},{label:pe(\"bic\"),value:\"bic\",selected:(n.products||[]).includes(\"bic\")},{label:pe(\"hot\"),value:\"hot\",selected:(n.products||[]).includes(\"hot\")},{label:pe(\"securityLevel\"),value:\"securityLevel\",selected:(n.products||[]).includes(\"securityLevel\")},{label:pe(\"rateLimit\"),value:\"rateLimit\",selected:(n.products||[]).includes(\"rateLimit\")},{label:pe(\"waf\"),value:\"waf\",selected:(n.products||[]).includes(\"waf\")}],!0);ue(o).css({height:\"150px\"});const r=ue(\"<div>\").append(ue(\"<span>\").text(\"Choose a feature (Required)\")).append(o).css({paddingRight:\"5px\",width:\"100%\"});r[\"bypass\"==n.action?\"show\":\"hide\"](),ue(a).on(\"change\",(e=>\"bypass\"==e.target.value?r.show():r.hide())),i.addRow(ue(\"<p>\").append(ue(\"<strong>\").text(\"Then\u2026\")),ue(\"<p>\").append(ue(\"<div>\").append(ue(\"<span>\").text(\"Choose an action (Required)\")).append(a).css({paddingRight:\"5px\",width:\"100%\"}),r,ue(\"<div>\").append(ue(\"<span>\").text(\"Priority (Optional)\")).append(E.createInput(\"number\",\"priority\",\"\",n.priority)).css({paddingLeft:\"5px\",width:\"100%\"})).css({display:\"flex\",width:\"100%\"}),!0);i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Save\",callback:e=>{((e,a)=>{var o=ue(e.container).find(\"[name='name']\").val(),r=ue(e.container).find(\"[name='expression']\").val(),l=ue(e.container).find(\"[name='action']\").val(),c=ue(e.container).find(\"[name='priority']\").val(),u=ue(e.container).find(\"[name='products']\").val();ue(e.modal).addClass(\"loading\"),ue.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:n.id,name:o,filterId:n.filter.id,filterExpression:r,action:l,priority:c,paused:a,products:\"bypass\"==l&&u||[]},success:function(n){n.success?(i.close(),ue(e.modal).removeClass(\"loading\"),ue(t.section).addClass(\"loading\"),d.loadSections(\".firewall_rules\")):(ue(e.modal).removeClass(\"loading\"),s.showMessages(n))}})})(e,!1)}}),i.show()})),ue(document).on(\"cloudflare.firewall.firewall_rules.page\",(function(e,t){ue(t.section).data(\"page\",ue(t.trigger).data(\"page\")),fe(t.section)})),ue(document).on(\"cloudflare.firewall.firewall_rules.next_page\",(function(e,t){ue(t.section).data(\"page\")+1<=Math.ceil(ue(t.section).data(\"item-count\")/ue(t.section).data(\"page-size\"))&&(ue(t.section).data(\"page\",ue(t.section).data(\"page\")+1),fe(t.section))})),ue(document).on(\"cloudflare.firewall.firewall_rules.previous_page\",(function(e,t){ue(t.section).data(\"page\")-1>0&&(ue(t.section).data(\"page\",ue(t.section).data(\"page\")-1),fe(t.section))}));const ge=jQuery=jquery=i;ge(document).on(\"cloudflare.ssl_tls.always_use_https.initialize\",f.initialize),ge(document).on(\"cloudflare.ssl_tls.always_use_https.toggle\",f.toggle);const me=jQuery=jquery=i;me(document).on(\"cloudflare.ssl_tls.minimum_tls_version.initialize\",_.initialize),me(document).on(\"cloudflare.ssl_tls.minimum_tls_version.update\",_.update);const ve=jQuery=jquery=i;ve(document).on(\"cloudflare.ssl_tls.authenticated_origin_pulls.initialize\",f.initialize),ve(document).on(\"cloudflare.ssl_tls.authenticated_origin_pulls.toggle\",f.toggle);const _e=jQuery=jquery=i;_e(document).on(\"cloudflare.ssl_tls.ssl_tls_recommender.initialize\",f.initializeCustom(\"enabled\",!0)),_e(document).on(\"cloudflare.ssl_tls.ssl_tls_recommender.toggle\",f.toggle);const be=jQuery=jquery=i;be(document).on(\"cloudflare.ssl_tls.certificate_transparency_monitoring.initialize\",f.initializeCustom(\"enabled\",!0)),be(document).on(\"cloudflare.ssl_tls.certificate_transparency_monitoring.toggle\",f.toggle);const ye=jQuery=jquery=i;ye(document).on(\"cloudflare.ssl_tls.tls_13.initialize\",_.initialize),ye(document).on(\"cloudflare.ssl_tls.tls_13.update\",_.update);const we=jQuery=jquery=i;we(document).on(\"cloudflare.ssl_tls.ssl.initialize\",_.initialize),we(document).on(\"cloudflare.ssl_tls.ssl.update\",_.update);const xe=jQuery=jquery=i;xe(document).on(\"cloudflare.ssl_tls.opportunistic_encryption.initialize\",f.initialize),xe(document).on(\"cloudflare.ssl_tls.opportunistic_encryption.toggle\",f.toggle);const ke=jQuery=jquery=i;function Ce(e){let t=\"enable\"==ke(e.trigger).data(\"action\");ke(e.section).addClass(\"loading\"),ke.ajax({url:e.form.endpoint,type:\"POST\",data:{form_key:e.form.key,state:t},success:function(e){s.showMessages(e),ke(\"section.cloudflare.ssl_tls.ssl\").addClass(\"loading\"),d.loadSections(\".ssl_tls.disable_universal_ssl\")}})}ke(document).on(\"cloudflare.ssl_tls.disable_universal_ssl.initialize\",(function(e,t){t.response.result.enabled?(ke(t.section).find(\"[name='button']\").val(\"Disable Universal SSL\"),ke(t.section).find(\"[name='button']\").data(\"action\",\"disable\")):(ke(t.section).find(\"[name='button']\").val(\"Enable Universal SSL\"),ke(t.section).find(\"[name='button']\").data(\"action\",\"enable\"))})),ke(document).on(\"cloudflare.ssl_tls.disable_universal_ssl.toggle\",(function(e,t){if(\"disable\"==ke(t.trigger).data(\"action\")){let e=new E.Modal(800);e.addTitle(\"Acknowledgement\"),e.addElement(ke(\"<p>\").text(\"By disabling Universal SSL, you understand that the following Cloudflare settings and preferences will result in visitors being unable to visit your domain unless you have uploaded a custom certificate or purchased a dedicated certificate.\")),e.addElement(ke(\"<ul>\").append(ke(\"<li>\").text(\"HSTS\")).append(ke(\"<li>\").text(\"Always Use HTTPS\")).append(ke(\"<li>\").text(\"Opportunistic Encryption\")).append(ke(\"<li>\").text(\"Any Page Rules redirecting traffic to HTTPS\"))),e.addElement(ke(\"<p>\").text(\"Similarly, any HTTP redirect to HTTPS at the origin while the Cloudflare proxy is enabled will result in users being unable to visit your site without a valid certificate at Cloudflare\u2019s edge.\")),e.addElement(ke(\"<p>\").text(\"If you do not have a valid custom or dedicated certificate at Cloudflare\u2019s edge and are unsure if any of the above Cloudflare settings are enabled, or if any HTTP redirects exist at your origin, we advise leaving Universal SSL enabled for your domain.\")),e.addButton({label:\"Cancel\",class:\"gray\",callback:e.close}),e.addButton({label:\"I Understand\",class:\"red\",callback:i=>{e.close(),Ce(t)}}),e.show()}else Ce(t)}));const Te=jQuery=jquery=i;function Se(e){return e>=31536e3?\"12 months\":e>=15552e3?\"6 months (recommended)\":e>=1296e4?\"5 months\":e>=10368e3?\"4 months\":e>=7776e3?\"3 months\":e>=5184e3?\"2 months\":e>=2592e3?\"1 month\":\"0 (Disable)\"}function De(e,t){let i=new E.Modal(600);i.addTitle(\"Acknowledgement\"),i.addElement(Te(\"<p>\").append(\"HTTP Strict Transport Security (HSTS) can substantially improve the security of your website. However, there are important considerations to keep in mind when enabling HSTS:\")),i.addElement(Te(\"<p>\").append(Te(\"<strong>\").text(\"HTTPS (SSL) must be enabled in order to use HSTS.\"))),i.addElement(Te(\"<ul>\").append(Te(\"<li>\").text(\"If you turn on HSTS and do not have HTTPS for your website, browsers will not accept the HSTS setting.\")).append(Te(\"<li>\").text(\"If you have HSTS enabled and leave Cloudflare, you need to continue to support HTTPS through a new service provider otherwise your site will become inaccessible to visitors until you support HTTPS again.\")).append(Te(\"<li>\").text(\"If you turn off Cloudflare\u2019s HTTPS while HSTS is enabled, and you don\u2019t have a valid SSL certificate on your origin server, your website will become inaccessible to visitors.\"))),i.addElement(Te(\"<p>\").append(Te(\"<strong>\").text(\"Note\")).append(\": Disabling Cloudflare\u2019s HTTP can be done in several ways: Grey clouding a subdomain in your DNS records, \u201cPausing\u201d the Cloudflare service, or having a misconfigured custom SSL certificate through your Cloudflare dashboard (e.g., invalid SSL certificates, expired certificates, or mismatched host names).\")),i.addElement(Te(\"<p>\").append(Te(\"<strong>\").text(\"If you need to disable HTTPS on your domain\")).append(\", you must first disable HSTS in your Cloudflare dashboard and wait for the max-age to lapse to guarantee that every browser is aware of this change before you can disable HTTPS. The average max-age is six months (you can set the max-age in the next step). \").append(Te(\"<strong>\").text(\"If you remove HTTPS before disabling HSTS your website will become inaccessible to visitors for up to the max-age or until you support HTTPS again.  \")).append(\"Because disabling HTTPS on an HSTS enabled website can have these consequences, we strongly suggest that you have a committed HTTPS service in place before enabling this feature.\")),i.addElement(Te(\"<a>\").text(\"More information\").prop(\"target\",\"_blank\").prop(\"href\",\"https://blog.cloudflare.com/enforce-web-policy-with-hypertext-strict-transport-security-hsts/\")),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"I Understand\",class:\"red\",callback:n=>{i.close(),function(e,t){let i=new E.Modal(600),n=E.createSwitch(\"enabled\",e.enabled),s=E.createSelect(\"max-age\",[{value:\"0\",label:Se(0)},{value:\"2592000\",label:Se(2592e3)},{value:\"5184000\",label:Se(5184e3)},{value:\"7776000\",label:Se(7776e3)},{value:\"10368000\",label:Se(10368e3)},{value:\"12960000\",label:Se(1296e4)},{value:\"15552000\",label:Se(15552e3)},{value:\"31536000\",label:Se(31536e3)}]).val(e.max_age),a=E.createSwitch(\"include_subdomains\",e.include_subdomains),o=E.createSwitch(\"preload\",e.preload),r=E.createSwitch(\"nosniff\",e.nosniff);i.addTitle(\"Configure\"),i.addElement(Te('<p style=\"font-size: 15.5px;\" >').append(Te(\"<strong>\").text(\"Caution\")).append(\": If misconfigured, HTTP Strict Transport Security (HSTS) can make your website inaccessible to users for an extended period of time.\")),i.addElement(Te(\"<table class='configure' >\").append(Te(\"<tr>\").append(Te(\"<td>\").append(Te(\"<strong>\").text(\"Enable HSTS (Strict-Transport-Security)\")).append(\"Serve HSTS headers with all HTTPS requests\")).append(Te(\"<td>\").append(n))).append(Te(\"<tr>\").append(Te(\"<td>\").append(Te(\"<strong>\").text(\"Max Age Header (max-age)\")).append(\"Specify the duration HSTS headers are cached in browsers\")).append(Te(\"<td>\").append(s))).append(Te(\"<tr>\").append(Te(\"<td>\").append(Te(\"<strong>\").text(\"Apply HSTS policy to subdomains (includeSubDomains)\")).append(\"Every domain below this will inherit the same HSTS headers\").append(\"<b>Caution</b>: If any of your subdomains do not support HTTPS, they will become inaccessible.\")).append(Te(\"<td>\").append(a))).append(Te(\"<tr>\").append(Te(\"<td>\").append(Te(\"<strong>\").text(\"Preload\")).append(\"Permit browsers to preload HSTS configuration automatically\").append(\"<b>Caution</b>: Preload can make a website without HTTPS support completely inaccessible.\")).append(Te(\"<td>\").append(o))).append(Te(\"<tr>\").append(Te(\"<td>\").append(Te(\"<strong>\").text(\"No-Sniff Header\")).append(\"Send the \u201cX-Content-Type-Options: nosniff\u201d header to prevent Internet Explorer and Google Chrome from MIME-sniffing away from the declared Content-Type.\")).append(Te(\"<td>\").append(r)))),i.addButton({label:\"Previous\",class:\"gray\",callback:()=>{i.close(),De(e,t)}}),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Save\",callback:e=>{t(i,{enabled:Te(n).find(\"[type='checkbox']:checked\").length>0,max_age:s.val(),include_subdomains:Te(a).find(\"[type='checkbox']:checked\").length>0,preload:Te(o).find(\"[type='checkbox']:checked\").length>0,nosniff:Te(r).find(\"[type='checkbox']:checked\").length>0})}}),i.show()}(e,t)}}),i.show()}Te(document).on(\"cloudflare.ssl_tls.http_strict_transport_security.initialize\",(function(e,t){let i=t.response.result.value.strict_transport_security;Te(t.section).data(\"options\",i),i.enabled?(Te(t.section).find(\"[name='button']\").val(\"Change HSTS Settings\"),Te(t.section).find(\".option_enabled\").show().find(\"span\").text(i.enabled?\"On\":\"Off\"),Te(t.section).find(\".option_max_age\").show().find(\"span\").text(Se(i.max_age)),Te(t.section).find(\".option_include_sub_domains\").show().find(\"span\").text(i.include_subdomains?\"On\":\"Off\"),Te(t.section).find(\".option_preload\").show().find(\"span\").text(i.preload?\"On\":\"Off\"),Te(t.section).find(\".option_no_sniff\").show().find(\"span\").text(i.nosniff?\"On\":\"Off\")):(Te(t.section).find(\"[name='button']\").val(\"Enable HSTS\"),Te(t.section).find(\".option_enabled\").hide(),Te(t.section).find(\".option_max_age\").hide(),Te(t.section).find(\".option_include_sub_domains\").hide(),Te(t.section).find(\".option_preload\").hide(),Te(t.section).find(\".option_no_sniff\").hide())})),Te(document).on(\"cloudflare.ssl_tls.http_strict_transport_security.update\",(function(e,t){De(Te(t.section).data(\"options\"),((e,i)=>{Te(t.section).addClass(\"loading\"),Te(e.components.modal).addClass(\"loading\"),Te.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,value:i},success:function(t){s.showMessages(t),e.close(),d.loadSections(\".ssl_tls.http_strict_transport_security\")}})}))}));const Pe=jQuery=jquery=i;Pe(document).on(\"cloudflare.ssl_tls.automatic_https_rewrites.initialize\",f.initialize),Pe(document).on(\"cloudflare.ssl_tls.automatic_https_rewrites.toggle\",f.toggle);const Ie=jQuery=jquery=i;Ie(document).on(\"cloudflare.caching.development_mode.initialize\",f.initialize),Ie(document).on(\"cloudflare.caching.development_mode.toggle\",f.toggle);const Me=jQuery=jquery=i;Me(document).on(\"cloudflare.caching.purge_cache.custom\",((e,t)=>{const i=h.getDomainName();let n=new E.Modal(800),a=null;const o=(e,t)=>{const i=()=>{a=e,Me(\"p.purge_cache-container div\").css({display:\"none\"}),Me(`p.purge_cache-container div[data-type=\"${e}\"]`).css({display:\"block\"}),Me(\".cloudflare_modal .buttons .purge\").css({display:\"block\"})};return Me(\"<tr>\").append(Me(\"<td>\").css({verticalAlign:\"top\"}).append(Me(\"<input>\").attr(\"type\",\"radio\").attr(\"name\",\"type\").attr(\"value\",e).attr(\"id\",`purge_type-${e}`).on(\"click\",i))).append(Me(\"<td>\").append(Me(`<label for='purge_type-${e}' >`).css({minHeight:60,display:\"block\",fontSize:\"1.05em\"}).html(t).on(\"click\",i)))};n.addTitle(\"Custom Purge\"),n.addElement(Me(\"<p>\").css({paddingBottom:0}).append(Me(\"<strong>\").text(\"Purge by:\")).append(Me(\"<table>\").css({marginTop:15}).append(o(\"url\",\"<b>URL:</b> Any assets in the Cloudflare cache that match the URL(s) exactly will be purged from the cache.\")).append(o(\"hostname\",\"<b>Hostname:</b> Any assets at URLs with a host that matches one of the provided values will be purged from the cache. (Enterprise only)\")).append(o(\"tag\",\"<b>Tag:</b> Any assets served with a Cache-tag response header that matches one of the provided values will be purged from the cache. (Enterprise only)\")).append(o(\"prefix\",\"<b>Prefix:</b> Any assets in the directory will be purged from cache. (Enterprise only)\")))),n.addElement(Me(\"<p>\").addClass(\"purge_cache-container\").append(Me(\"<div>\").attr(\"data-type\",\"url\").css({display:\"none\"}).append(Me(\"<p>\").text(\"You will need to specify the full path to the file. Wildcards are not supported with single URL purge at this time. You can purge up to 30 URLs at a time.\")).append(Me(\"<p>\").text(\"Separate URL(s) one per line.\")).append(E.createTextarea(\"urls\",`Example:\\nhttps://www.${i}\\nhttps://www.${i}/cat.jpg`))).append(Me(\"<div>\").attr(\"data-type\",\"hostname\").css({display:\"none\"}).append(Me(\"<p>\").text(\"You can purge up to 30 hostnames at a time.\")).append(Me(\"<p>\").text(\"Separate hostnames(s) with commas, or one per line.\")).append(E.createTextarea(\"hostnames\",`Example:\\nwww.${i}, blog.${i}, shop.${i}, foo.bar.${i}`))).append(Me(\"<div>\").attr(\"data-type\",\"tag\").css({display:\"none\"}).append(Me(\"<p>\").text(\"You can purge up to 30 tags at a time.\")).append(Me(\"<p>\").text(\"Separate tag(s) with commas, or one per line.\")).append(E.createTextarea(\"tags\",\"Example:\\ndog, cat, foobar\"))).append(Me(\"<div>\").attr(\"data-type\",\"prefix\").css({display:\"none\"}).append(Me(\"<p>\").text(\"You can purge up to 30 prefixes at a time.\")).append(Me(\"<p>\").text(\"Separate prefix(s) one per line.\")).append(E.createTextarea(\"prefixes\",`Example:\\nwww.${i}/foo\\nwww.${i}/foo/bar\\nwww.${i}/foo/bar/baz`)))),n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.addButton({label:\"Purge\",class:\"purge\",callback:e=>{if(a){Me(n.components.modal).addClass(\"loading\"),Me(t.section).addClass(\"loading\");let e=Me(`.purge_cache-container div[data-type=\"${a}\"] textarea`).val().split([\"prefix\",\"url\"].includes(a)?/\\s+/:/[\\s,]+/).map((e=>e.trim())).filter((e=>\"\"!==e));Me.ajax({url:t.form.endpoint.replace(\"custom\",a),type:\"POST\",data:{form_key:t.form.key,items:e},success:e=>{e.success?n.close():Me(n.components.modal).removeClass(\"loading\"),s.showMessages(e),Me(t.section).removeClass(\"loading\")}})}}}),n.show(),Me(\".cloudflare_modal .buttons .purge\").css({display:\"none\"})})),Me(document).on(\"cloudflare.caching.purge_cache.everything\",((e,t)=>{let i=new E.Modal;i.addTitle(\"Confirm purge everything\"),i.addElement(Me(\"<p>\").append(\"Purge all cached files. Purging your cache may slow your website temporarily.\")),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Purge Everything\",class:\"red\",callback:e=>{Me(i.components.modal).addClass(\"loading\"),Me(t.section).addClass(\"loading\"),Me.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key},success:e=>{e.success?i.close():Me(i.components.modal).removeClass(\"loading\"),s.showMessages(e),Me(t.section).removeClass(\"loading\")}})}}),i.show()}));const Ae=jQuery=jquery=i;Ae(document).on(\"cloudflare.caching.caching_level.initialize\",((e,t)=>{var i=t.response.result.value;Ae(t.section).find(\"input[name='value'][value='\"+i+\"']\").prop(\"checked\",!0)})),Ae(document).on(\"cloudflare.caching.caching_level.update\",((e,t)=>{var i=Ae(t.section).find(\"input[name='value']:checked\").val();Ae(t.section).addClass(\"loading\"),Ae.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,value:i},success:e=>{s.showMessages(e),d.loadSections(\".caching_level\")}})}));const Ee=jQuery=jquery=i;Ee(document).on(\"cloudflare.caching.browser_cache_expiration.initialize\",_.initialize),Ee(document).on(\"cloudflare.caching.browser_cache_expiration.update\",_.update);const ze=jQuery=jquery=i;ze(document).on(\"cloudflare.caching.always_online.initialize\",f.initialize),ze(document).on(\"cloudflare.caching.always_online.toggle\",f.toggle);const Oe=jQuery=jquery=i;Oe(document).on(\"cloudflare.caching.enable_query_string_sort.initialize\",f.initialize),Oe(document).on(\"cloudflare.caching.enable_query_string_sort.toggle\",f.toggle);const He=jQuery=jquery=i;He(document).on(\"cloudflare.caching.argo_tiered_cache.initialize\",f.initialize),He(document).on(\"cloudflare.caching.argo_tiered_cache.toggle\",f.toggle);const je=jQuery=jquery=i;je(document).on(\"cloudflare.caching.crawler_hints.initialize\",f.initialize),je(document).on(\"cloudflare.caching.crawler_hints.toggle\",f.toggle);const Ne=jQuery=jquery=i;Ne(document).on(\"cloudflare.caching.tiered_cache_topology.initialize\",_.initialize),Ne(document).on(\"cloudflare.caching.tiered_cache_topology.update\",_.update);const Le=jQuery=jquery=i;Le(document).on(\"cloudflare.overview.status.initialize\",(function(e,t){t.response&&t.response.result&&t.response.result.paused?(Le(t.section).find(\".section_title\").text(\"Resume\"),Le(t.section).find(\".wrapper_left > p\").text(\"Cloudflare has been temporarily deactivated for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive the performance and security benefits. All of your settings have been saved.\"),Le(t.section).find(\".trigger\").val(\"Resume\"),Le(t.section).find(\".trigger\").data(\"target\",\"resume\")):(Le(t.section).find(\".section_title\").text(\"Pause Website\"),Le(t.section).find(\".wrapper_left > p\").text(\"Pause will temporarily deactivate Cloudflare for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive performance and security benefits. All of your settings will be saved.\"),Le(t.section).find(\".trigger\").val(\"Pause\"),Le(t.section).find(\".trigger\").data(\"target\",\"pause\"))})),Le(document).on(\"cloudflare.overview.status.pause\",(function(e,t){Le(t.section).addClass(\"loading\"),Le.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key},success:function(e,i,n){Le(t.section).removeClass(\"loading\"),s.showMessages(e),e.result&&e.result.paused&&(Le(t.section).find(\".section_title\").text(\"Resume\"),Le(t.section).find(\".wrapper_left > p\").text(\"Cloudflare has been temporarily deactivated for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive the performance and security benefits. All of your settings have been saved.\"),Le(t.section).find(\".trigger\").val(\"Resume\"),Le(t.section).find(\".trigger\").data(\"target\",\"resume\"))}})})),Le(document).on(\"cloudflare.overview.status.resume\",(function(e,t){Le(t.section).addClass(\"loading\"),Le.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key},success:function(e){Le(t.section).removeClass(\"loading\"),s.showMessages(e),e.result&&!e.result.paused&&(Le(t.section).find(\".section_title\").text(\"Pause Website\"),Le(t.section).find(\".wrapper_left > p\").text(\"Pause will temporarily deactivate Cloudflare for your domain. Cloudflare will continue to resolve DNS for your website, but all requests will go directly to your origin which means you will not receive performance and security benefits. All of your settings will be saved.\"),Le(t.section).find(\".trigger\").val(\"Pause\"),Le(t.section).find(\".trigger\").data(\"target\",\"pause\"))}})}));const Re=jQuery=jquery=i;Re(document).on(\"cloudflare.dns.cname_flattening.initialize\",_.initialize),Re(document).on(\"cloudflare.dns.cname_flattening.update\",_.update),$(document).on(\"cloudflare.dns.custom_nameservers.initialize\",(function(e,t){var i=$(t.section).find(\"table.nameservers\"),n=Object.keys(t.response.result);$(i).find(\"tbody > tr\").remove(),$(i).hide(),$(t.section).find(\"#action\").data(\"data\",n).val((n.length>0?\"Edit\":\"Add\")+\" Custom Nameservers\"),n.length>0&&($(i).show(),n.map((e=>{var n=t.response.result[e];$(i).find(\"tbody\").append($(\"<tr>\").data(\"nameserver\",n).append($(\"<td>\").text(e)).append($(\"<td>\").text(n.ipv4)).append($(\"<td>\").text(n.ipv6)))})))})),$(document).on(\"cloudflare.dns.custom_nameservers.edit\",(function(e,t){var i=$(t.trigger).data(\"data\")||[],n=(t.section,new E.Modal(800)),a=h.getDomainName();n.addTitle(\"Custom Nameservers\"),n.addRow($(\"<p>\").append($(\"<strong>\").text(\"Nameservers (Separate URLS by new line)\")),E.createTextarea(\"nameservers\",`Example: ns1.${a}\\nns2.${a}`,i.join(\"\\n\")),!0);n.addButton({label:\"Cancel\",class:\"gray\",callback:n.close}),n.addButton({label:\"Save\",callback:e=>{(e=>{$(e.modal).addClass(\"loading\");var i=$(e.container).find(\"[name='nameservers']\").val();$.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,nameservers:i.split(\"\\n\").map((e=>e.trim())).filter((e=>e.length>0))},success:function(i){i.success?(n.close(),$(e.modal).removeClass(\"loading\"),$(t.section).addClass(\"loading\"),d.loadSections(\".custom_nameservers\")):($(e.modal).removeClass(\"loading\"),s.showMessages(i))}})})(e)}}),n.show()}));const We=jQuery=jquery=i;We(document).on(\"cloudflare.dns.cloudflare_nameservers.initialize\",(function(e,t){We(t.section).find(\"table tr:not(:first)\").remove(),t.response.result.map((e=>{var i=We(\"<tr>\");We(i).append(We(\"<td>\").attr(\"class\",\"type_cfns\").text(\"NS\")),We(i).append(We(\"<td>\").text(e)),We(t.section).find(\"table\").append(i)}))}));const qe=jQuery=jquery=i;function Fe(e){return 1==e?\"Automatic\":e<60?e+\" seconds\":60==e?\"1 minute\":e<3600?e/60+\" minutes\":3600==e?\"1 hour\":e<216e3?e/3600+\" hours\":(e=216e3)?\"1 day\":e/216e3+\" days\"}function Be(e){let t=qe(e).data(\"result\");t=function(e,t){let i=(e+\"\").toLowerCase().trim();return t?t.filter((e=>(e.name+\"\").toLowerCase().indexOf(i)>-1||(e.content+\"\").toLowerCase().indexOf(i)>-1)):[]}(qe(e).find(\".search\").val(),t),t=function(e,t){let i=qe(e).find(\".sort-asc, .sort-desc\");if(i.length>0){let e=(e,t)=>t.reduce(((e,t)=>e[t]),e),n=qe(i).data(\"sort\").split(\".\"),s=!0===qe(i).hasClass(\"sort-asc\");t=t.sort(((t,i)=>{let a=(e(t,n)+\"\").toLowerCase(),o=(e(i,n)+\"\").toLowerCase();return s?a<o?-1:a>o?1:0:a>o?-1:a<o?1:0}))}return t}(e,t);let i=qe(e).find(\"table > tbody\");qe(i).children().remove(),qe(e).data(\"item-count\",t.length);let n=qe(e).data(\"item-count\"),s=qe(e).data(\"page\"),a=qe(e).data(\"page-size\"),o=Math.ceil(n/a),r=a*(s-1)+1;0==n&&(r=0);let l=Math.min(a*s,n);qe(e).find(\".pagination_container .pages\").html(\"\"),qe(e).find(\".pagination_container .showing\").html(`${r} - ${l} of ${n} records`);let c=qe(e).find(\".pagination_container .pages\"),d=e=>qe('<span class=\"page\" >').addClass(e==s?\"\":\"trigger\").addClass(e==s?\"current\":\"\").data(\"target\",\"page\").data(\"page\",e).text(e);if(o>7){qe(c).append(d(1)),o>7&&s>4&&qe(c).append(qe(\"<span>\").text(\"...\"));let e=Math.max(2,s-3),t=Math.min(o-1,s+3);s-4<0&&(t+=Math.abs(s-4)),s+3>o&&(e-=s+3-o),o<=7&&s<4&&(t-=1),o<=7&&s>4&&(e+=1);for(let i=e;i<=t;i++)qe(c).append(d(i));o>7&&s<o-3&&qe(c).append(qe(\"<span>\").text(\"...\")),qe(c).append(d(o))}else for(let e=1;e<=o;e++)qe(c).append(d(e));1==s?qe(e).find(\".previous\").addClass(\"disabled\"):qe(e).find(\".previous\").removeClass(\"disabled\"),s==o?qe(e).find(\".next\").addClass(\"disabled\"):qe(e).find(\".next\").removeClass(\"disabled\");const u=h.getSkinBaseUrl();for(let e=0;e<t.length;e++)if(e>=(s-1)*a&&e<s*a){let n=t[e],s=[\"CAA\",\"SRV\"].indexOf(n.type)>-1?n.name:n.name.replace(/\\.[^.]+\\.[^.]+$/,\"\");var p=n.content;\"SRV\"==n.type?(s=s.replace(/\\.$/,\"\")+\".\",p=`SRV ${n.data.priority} ${n.data.weight} ${n.data.port} ${n.data.target}.`):\"LOC\"==n.type&&(p=\"IN LOC \"+n.content.replace(/(\\d\\.[0-9]*[1-9])0*|(\\d)\\.0+/g,\"$1$2\"));var f=qe(\"<tr>\");qe(f).data(\"entry\",n),qe(f).append(qe(\"<td>\").attr(\"class\",\"type type_\"+n.type.toLowerCase()).text(n.type)),qe(f).append(qe(\"<td>\").attr(\"class\",\"name\").html(qe(\"<div class='editable' contenteditable='true' >\").text(s).attr(\"name\",\"content\").addClass(\"show-form-\"+n.type.toLowerCase()+\"-name\").data(\"old\",s).val(s))),qe(f).append(qe(\"<td>\").attr(\"class\",\"value\").html(qe(\"<div class='editable' contenteditable='true' >\").text(p).addClass(\"type_\"+n.type.toLowerCase()).attr(\"name\",\"content\").addClass(\"show-form-\"+n.type.toLowerCase()).data(\"old\",p).val(p)).append(\"MX\"==n.type?`<div class=\"priority\" >${n.priority}</div>`:\"\")),qe(f).append(qe(\"<td>\").attr(\"class\",\"ttl\").text(Fe(n.ttl)).data(\"ttl\",n.ttl)),qe(f).append(qe(\"<td>\").attr(\"class\",\"status\").html(n.proxiable?n.proxied?\"<img class='proxied change' src='\"+u+\"/images/proxied_on.svg' />\":\"<img class='proxied change' src='\"+u+\"/images/proxied_off.svg' />\":\"\")),qe(f).append(qe(\"<td>\").attr(\"class\",\"delete\").html(qe(\"<div class='trigger delete_entry cloudflare-font' >\").data(\"target\",\"delete\").data(\"id\",n.id).data(\"type\",n.type).data(\"name\",n.name).html(\"&#xF01A;\"))),f.appendTo(i)}0==t.length&&qe(i).append(qe(\"<tr>\").append(qe(\"<td colspan='6' >\").text(\"No DNS records found.\")))}qe(document).on(\"cloudflare.dns.dns_records.initialize\",(function(e,t){qe(t.section).data(\"result\",t.response.result),Be(t.section)})),qe(document).on(\"cloudflare.dns.dns_records.delete\",(function(e,t){var i=qe(t.trigger).data(\"id\"),n=qe(t.trigger).data(\"type\").toUpperCase(),a=qe(t.trigger).data(\"name\"),o=new E.Modal;o.addTitle(\"Confirm\"),o.addElement(qe(\"<p>\").text(`Are you sure you want to delete the ${n} Record?`)),o.addElement(qe(\"<li>\").append(qe(\"<strong>\").text(a))),o.addButton({label:\"OK\",callback:e=>{o.close(),qe(t.section).addClass(\"loading\"),qe.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,id:i},success:function(e){s.showMessages(e),d.loadSections(\".dns_records\")}})}}),o.addButton({label:\"Cancel\",class:\"gray\",callback:o.close}),o.show()})),qe(document).on(\"cloudflare.dns.dns_records.create\",(function(e,t){qe(t.section).addClass(\"loading\"),qe.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key,type:qe(t.section).find(\"select.type\").val(),name:qe(t.section).find(\"div.active > input[name='name']\").val(),content:qe(t.section).find(\"div.active > input[name='content']\").val(),ttl:qe(t.section).find(\"select.ttl\").val(),proxied:qe(t.section).find(\".proxied.add\").data(\"value\"),priority:qe(t.section).find(\".priority.add\").val()},success:function(e){qe(t.section).removeClass(\"loading\"),s.showMessages(e),e.success&&(qe(t.section).find(\"[name='name'],[name='content']\").val(\"\"),qe(t.section).addClass(\"loading\"),d.loadSections(\".dns.dns_records\"))}})})),qe(document).on(\"cloudflare.dns.dns_records.search\",(function(e,t){qe(t.section).data(\"page\",1),Be(t.section)})),qe(document).on(\"focus\",\".show-form-mx\",(function(){var e=new E.Modal;let t=parseInt(qe(document).find(\".priority.add\").val())||1,i=qe(this).val();qe(this).hasClass(\"editable\")&&(t=qe(this).parent().find(\".priority\").text()),e.addTitle(\"Add Record: MX content\",qe(this).val()),e.addRow(\"Server\",qe(\"<input type='text' placeholder='Mail server' name='server' >\").val(i)),e.addRow(\"Priority\",qe(\"<input type='text' placeholder='1' name='priority' >\").val(t)),e.addButton({label:\"Cancel\",class:\"gray\",callback:e.close});var n=this;e.addButton({label:\"Save\",callback:s=>{var a=qe(s.container).find(\"input[name='priority']\").val();let o=qe(s.container).find(\"input[name='server']\").val();if(\"\"===a.trim()&&(a=\"1\"),qe(document).find(\".priority.add\").val(a),qe(n).data(\"priority\",parseInt(a)),qe(n).parent().find(\".priority\").text(parseInt(a)),qe(n).val(o).text(o),qe(this).hasClass(\"editable\")&&t!=parseInt(a)||o!=i){let e=qe(n).val()+\" \";qe(n).val(e).text(e).trigger(\"change\")}e.close()}}),e.show()})),qe(document).on(\"focus\",\".show-form-loc\",(function(){var e=this,t=new E.Modal,i=E.createRows(E.createRow(\"degrees\",E.createInput(\"text\",\"lat-degrees\",\"\",\"0\")),E.createRow(\"minutes\",E.createInput(\"text\",\"lat-minutes\",\"\",\"0\")),E.createRow(\"seconds\",E.createInput(\"text\",\"lat-seconds\",\"\",\"0\")),E.createRow(\"direction\",E.createSelect(\"lat-direction\",[{value:\"N\",label:\"North\",selected:!0},{value:\"S\",label:\"South\"}]))),n=E.createRows(E.createRow(\"degrees\",E.createInput(\"text\",\"lon-degrees\",\"\",\"0\")),E.createRow(\"minutes\",E.createInput(\"text\",\"lon-minutes\",\"\",\"0\")),E.createRow(\"seconds\",E.createInput(\"text\",\"lon-seconds\",\"\",\"0\")),E.createRow(\"direction\",E.createSelect(\"lon-direction\",[{value:\"W\",label:\"West\",selected:!0},{value:\"E\",label:\"East\"}]))),s=E.createRows(E.createRow(\"horizontal precision\",E.createInput(\"text\",\"pre-horizontal\",!1,\"0\")),E.createRow(\"vertical precision\",E.createInput(\"text\",\"pre-vertical\",!1,\"0\"))),a=E.createInput(\"text\",\"altitude\",!1,\"0\"),o=E.createInput(\"text\",\"size\",!1,\"0\"),r=qe(this).val().match(/^IN LOC ([^ ]+) ([^ ]+) ([^ ]+) ([NS]) ([^ ]+) ([^ ]+) ([^ ]+) ([WE]) ([^ ]+)m ([^ ]+)m ([^ ]+)m ([^ ]+)m$/);r&&(qe(i).find(\"[name='lat-degrees']\").val(r[1]),qe(i).find(\"[name='lat-minutes']\").val(r[2]),qe(i).find(\"[name='lat-seconds']\").val(r[3]),qe(i).find(\"[name='lat-direction']\").val(r[4]),qe(n).find(\"[name='lon-degrees']\").val(r[5]),qe(n).find(\"[name='lon-minutes']\").val(r[6]),qe(n).find(\"[name='lon-seconds']\").val(r[7]),qe(n).find(\"[name='lon-direction']\").val(r[8]),qe(a).val(r[9]),qe(o).val(r[10]),qe(s).find(\"[name='pre-horizontal']\").val(r[11]),qe(s).find(\"[name='pre-vertical']\").val(r[12])),t.addTitle(\"Add Record: LOC content\",qe(this).val()),t.addRow(\"Latitude\",i,!0),t.addRow(\"Longitude\",n,!0),t.addRow(\"Altitude (in meters)\",a,!0),t.addRow(\"Size (in meters)\",o,!0),t.addRow(\"Percision (in meters)\",s,!0),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{let n=`IN LOC ${qe(i.container).find(\"[name='lat-degrees']\").val().trim()} ${qe(i.container).find(\"[name='lat-minutes']\").val().trim()} ${qe(i.container).find(\"[name='lat-seconds']\").val().trim()} ${qe(i.container).find(\"[name='lat-direction']\").val()} ${qe(i.container).find(\"[name='lon-degrees']\").val().trim()} ${qe(i.container).find(\"[name='lon-minutes']\").val().trim()} ${qe(i.container).find(\"[name='lon-seconds']\").val().trim()} ${qe(i.container).find(\"[name='lon-direction']\").val()} ${qe(i.container).find(\"[name='altitude']\").val().trim()}m ${qe(i.container).find(\"[name='size']\").val().trim()}m ${qe(i.container).find(\"[name='pre-horizontal']\").val().trim()}m ${qe(i.container).find(\"[name='pre-vertical']\").val().trim()}m`.replace(/(\\d\\.[0-9]*[1-9])0*|(\\d)\\.0+/g,\"$1$2\");qe(e).val(n).text(n).trigger(\"change\"),t.close()}}),t.show()})),qe(document).on(\"focus\",\".show-form-srv-name\",(function(){var e=this,t=new E.Modal,i=E.createInput(\"text\",\"service\",\"_sip\"),n=qe(\"<select name='protocol' ><option value='_udp' >UDP</option><option value='_tcp' >TCP</option><option value='_tls' selected >TLS</option><select/>\"),s=E.createInput(\"text\",\"name\",h.getDomainName(),h.getDomainName());let a=`${i.val()}.${n.val()}.${s.val()}.`;qe(e).hasClass(\"editable\")&&(a=qe(e).text());var o=qe(this).val().match(/^([^.]+)\\.([^.]+)\\.(.+)\\.$/);o&&(qe(i).val(o[1]),qe(n).val(o[2]),qe(s).val(o[3])),t.addTitle(\"Add Record: SRV name\",qe(this).val()),t.addRow(\"Service name\",i),t.addRow(\"Protocol\",n),t.addRow(\"Name\",s),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{let n=`${qe(i.container).find(\"input[name='service']\").val().trim()||\"_sip\"}.${qe(i.container).find(\"select[name='protocol']\").val().trim()}.${qe(i.container).find(\"input[name='name']\").val().trim()||h.getDomainName()}.`;qe(e).val(n).text(n),qe(e).hasClass(\"editable\")&&a!=n&&qe(e).trigger(\"change\"),t.close()}}),t.show()})),qe(document).on(\"focus\",\".show-form-srv\",(function(){var e=this,t=new E.Modal,i=E.createInput(\"text\",\"priority\",\"1\",\"1\"),n=E.createInput(\"text\",\"weight\",\"10\",\"1\"),s=E.createInput(\"text\",\"port\",\"8444\",\"1\"),a=E.createInput(\"text\",\"target\",\"example.com\",h.getDomainName()),o=qe(this).val().match(/^SRV ([^ ]+) ([^ ]+) ([^ ]+) (.+)\\.$/);o&&(qe(i).val(o[1]),qe(n).val(o[2]),qe(s).val(o[3]),qe(a).val(o[4]));let r=qe(e).val();qe(e).hasClass(\"editable\")&&(r=qe(e).text()),t.addTitle(\"Add Record: SRV content\",qe(this).val()),t.addRow(\"Priority\",i),t.addRow(\"Weight\",n),t.addRow(\"Port\",s),t.addRow(\"Target\",a),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{var n=qe(i.container).find(\"input[name='priority']\").val().trim()||\"1\";let s=`SRV ${n} ${qe(i.container).find(\"input[name='weight']\").val().trim()||\"1\"} ${qe(i.container).find(\"input[name='port']\").val().trim()||\"1\"} ${qe(i.container).find(\"input[name='target']\").val().trim()||h.getDomainName()}.`;qe(e).val(s).text(s),qe(e).hasClass(\"editable\")&&r!=s?qe(e).trigger(\"change\"):qe(document).find(\".priority.add\").val(n),t.close()}}),t.show()})),qe(document).on(\"focus\",\".show-form-spf\",(function(){var e=this,t=new E.Modal,i=E.createTextarea(\"policy\",\"Policy parameters\",qe(this).val());t.addTitle(\"Add Record: SPF content\",qe(this).val()),t.addRow(\"Content\",i,!0),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{var n=qe(i.container).find(\"[name='policy']\").val();qe(e).val(n).text(n).trigger(\"change\"),t.close()}}),t.show()})),qe(document).on(\"focus\",\".show-form-txt\",(function(){var e=this,t=new E.Modal,i=E.createTextarea(\"text\",\"Text\",qe(this).val());t.addTitle(\"Add Record: TXT content\",qe(this).val()),t.addRow(\"Content\",i,!0),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{var n=qe(i.container).find(\"[name='text']\").val();qe(e).val(n).text(n).trigger(\"change\"),t.close()}}),t.show()})),qe(document).on(\"focus\",\".show-form-caa\",(function(){var e=this,t=new E.Modal(!0),i=E.createSelect(\"tag\",[{label:\"Only allow specific hostnames\",value:\"issue\",selected:!0},{label:\"Only allow wildcards\",value:\"issuewild\"},{label:\"Send violation reports to URL (http:, https:, or mailto:)\",value:\"iodef\"}]),n=E.createInput(\"text\",\"value\",\"Certificate authority (CA) domain name\");var s=(qe(e).hasClass(\".editable\")?qe(this).text():qe(this).val()).match(/0 ((?:issue|issuewild|iodef)) \\\"(.+)\\\"/);s&&(qe(i).val(s[1]),qe(n).val(s[2])),t.addTitle(\"Add Record: CAA content\",qe(this).val()),t.addRow(\"Tag\",i),t.addRow(\"Value\",n),t.addButton({label:\"Cancel\",class:\"gray\",callback:t.close}),t.addButton({label:\"Save\",callback:i=>{let n=`0 ${qe(i.container).find(\"[name='tag']\").val().trim()} \"${qe(i.container).find(\"[name='value']\").val().trim()}\"`;qe(e).val(n).text(n).trigger(\"change\"),t.close()}}),t.show()})),qe(document).on(\"cloudflare.dns.dns_records.page\",(function(e,t){qe(t.section).data(\"page\",qe(t.trigger).data(\"page\")),Be(t.section)})),qe(document).on(\"cloudflare.dns.dns_records.next_page\",(function(e,t){qe(t.section).data(\"page\")+1<=Math.ceil(qe(t.section).data(\"item-count\")/qe(t.section).data(\"page-size\"))&&(qe(t.section).data(\"page\",qe(t.section).data(\"page\")+1),Be(t.section))})),qe(document).on(\"cloudflare.dns.dns_records.previous_page\",(function(e,t){qe(t.section).data(\"page\")-1>0&&(qe(t.section).data(\"page\",qe(t.section).data(\"page\")-1),Be(t.section))})),qe(document).on(\"cloudflare.dns.dns_records.sort\",(function(e,t){qe(t.section).data(\"page\",1),qe(t.section).data(\"sort\",qe(t.trigger).data(\"sort\")),qe(t.trigger).hasClass(\"sort-asc\")?(qe(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),qe(t.trigger).removeClass(\"sort-asc\").addClass(\"sort-desc\"),qe(t.section).data(\"direction\",\"desc\")):qe(t.trigger).hasClass(\"sort-desc\")?(qe(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),qe(t.trigger).removeClass(\"sort-asc\").removeClass(\"sort-desc\"),qe(t.section).data(\"direction\",\"\")):(qe(t.trigger).siblings().removeClass(\"sort-asc\").removeClass(\"sort-desc\"),qe(t.trigger).addClass(\"sort-asc\"),qe(t.section).data(\"direction\",\"asc\")),Be(t.section)})),qe(document).on(\"cloudflare.dns.dns_records.export\",(function(e,t){qe(t.section).addClass(\"loading\"),qe.ajax({url:t.form.endpoint,type:\"POST\",data:{form_key:t.form.key},success:function(e){s.showMessages(e);let i=new Blob([e],{type:\"octet/stream\"}),n=window.URL.createObjectURL(i),a=document.createElement(\"a\");document.body.appendChild(a),a.style=\"display: none\",a.href=n,a.download=h.getDomainName()+\".txt\",a.click(),window.URL.revokeObjectURL(n),qe(t.section).removeClass(\"loading\")}})})),qe(document).on(\"cloudflare.dns.dns_records.upload\",(function(e,t){let i=new E.Modal,n=qe('<form method=\"POST\" enctype=\"multipart/form-data\" >').css(\"display\",\"none\"),a=qe(\"<input id='file_select' >\").prop(\"type\",\"file\").prop(\"name\",\"file\"),o=qe(\"<input>\").prop(\"type\",\"submit\").prop(\"name\",\"submit\").css({display:\"none\"}),r=E.createInput(\"button\",\"select\",\"\",\"Select a file\").on(\"click\",(()=>qe(a).trigger(\"click\"))),l=E.createInput(\"text\",\"filename\",\"\",\"\").prop(\"disabled\",!0).css(\"margin-left\",\"10px\").on(\"click\",(()=>qe(a).trigger(\"click\")));qe(a).on(\"change\",(()=>{let e=qe(a).val().split(\"\\\\\").pop();qe(l).val(null==e?\"\":e)}));let c=qe(\"<div>\").addClass(\"message_container\");qe(n).append(a).append(o).on(\"submit\",(e=>{e.preventDefault(),qe(i.components.modal).addClass(\"loading\");let o=new FormData(n[0]);o.set(\"form_key\",t.form.key),o.set(\"file\",qe(a)[0].files[0]),qe.ajax({url:t.form.endpoint,type:\"POST\",data:o,cache:!1,contentType:!1,processData:!1,success:e=>{s.showMessages(e),e.success&&e.result.recs_added==e.result.total_records_parsed?(i.close(),qe(t.section).addClass(\"loading\"),d.loadSections(\".dns.dns_records\")):e.success?(qe(i.components.modal).removeClass(\"loading\"),qe(c).html(qe(\"<div>\").text(`${e.result.recs_added} record(s) added`).addClass(\"status\")),e.messages.map((e=>{qe(c).append(qe(\"<div>\").text(e.message))})),e.result.recs_added>0&&d.loadSections(\".dns.dns_records\")):(qe(i.components.modal).removeClass(\"loading\"),i.close())}})})),i.addTitle(\"Upload DNS File\"),i.addElement(qe(\"<p>\").text(\"If you have a DNS file that is in the BIND format, you can upload it here and we will do our best to parse it so you don't have to retype it.\")),i.addElement(n),i.addElement(qe(\"<div>\").append(r).append(l).css({display:\"flex\",padding:\"22.5px\",background:\"#F5F5F5\",border:\"solid 1px #DEDEDE\"})),i.addElement(c),i.addButton({label:\"Cancel\",class:\"gray\",callback:i.close}),i.addButton({label:\"Upload\",callback:()=>qe(n).trigger(\"submit\")}),i.show()})),qe(document).on(\"blur\",\".editable\",(e=>{let t=e.target;qe(t).data(\"old\")!==qe(t).text()&&qe(t).trigger(\"change\",{target:t})})),qe(document).on(\"change\",\".editable, .proxied, td.ttl\",(e=>{let t=e.target,i=qe(t).data(\"old\"),n=qe(t).text();if(i!==n||qe(t).hasClass(\"proxied\")){qe(t).data(\"old\",n);let i=qe(e.target).closest(\"tr\"),a=qe(i).data(\"entry\").id,o=qe(i).data(\"entry\").type,r=qe(i).find(\"td.name\").text(),l=qe(i).find(\"td.value > .editable\").text(),c=qe(i).find(\".ttl\").data(\"ttl\"),u=qe(i).find(\".proxied\").length>0&&qe(i).find(\".proxied\").prop(\"src\").indexOf(\"proxied_on\")>=0,h=qe(i).find(\".value .priority\").text()||0,p=qe(i).closest(\"section\"),f=qe(p).data(\"endpoint\").replace(/(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/,\"$1edit$3\"),g=qe(p).data(\"form-key\");qe(p).addClass(\"loading\"),qe(p).find(\"[contenteditable]\").prop(\"contenteditable\",!1),qe.ajax({url:f,type:\"POST\",data:{form_key:g,id:a,type:o,name:r,content:l,ttl:c,proxied:u,priority:\"\"==h?0:h},success:e=>{s.showMessages(e),qe(p).find(\"[contenteditable]\").prop(\"contenteditable\",!0),d.loadSections(\".dns.dns_records\")}})}})),qe(document).on(\"click\",\".cloudflare td.ttl\",(e=>{if(qe(e.target).hasClass(\"ttl\")){let t=qe(e.target),i=qe(t).closest(\"tr\"),n=qe(i).find(\".proxied\");if(0==n.length||qe(n).eq(0).prop(\"src\").indexOf(\"proxied_off\")>-1){let e=function(e=\"1\"){return E.createSelect(\"ttl_value\",[{label:Fe(1),value:1},{label:Fe(120),value:120},{label:Fe(300),value:300},{label:Fe(600),value:600},{label:Fe(900),value:900},{label:Fe(1800),value:1800},{label:Fe(3600),value:3600},{label:Fe(7200),value:7200},{label:Fe(18e3),value:18e3},{label:Fe(43200),value:43200},{label:Fe(86400),value:86400}]).val(e)}(qe(t).data(\"ttl\"));qe(e).on(\"change\",(()=>{let i=qe(e).val();qe(e).trigger(\"blur\"),qe(t).data(\"ttl\",i),qe(t).html(Fe(i)),qe(t).trigger(\"change\")})),qe(t).html(e.focus())}}}));const $e=jQuery=jquery=i;$e(document).on(\"cloudflare.scrape_shield.hotlink_protection.initialize\",f.initialize),$e(document).on(\"cloudflare.scrape_shield.hotlink_protection.toggle\",f.toggle);const Ue=jQuery=jquery=i;Ue(document).on(\"cloudflare.scrape_shield.email_address_obfuscation.initialize\",f.initialize),Ue(document).on(\"cloudflare.scrape_shield.email_address_obfuscation.toggle\",f.toggle);const Ye=jQuery=jquery=i;Ye(document).on(\"cloudflare.scrape_shield.server_side_excludes.initialize\",f.initialize),Ye(document).on(\"cloudflare.scrape_shield.server_side_excludes.toggle\",f.toggle),n(window).on(\"load\",(function(){var e=n.ajax;n.ajax=function(){var t=arguments[0].success;arguments[0].success=function(e,i,a){(a.getResponseHeader(\"content-type\")||\"\").indexOf(\"html\")>=0?(n(\".cloudflare-dashboard\").addClass(\"logged-off\"),s.showMessages({errors:[{code:42,message:\"It appears that you are no longer logged in. Please refresh page and try again.\"}]})):t.apply(this,arguments)},e.apply(null,arguments)},n(`.cloudflare-dashboard .tabs [data-tab='${window.localStorage.getItem(\"cloudflare.tab\")||\"overview\"}']`).length>0?n(`.cloudflare-dashboard .tabs [data-tab='${window.localStorage.getItem(\"cloudflare.tab\")||\"overview\"}']`).trigger(\"click\"):n(\".cloudflare-dashboard .tabs [data-tab='overview']\").trigger(\"click\"),n(\".proxied\").each((e=>{n(this).data(\"value\",/proxied_on/.test(n(this).attr(\"src\")))}));const t=function(){var e=n(this).closest(\"section\"),t={target:{tab:n(e).data(\"tab-name\"),section:n(e).data(\"section-name\"),action:n(this).data(\"target\")},form:{endpoint:n(this).closest(\"section\").data(\"endpoint\").replace(/(cloudflare\\/[^\\/]+\\/)(index)?(.*)$/,\"$1\"+n(this).data(\"target\")+\"$3\"),key:n(this).closest(\"section\").data(\"form-key\")},section:e,trigger:n(this)};t.target.name=t.target.tab+\".\"+t.target.section+\".\"+t.target.action,t.target.name=\"cloudflare.\"+t.target.name,n.event.trigger(t.target.name,t)};n(document).on(\"click\",\".trigger\",t),n(document).on(\"change\",\".trigger-select\",t),n(document).on(\"change\",\".trigger-radio\",t),n(document).on(\"keyup\",\".trigger-change\",t)})),n(document).on(\"click\",\"[data-tab]\",(function(){var e=n(this).closest(\"section\");n(this).hasClass(\"active\")&&!n(e).hasClass(\"at_least_one\")?(n(e).find(\"[data-tab-content]\").removeClass(\"active\"),n(e).find(\"[data-tab]\").removeClass(\"active\")):(n(e).find(\"[data-tab-content]\").removeClass(\"active\"),n(e).find(\"[data-tab]\").removeClass(\"active\"),n(this).addClass(\"active\"),n(e).find(\"[data-tab-content='\"+n(this).data(\"tab\")+\"']\").addClass(\"active\"))})),n(document).on(\"change\",\".dynamic-trigger\",(function(){const e=n(this).val();n(this).parent().find(\"div[data-dynamic-wrapper]\").removeClass(\"active\"),n(this).parent().find(\"div[data-dynamic-wrapper='\"+e+\"']\").addClass(\"active\"),n(this).parent().find(\"[data-dynamic-show]\").each((function(){n(this).data(\"dynamic-show\").includes(e.toLowerCase())?n(this).show():n(this).hide()}))})),n(document).on(\"click\",\".dynamic-trigger\",(function(){const e=n(this).data(\"tab\");e&&(n(this).parent().find(\"div[data-dynamic-wrapper]\").removeClass(\"active\"),n(this).parent().find(\"div[data-dynamic-wrapper='\"+e+\"']\").addClass(\"active\"),n(this).parent().find(\"[data-dynamic-show]\").each((function(){n(this).data(\"dynamic-show\").includes(e.toLowerCase())?n(this).show():n(this).hide()})))})),n(document).on(\"click\",\".proxied\",(function(){let e=n(this).attr(\"src\");/proxied_on/.test(e)?(e=e.replace(/proxied_on/,\"proxied_off\"),n(this).data(\"value\",!1)):(e=e.replace(/proxied_off/,\"proxied_on\"),n(this).data(\"value\",!0)),n(this).attr(\"src\",e),n(this).hasClass(\"change\")&&n(this).trigger(\"change\")})),n(document).on(\"click\",\".cloudflare-dashboard ul.tabs li\",(function(){let e=n(this).data(\"tab\");n(\".cloudflare-dashboard .content\").removeClass(\"selected\"),n(\".cloudflare-dashboard .tabs li\").removeClass(\"selected\"),n(`.cloudflare-dashboard .content[data-target='${e}']`).addClass(\"selected\"),n(this).addClass(\"selected\"),n(`.initialize.${e}`).addClass(\"loading\"),window.localStorage.setItem(\"cloudflare.tab\",e),d.loadSections(`.${e}`)}))}();","Magento_Shipping/js/packages.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate'\n], function ($, modal, $t) {\n    'use strict';\n\n    return function (config, element) {\n        config.buttons = [\n            {\n                text: $t('Print'),\n                'class': 'action action-primary',\n\n                /**\n                 * Click handler\n                 */\n                click: function () {\n                    window.location.href = this.options.url;\n                }\n            }, {\n                text: $t('Cancel'),\n                'class': 'action action-secondary',\n\n                /**\n                 * Click handler\n                 */\n                click: function () {\n                    this.closeModal();\n                }\n            }\n        ];\n        modal(config, element);\n    };\n});\n","Magento_Shipping/order/packaging.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['prototype'], function () {\n\n    window.Packaging = Class.create();\n    Packaging.prototype = {\n        /**\n         * Initialize object\n         */\n        initialize: function (params) {\n            this.packageIncrement = 0;\n            this.packages = [];\n            this.itemsAll = [];\n            this.createLabelUrl = params.createLabelUrl ? params.createLabelUrl : null;\n            this.itemsGridUrl = params.itemsGridUrl ? params.itemsGridUrl : null;\n            this.errorQtyOverLimit = params.errorQtyOverLimit;\n            this.titleDisabledSaveBtn = params.titleDisabledSaveBtn;\n            this.window = $('packaging_window');\n            this.messages = this.window.select('.message-warning')[0];\n            this.packagesContent = $('packages_content');\n            this.template = $('package_template');\n            this.paramsCreateLabelRequest = {};\n            this.validationErrorMsg = params.validationErrorMsg;\n\n            this.defaultItemsQty            = params.shipmentItemsQty ? params.shipmentItemsQty : null;\n            this.defaultItemsPrice          = params.shipmentItemsPrice ? params.shipmentItemsPrice : null;\n            this.defaultItemsName           = params.shipmentItemsName ? params.shipmentItemsName : null;\n            this.defaultItemsWeight         = params.shipmentItemsWeight ? params.shipmentItemsWeight : null;\n            this.defaultItemsProductId      = params.shipmentItemsProductId ? params.shipmentItemsProductId : null;\n            this.defaultItemsOrderItemId    = params.shipmentItemsOrderItemId ? params.shipmentItemsOrderItemId : null;\n\n            this.shippingInformation = params.shippingInformation ? params.shippingInformation : null;\n            this.thisPage           = params.thisPage ? params.thisPage : null;\n            this.customizableContainers = params.customizable ? params.customizable : [];\n\n            this.eps = 0.000001;\n        },\n\n        /**\n         * Get Package Id\n         */\n        getPackageId: function (packageBlock) {\n            return packageBlock.id.match(/\\d{0,}$/)[0];\n        },\n\n        //******************** Setters **********************************//\n        setLabelCreatedCallback: function (callback) {\n            this.labelCreatedCallback = callback;\n        },\n        setCancelCallback: function (callback) {\n            this.cancelCallback = callback;\n        },\n        setConfirmPackagingCallback: function (callback) {\n            this.confirmPackagingCallback = callback;\n        },\n        setItemQtyCallback: function (callback) {\n            this.itemQtyCallback = callback;\n        },\n        setCreateLabelUrl: function (url) {\n            this.createLabelUrl = url;\n        },\n        setParamsCreateLabelRequest: function (params) {\n            Object.extend(this.paramsCreateLabelRequest, params);\n        },\n        //******************** End Setters *******************************//\n\n        showWindow: function () {\n            if (this.packagesContent.childElements().length == 0) {\n                this.newPackage();\n            }\n            const allowedPackageTypes = [\"N\",\"D\"];\n\n            if (!Object.values(this.customizableContainers).some(packageType => allowedPackageTypes.includes(packageType))) {\n                $('packaging_window').select(\n                    'th.col-length,th.col-width,th.col-height'\n                ).forEach(element => {\n                    element.classList.remove('_required')\n                });\n            }\n            jQuery(this.window).modal('openModal');\n        },\n\n        cancelPackaging: function () {\n            if (Object.isFunction(this.cancelCallback)) {\n                this.cancelCallback();\n            }\n        },\n\n        confirmPackaging: function (params) {\n            if (Object.isFunction(this.confirmPackagingCallback)) {\n                this.confirmPackagingCallback();\n            }\n        },\n\n        checkAllItems: function (headCheckbox) {\n            $(headCheckbox).up('table').select('tbody input[type=\"checkbox\"]').each(function (checkbox) {\n                checkbox.checked = headCheckbox.checked;\n                this._observeQty.call(checkbox);\n            }.bind(this));\n        },\n\n        cleanPackages: function () {\n            this.packagesContent.update();\n            this.packages = [];\n            this.itemsAll = [];\n            this.packageIncrement = 0;\n            this._setAllItemsPackedState();\n            this.messages.hide().update();\n        },\n\n        sendCreateLabelRequest: function () {\n            var self = this;\n\n            if (!this.validate()) {\n                this.messages.show().update(this.validationErrorMsg);\n\n                return;\n            }\n            this.messages.hide().update();\n\n            if (this.createLabelUrl) {\n                var weight, length, width, height = null;\n                var packagesParams = [];\n\n                this.packagesContent.childElements().each(function (pack) {\n                    var packageId = this.getPackageId(pack);\n\n                    weight = parseFloat(pack.select('input[name=\"container_weight\"]')[0].value);\n                    length = parseFloat(pack.select('input[name=\"container_length\"]')[0].value);\n                    width = parseFloat(pack.select('input[name=\"container_width\"]')[0].value);\n                    height = parseFloat(pack.select('input[name=\"container_height\"]')[0].value);\n                    packagesParams[packageId] = {\n                        container:                  pack.select('select[name=\"package_container\"]')[0].value,\n                        customs_value:              parseFloat(pack.select('input[name=\"package_customs_value\"]')[0].value, 10),\n                        weight:                     isNaN(weight) ? '' : weight,\n                        length:                     isNaN(length) ? '' : length,\n                        width:                      isNaN(width) ? '' : width,\n                        height:                     isNaN(height) ? '' : height,\n                        weight_units:               pack.select('select[name=\"container_weight_units\"]')[0].value,\n                        dimension_units:            pack.select('select[name=\"container_dimension_units\"]')[0].value\n                    };\n\n                    if (isNaN(packagesParams[packageId]['customs_value'])) {\n                        packagesParams[packageId]['customs_value'] = 0;\n                    }\n\n                    if ('undefined' != typeof pack.select('select[name=\"package_size\"]')[0]) {\n                        if ('' != pack.select('select[name=\"package_size\"]')[0].value) {\n                            packagesParams[packageId]['size'] = pack.select('select[name=\"package_size\"]')[0].value;\n                        }\n                    }\n\n                    if ('undefined' != typeof pack.select('input[name=\"container_girth\"]')[0]) {\n                        if ('' != pack.select('input[name=\"container_girth\"]')[0].value) {\n                            packagesParams[packageId]['girth'] = pack.select('input[name=\"container_girth\"]')[0].value;\n                            packagesParams[packageId]['girth_dimension_units'] = pack.select('select[name=\"container_girth_dimension_units\"]')[0].value;\n                        }\n                    }\n\n                    if ('undefined' != typeof pack.select('select[name=\"content_type\"]')[0] && 'undefined' != typeof pack.select('input[name=\"content_type_other\"]')[0]) {\n                        packagesParams[packageId]['content_type'] = pack.select('select[name=\"content_type\"]')[0].value;\n                        packagesParams[packageId]['content_type_other'] = pack.select('input[name=\"content_type_other\"]')[0].value;\n                    } else {\n                        packagesParams[packageId]['content_type'] = '';\n                        packagesParams[packageId]['content_type_other'] = '';\n                    }\n                    var deliveryConfirmation = pack.select('select[name=\"delivery_confirmation_types\"]');\n\n                    if (deliveryConfirmation.length) {\n                        packagesParams[packageId]['delivery_confirmation'] =  deliveryConfirmation[0].value;\n                    }\n                }.bind(this));\n\n                for (var packageId in this.packages) {\n                    if (!isNaN(packageId)) {\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[container]']              = packagesParams[packageId]['container'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight]']                 = packagesParams[packageId]['weight'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[customs_value]']          = packagesParams[packageId]['customs_value'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[length]']                 = packagesParams[packageId]['length'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[width]']                  = packagesParams[packageId]['width'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[height]']                 = packagesParams[packageId]['height'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[weight_units]']           = packagesParams[packageId]['weight_units'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[dimension_units]']        = packagesParams[packageId]['dimension_units'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type]']           = packagesParams[packageId]['content_type'];\n                        this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[content_type_other]']     = packagesParams[packageId]['content_type_other'];\n\n                        if ('undefined' != typeof packagesParams[packageId]['size']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[size]'] = packagesParams[packageId]['size'];\n                        }\n\n                        if ('undefined' != typeof packagesParams[packageId]['girth']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth]'] = packagesParams[packageId]['girth'];\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[girth_dimension_units]'] = packagesParams[packageId]['girth_dimension_units'];\n                        }\n\n                        if ('undefined' != typeof packagesParams[packageId]['delivery_confirmation']) {\n                            this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[params]' + '[delivery_confirmation]']  = packagesParams[packageId]['delivery_confirmation'];\n                        }\n\n                        for (var packedItemId in this.packages[packageId]['items']) {\n                            if (!isNaN(packedItemId)) {\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][qty]']           = this.packages[packageId]['items'][packedItemId]['qty'];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][customs_value]'] = this.packages[packageId]['items'][packedItemId]['customs_value'];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][price]']         = self.defaultItemsPrice[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][name]']          = self.defaultItemsName[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][weight]']        = self.defaultItemsWeight[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][product_id]']    = self.defaultItemsProductId[packedItemId];\n                                this.paramsCreateLabelRequest['packages[' + packageId + ']' + '[items]' + '[' + packedItemId + '][order_item_id]'] = self.defaultItemsOrderItemId[packedItemId];\n                            }\n                        }\n                    }\n                }\n\n                new Ajax.Request(this.createLabelUrl, {\n                    parameters: this.paramsCreateLabelRequest,\n                    onSuccess: function (transport) {\n                        var response = transport.responseText;\n\n                        if (response.isJSON()) {\n                            response = response.evalJSON();\n\n                            if (response.error) {\n                                this.messages.show().innerHTML = response.message;\n                            } else if (response.ok && Object.isFunction(this.labelCreatedCallback)) {\n                                this.labelCreatedCallback(response);\n                            }\n                        }\n                    }.bind(this)\n                });\n\n                if (this.paramsCreateLabelRequest['code'] &&\n                    this.paramsCreateLabelRequest['carrier_title'] &&\n                    this.paramsCreateLabelRequest['method_title'] &&\n                    this.paramsCreateLabelRequest['price']\n                ) {\n                    var a = this.paramsCreateLabelRequest['code'];\n                    var b = this.paramsCreateLabelRequest['carrier_title'];\n                    var c = this.paramsCreateLabelRequest['method_title'];\n                    var d = this.paramsCreateLabelRequest['price'];\n\n                    this.paramsCreateLabelRequest = {};\n                    this.paramsCreateLabelRequest['code']           = a;\n                    this.paramsCreateLabelRequest['carrier_title']  = b;\n                    this.paramsCreateLabelRequest['method_title']   = c;\n                    this.paramsCreateLabelRequest['price']          = d;\n                } else {\n                    this.paramsCreateLabelRequest = {};\n                }\n            }\n        },\n\n        validate: function () {\n            var dimensionElements = $('packaging_window').select(\n                'input[name=container_length],input[name=container_width],input[name=container_height],input[name=container_girth]:not(\"._disabled\")'\n            );\n            var callback = null;\n\n            if (dimensionElements.any(function (element) {\n                return !!element.value;\n            })) {\n                callback = function (element) {\n                    $(element).addClassName('required-entry');\n                };\n            } else {\n                callback = function (element) {\n                    $(element).removeClassName('required-entry');\n                };\n            }\n            dimensionElements.each(callback);\n\n            const allowedPackageTypes = [\"N\",\"D\"];\n\n            if (Object.values(this.customizableContainers).some(packageType => allowedPackageTypes.includes(packageType))) {\n                dimensionElements.each(function(element) {\n                    $(element).addClassName('required-entry');\n                });\n            }\n\n            return result = $$('[id^=\"package_block_\"]      input').collect(function (element) {\n                return this.validateElement(element);\n            }, this).all();\n        },\n\n        validateElement: function (elm) {\n            var cn = $w(elm.className);\n\n            return result = cn.all(function (value) {\n                var v = Validation.get(value);\n\n                if (Validation.isVisible(elm) && !v.test($F(elm), elm)) {\n                    $(elm).addClassName('validation-failed');\n\n                    return false;\n                }\n                $(elm).removeClassName('validation-failed');\n\n                return true;\n\n            });\n        },\n\n        validateCustomsValue: function () {\n            var items = [];\n            var isValid = true;\n            var itemsPrepare = [];\n            var itemsPacked = [];\n\n            this.packagesContent.childElements().each(function (pack) {\n                itemsPrepare = pack.select('[data-role=\"package-items\"]')[0];\n\n                if (itemsPrepare) {\n                    items = items.concat(itemsPrepare.select('.grid tbody tr'));\n                }\n                itemsPacked = pack.select('.package_items')[0];\n\n                if (itemsPacked) {\n                    items = items.concat(itemsPacked.select('.grid tbody tr'));\n                }\n            });\n\n            items.each(function (item) {\n                var itemCustomsValue = item.select('[name=\"customs_value\"]')[0];\n\n                if (!this.validateElement(itemCustomsValue)) {\n                    isValid = false;\n                }\n            }.bind(this));\n\n            if (isValid) {\n                this.messages.hide().update();\n            } else {\n                this.messages.show().update(this.validationErrorMsg);\n            }\n\n            return isValid;\n        },\n\n        newPackage: function () {\n            var pack = this.template.cloneNode(true);\n\n            pack.id = 'package_block_' + ++this.packageIncrement;\n            pack.addClassName('package-block');\n            pack.select('[data-role=package-number]')[0].update(this.packageIncrement);\n            this.packagesContent.insert({\n                top: pack\n            });\n            pack.select('[data-action=package-save-items]')[0].hide();\n            pack.show();\n        },\n\n        deletePackage: function (obj) {\n            var pack = $(obj).up('[id^=\"package_block\"]');\n\n            var packItems = pack.select('.package_items')[0];\n            var packageId = this.getPackageId(pack);\n\n            delete this.packages[packageId];\n            pack.remove();\n            this.messages.hide().update();\n            this._setAllItemsPackedState();\n        },\n\n        deleteItem: function (obj) {\n            var item = $(obj).up('tr');\n            var itemId = item.select('[type=\"checkbox\"]')[0].value;\n            var pack = $(obj).up('[id^=\"package_block\"]');\n            var packItems = pack.select('.package_items')[0];\n            var packageId = this.getPackageId(pack);\n\n            delete this.packages[packageId]['items'][itemId];\n\n            if (item.offsetParent.rows.length <= 2) { /* head + this last row */\n                $(packItems).hide();\n            }\n            item.remove();\n            this.messages.hide().update();\n            this._recalcContainerWeightAndCustomsValue(packItems);\n            this._setAllItemsPackedState();\n        },\n\n        recalcContainerWeightAndCustomsValue: function (obj) {\n            var pack = $(obj).up('[id^=\"package_block\"]');\n            var packItems = pack.select('.package_items')[0];\n\n            if (packItems) {\n                if (!this.validateCustomsValue()) {\n                    return;\n                }\n                this._recalcContainerWeightAndCustomsValue(packItems);\n            }\n        },\n\n        getItemsForPack: function (obj) {\n            if (this.itemsGridUrl) {\n                var parameters = $H({\n                    'shipment_id': this.shipmentId\n                });\n                var packageBlock = $(obj).up('[id^=\"package_block\"]');\n                var packagePrapare = packageBlock.select('[data-role=package-items]')[0];\n                var packagePrapareGrid = packagePrapare.select('.grid_prepare')[0];\n\n                new Ajax.Request(this.itemsGridUrl, {\n                    parameters: parameters,\n                    onSuccess: function (transport) {\n                        var response = transport.responseText;\n\n                        if (response) {\n                            packagePrapareGrid.update(response);\n                            this.processPackagePrepare(packagePrapareGrid);\n\n                            if (packagePrapareGrid.select('.grid tbody tr').length) {\n                                packageBlock.select('[data-action=package-add-items]')[0].hide();\n                                packageBlock.select('[data-action=package-save-items]')[0].show();\n                                packagePrapare.show();\n                            } else {\n                                packagePrapareGrid.update();\n                            }\n                        }\n                    }.bind(this)\n                });\n            }\n        },\n\n        getPackedItemsQty: function () {\n            var items = [];\n\n            for (var packageId in this.packages) {\n                if (!isNaN(packageId)) {\n                    for (var packedItemId in this.packages[packageId]['items']) {\n                        if (!isNaN(packedItemId)) {\n                            if (items[packedItemId]) {\n                                items[packedItemId] += this.packages[packageId]['items'][packedItemId]['qty'];\n                            } else {\n                                items[packedItemId] = this.packages[packageId]['items'][packedItemId]['qty'];\n                            }\n                        }\n                    }\n                }\n            }\n\n            return items;\n        },\n\n        _parseQty: function (obj) {\n            var qty = $(obj).hasClassName('qty-decimal') ? parseFloat(obj.value) : parseInt(obj.value);\n\n            if (isNaN(qty) || qty <= 0) {\n                qty = 1;\n            }\n\n            return qty;\n        },\n\n        packItems: function (obj) {\n            var anySelected = false;\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n            var packageId = this.getPackageId(packageBlock);\n            var packagePrepare = packageBlock.select('[data-role=package-items]')[0];\n            var packagePrepareGrid = packagePrepare.select('.grid_prepare')[0];\n\n            // check for exceeds the total shipped quantity\n            var checkExceedsQty = false;\n\n            this.messages.hide().update();\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\n                var itemId = checkbox.value;\n                var qtyValue  = this._parseQty(item.select('[name=\"qty\"]')[0]);\n\n                item.select('[name=\"qty\"]')[0].value = qtyValue;\n\n                if (checkbox.checked && this._checkExceedsQty(itemId, qtyValue)) {\n                    this.messages.show().update(this.errorQtyOverLimit);\n                    checkExceedsQty = true;\n                }\n            }.bind(this));\n\n            if (checkExceedsQty) {\n                return;\n            }\n\n            if (!this.validateCustomsValue()) {\n                return;\n            }\n\n            // prepare items for packing\n            packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                var checkbox = item.select('[type=\"checkbox\"]')[0];\n\n                if (checkbox.checked) {\n                    var qty  = item.select('[name=\"qty\"]')[0];\n                    var qtyValue  = this._parseQty(qty);\n\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\n                    anySelected = true;\n                    qty.disabled = 'disabled';\n                    checkbox.disabled = 'disabled';\n                    packagePrepareGrid.select('.grid th [type=\"checkbox\"]')[0].up('th label').hide();\n                    item.select('[data-action=package-delete-item]')[0].show();\n                } else {\n                    item.remove();\n                }\n            }.bind(this));\n\n            // packing items\n            if (anySelected) {\n                var packItems = packageBlock.select('.package_items')[0];\n\n                if (!packItems) {\n                    packagePrepare.insert(new Element('div').addClassName('grid_prepare'));\n                    packagePrepare.insert({\n                        after: packagePrepareGrid\n                    });\n                    packItems = packagePrepareGrid.removeClassName('grid_prepare').addClassName('package_items');\n                    packItems.select('.grid tbody tr').each(function (item) {\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\n\n                        if ('undefined' == typeof this.packages[packageId]) {\n                            this.packages[packageId] = {\n                                'items': [], 'params': {}\n                            };\n                        }\n\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\n                            this.packages[packageId]['items'][itemId] = {};\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\n                        } else {\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\n                        }\n                    }.bind(this));\n                } else {\n                    packagePrepareGrid.select('.grid tbody tr').each(function (item) {\n                        var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                        var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                        qtyValue = qtyValue <= 0 ? 1 : qtyValue;\n\n                        if ('undefined' == typeof this.packages[packageId]['items'][itemId]) {\n                            this.packages[packageId]['items'][itemId] = {};\n                            this.packages[packageId]['items'][itemId]['qty'] = qtyValue;\n                            packItems.select('.grid tbody')[0].insert(item);\n                        } else {\n                            this.packages[packageId]['items'][itemId]['qty'] += qtyValue;\n                            var packItem = packItems.select('[type=\"checkbox\"][value=\"' + itemId + '\"]')[0].up('tr').select('[name=\"qty\"]')[0];\n\n                            packItem.value = this.packages[packageId]['items'][itemId]['qty'];\n                        }\n                    }.bind(this));\n                    packagePrepareGrid.update();\n                }\n                $(packItems).show();\n                this._recalcContainerWeightAndCustomsValue(packItems);\n            } else {\n                packagePrepareGrid.update();\n            }\n\n            // show/hide disable/enable\n            packagePrepare.hide();\n            packageBlock.select('[data-action=package-save-items]')[0].hide();\n            packageBlock.select('[data-action=package-add-items]')[0].show();\n            this._setAllItemsPackedState();\n        },\n\n        validateItemQty: function (itemId, qty) {\n            return this.defaultItemsQty[itemId] < qty ? this.defaultItemsQty[itemId] : qty;\n        },\n\n        changeMeasures: function (obj) {\n            var incr = 0;\n            var incrSelected = 0;\n\n            obj.childElements().each(function (option) {\n                if (option.selected) {\n                    incrSelected = incr;\n                }\n                incr++;\n            });\n\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n\n            packageBlock.select('.measures').each(function (item) {\n                if (item.name != obj.name) {\n                    var incr = 0;\n\n                    item.select('option').each(function (option) {\n                        if (incr == incrSelected) {\n                            item.value = option.value;\n                            //option.selected = true\n                        }\n                        incr++;\n                    });\n                }\n            });\n\n        },\n\n        checkSizeAndGirthParameter: function (obj, enabled) {\n            if (enabled == 0) {\n                return;\n            }\n            var currentNode = obj;\n\n            while (currentNode.nodeName != 'TBODY') {\n                currentNode = currentNode.parentNode;\n            }\n\n            if (!currentNode) {\n                return;\n            }\n\n            var packageSize = currentNode.select('select[name=package_size]');\n            var packageContainer = currentNode.select('select[name=package_container]');\n            var packageGirth = currentNode.select('input[name=container_girth]');\n            var packageGirthDimensionUnits = currentNode.select('select[name=container_girth_dimension_units]');\n\n            if (packageSize.length <= 0) {\n                return;\n            }\n\n            var girthEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'VARIABLE';\n\n            if (!girthEnabled) {\n                packageGirth[0].value = '';\n                packageGirth[0].disable();\n                packageGirth[0].addClassName('_disabled');\n                packageGirthDimensionUnits[0].disable();\n                packageGirthDimensionUnits[0].addClassName('_disabled');\n            } else {\n                packageGirth[0].enable();\n                packageGirth[0].removeClassName('_disabled');\n                packageGirthDimensionUnits[0].enable();\n                packageGirthDimensionUnits[0].removeClassName('_disabled');\n            }\n\n            var sizeEnabled = packageContainer[0].value == 'NONRECTANGULAR' || packageContainer[0].value == 'RECTANGULAR' ||\n                packageContainer[0].value == 'VARIABLE';\n\n            if (!sizeEnabled) {\n                option = document.createElement('OPTION');\n                option.value = '';\n                option.text = '';\n                packageSize[0].options.add(option);\n                packageSize[0].value = '';\n                packageSize[0].disable();\n                packageSize[0].addClassName('_disabled');\n            } else {\n                for (i = 0; i < packageSize[0].length; i++) {\n                    if (packageSize[0].options[i].value == '') {\n                        packageSize[0].removeChild(packageSize[0].options[i]);\n                    }\n                }\n                packageSize[0].enable();\n                packageSize[0].removeClassName('_disabled');\n            }\n        },\n\n        changeContainerType: function (obj) {\n            if (this.customizableContainers.length <= 0) {\n                return;\n            }\n\n            var disable = true;\n\n            for (var i in this.customizableContainers) {\n                if (this.customizableContainers[i] == obj.value) {\n                    disable = false;\n                    break;\n                }\n            }\n\n            var currentNode = obj;\n\n            while (currentNode.nodeName != 'TBODY') {\n                currentNode = currentNode.parentNode;\n            }\n\n            if (!currentNode) {\n                return;\n            }\n\n            $(currentNode).select(\n                'input[name=container_length],input[name=container_width],input[name=container_height],select[name=container_dimension_units]'\n            ).each(function (inputElement) {\n                if (disable) {\n                    Form.Element.disable(inputElement);\n                    inputElement.addClassName('_disabled');\n\n                    if (inputElement.nodeName == 'INPUT') {\n                        $(inputElement).value = '';\n                    }\n                } else {\n                    Form.Element.enable(inputElement);\n                    inputElement.removeClassName('_disabled');\n                }\n            });\n        },\n\n        changeContentTypes: function (obj) {\n            var packageBlock = $(obj).up('[id^=\"package_block\"]');\n            var contentType = packageBlock.select('[name=content_type]')[0];\n            var contentTypeOther = packageBlock.select('[name=content_type_other]')[0];\n\n            if (contentType.value == 'OTHER') {\n                Form.Element.enable(contentTypeOther);\n                contentTypeOther.removeClassName('_disabled');\n            } else {\n                Form.Element.disable(contentTypeOther);\n                contentTypeOther.addClassName('_disabled');\n            }\n\n        },\n\n        //******************** Private functions **********************************//\n        _getItemsCount: function (items) {\n            var count = 0;\n\n            items.each(function (itemCount) {\n                if (!isNaN(itemCount)) {\n                    count += parseFloat(itemCount);\n                }\n            });\n\n            return count;\n        },\n\n        /**\n         * Show/hide disable/enable buttons in case of all items packed state\n         */\n        _setAllItemsPackedState: function () {\n            var addPackageBtn = $$('[data-action=add-packages]')[0];\n            var savePackagesBtn = $$('[data-action=save-packages]')[0];\n\n            if (this._getItemsCount(this.itemsAll) > 0 &&\n                    this._checkExceedsQtyFinal(this._getItemsCount(this.getPackedItemsQty()), this._getItemsCount(this.itemsAll))\n            ) {\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\n                    button.disabled = 'disabled';\n                    button.addClassName('_disabled');\n                });\n                addPackageBtn.addClassName('_disabled');\n                Form.Element.disable(addPackageBtn);\n                savePackagesBtn.removeClassName('_disabled');\n                Form.Element.enable(savePackagesBtn);\n                savePackagesBtn.title = '';\n\n                // package number recalculation\n                var packagesRecalc = [];\n\n                this.packagesContent.childElements().each(function (pack) {\n                    if (!pack.select('.package_items .grid tbody tr').length) {\n                        pack.remove();\n                    }\n                });\n                var packagesCount = this.packagesContent.childElements().length;\n\n                this.packageIncrement = packagesCount;\n                this.packagesContent.childElements().each(function (pack) {\n                    var packageId = this.getPackageId(pack);\n\n                    pack.id = 'package_block_' + packagesCount;\n                    pack.select('[data-role=package-number]')[0].update(packagesCount);\n                    packagesRecalc[packagesCount] = this.packages[packageId];\n                    --packagesCount;\n                }.bind(this));\n                this.packages = packagesRecalc;\n\n            } else {\n                this.packagesContent.select('[data-action=package-add-items]').each(function (button) {\n                    button.removeClassName('_disabled');\n                    Form.Element.enable(button);\n                });\n                addPackageBtn.removeClassName('_disabled');\n                Form.Element.enable(addPackageBtn);\n                savePackagesBtn.addClassName('_disabled');\n                Form.Element.disable(savePackagesBtn);\n                savePackagesBtn.title = this.titleDisabledSaveBtn;\n            }\n        },\n\n        processPackagePrepare: function (packagePrepare) {\n            var itemsAll = [],\n                qty,\n                itemId,\n                qtyValue = 0,\n                value = 1;\n\n            packagePrepare.select('.grid tbody tr').each(function (item) {\n                qty = item.select('[name=\"qty\"]')[0],\n                    itemId = item.select('[type=\"checkbox\"]')[0].value,\n                    qtyValue = parseFloat(qty.value);\n\n                if (Object.isFunction(this.itemQtyCallback)) {\n                    value = this.itemQtyCallback(itemId);\n\n                    if (typeof value !== 'undefined') {\n                        qtyValue = parseFloat(value);\n                        qtyValue = this.validateItemQty(itemId, qtyValue);\n                        qty.value = qtyValue;\n                    }\n                } else {\n                    value = item.select('[name=\"qty\"]')[0].value;\n                    qtyValue = typeof value == 'string' && value.length == 0 ? 0 : parseFloat(value);\n\n                    if (isNaN(qtyValue) || qtyValue < 0) {\n                        qtyValue = 1;\n                    }\n                }\n\n                if (qtyValue == 0) {\n                    item.remove();\n\n                    return;\n                }\n                var packedItems = this.getPackedItemsQty();\n\n                itemsAll[itemId] = qtyValue;\n\n                for (var packedItemId in packedItems) {\n                    if (!isNaN(packedItemId)) {\n                        var packedQty = packedItems[packedItemId];\n\n                        if (itemId == packedItemId) {\n                            if (qtyValue == packedQty || qtyValue <= packedQty) {\n                                item.remove();\n                            } else if (qtyValue > packedQty) {\n                                /* fix float number precision */\n                                qty.value = Number(Number(Math.round(qtyValue - packedQty + 'e+4') + 'e-4').toFixed(4));\n                            }\n                        }\n                    }\n                }\n            }.bind(this));\n\n            if (!this.itemsAll.length) {\n                this.itemsAll = itemsAll;\n            }\n\n            packagePrepare.select('tbody input[type=\"checkbox\"]').each(function (item) {\n                $(item).observe('change', this._observeQty);\n                this._observeQty.call(item);\n            }.bind(this));\n        },\n\n        _observeQty: function () {\n            /** this = input[type=\"checkbox\"] */\n            var tr  = jQuery(this).closest('tr')[0],\n                qty = $(tr.cells[tr.cells.length - 1]).select('input[name=\"qty\"]')[0];\n\n            if (qty.disabled = !this.checked) {\n                $(qty).addClassName('_disabled');\n            } else {\n                $(qty).removeClassName('_disabled');\n            }\n        },\n\n        _checkExceedsQty: function (itemId, qty) {\n            var packedItemQty = this.getPackedItemsQty()[itemId] ? this.getPackedItemsQty()[itemId] : 0;\n            var allItemQty = this.itemsAll[itemId];\n\n            return qty * (1 - this.eps) > allItemQty *  (1 + this.eps)  - packedItemQty * (1 - this.eps);\n        },\n\n        _checkExceedsQtyFinal: function (checkOne, defQty) {\n            return checkOne * (1 + this.eps) >= defQty * (1 - this.eps);\n        },\n\n        _recalcContainerWeightAndCustomsValue: function (container) {\n            var packageBlock = container.up('[id^=\"package_block\"]');\n            var packageId = this.getPackageId(packageBlock);\n            var containerWeight = packageBlock.select('[name=\"container_weight\"]')[0];\n            var containerCustomsValue = packageBlock.select('[name=\"package_customs_value\"]')[0];\n\n            containerWeight.value = 0;\n            containerCustomsValue.value = 0;\n            container.select('.grid tbody tr').each(function (item) {\n                var itemId = item.select('[type=\"checkbox\"]')[0].value;\n                var qtyValue  = parseFloat(item.select('[name=\"qty\"]')[0].value);\n\n                if (isNaN(qtyValue) || qtyValue <= 0) {\n                    qtyValue = 1;\n                    item.select('[name=\"qty\"]')[0].value = qtyValue;\n                }\n                var itemWeight = parseFloat(this._getElementText(item.select('[data-role=item-weight]')[0]));\n\n                containerWeight.value = parseFloat(containerWeight.value) + itemWeight * qtyValue;\n                var itemCustomsValue = parseFloat(item.select('[name=\"customs_value\"]')[0].value) || 0;\n\n                containerCustomsValue.value = parseFloat(containerCustomsValue.value) + itemCustomsValue * qtyValue;\n                this.packages[packageId]['items'][itemId]['customs_value'] = itemCustomsValue;\n            }.bind(this));\n            containerWeight.value = parseFloat(parseFloat(Math.round(containerWeight.value + 'e+4') + 'e-4').toFixed(4));\n            containerCustomsValue.value = parseFloat(Math.round(containerCustomsValue.value + 'e+2') + 'e-2').toFixed(2);\n\n            if (containerCustomsValue.value == 0) {\n                containerCustomsValue.value = '';\n            }\n        },\n\n        _getElementText: function (el) {\n            if ('string' == typeof el.textContent) {\n                return el.textContent;\n            }\n\n            if ('string' == typeof el.innerText) {\n                return el.innerText;\n            }\n\n            return el.innerHTML.replace(/<[^>]*>/g, '');\n        }\n        //******************** End Private functions ******************************//\n    };\n\n});\n","Magento_InventorySalesAdminUi/js/stock/grid/cell/sales-channels.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'underscore'\n], function (Column, _) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/stock/grid/cell/sales-channel-cell.html'\n        },\n\n        /**\n         * Get sales channels grouped by type\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalesChannelsGroupedByType: function (record) {\n            var result = [];\n\n            _.each(record[this.index], function (channels, type) {\n                result.push({\n                    type: type,\n                    channels: channels\n                });\n            });\n\n            return result;\n        }\n    });\n});\n","Magento_InventorySalesAdminUi/js/product/grid/cell/salable-quantity.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/product/grid/cell/salable-quantity.html'\n        },\n\n        /**\n         * Get salable quantity data (stock name and salable qty)\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalableQuantityData: function (record) {\n            return record[this.index] ? record[this.index] : [];\n        }\n    });\n});\n","Magento_Swatches/js/product-attributes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/modal/prompt',\n    'uiRegistry',\n    'collapsable'\n], function ($, alert, prompt, rg) {\n    'use strict';\n\n    return function (optionConfig) {\n        var activePanelClass = 'selected-type-options',\n            swatchProductAttributes = {\n                frontendInput: $('#frontend_input'),\n                isFilterable: $('#is_filterable'),\n                isFilterableInSearch: $('#is_filterable_in_search'),\n                backendType: $('#backend_type'),\n                usedForSortBy: $('#used_for_sort_by'),\n                frontendClass: $('#frontend_class'),\n                isWysiwygEnabled: $('#is_wysiwyg_enabled'),\n                isHtmlAllowedOnFront: $('#is_html_allowed_on_front'),\n                isRequired: $('#is_required'),\n                isUnique: $('#is_unique'),\n                defaultValueText: $('#default_value_text'),\n                defaultValueTextarea: $('#default_value_textarea'),\n                defaultValueDate: $('#default_value_date'),\n                defaultValueDatetime: $('#default_value_datetime'),\n                defaultValueYesno: $('#default_value_yesno'),\n                isGlobal: $('#is_global'),\n                useProductImageForSwatch: $('#use_product_image_for_swatch'),\n                updateProductPreviewImage: $('#update_product_preview_image'),\n                usedInProductListing: $('#used_in_product_listing'),\n                isVisibleOnFront: $('#is_visible_on_front'),\n                position: $('#position'),\n                attrTabsFront: $('#product_attribute_tabs_front'),\n\n                /**\n                 * @returns {*|jQuery|HTMLElement}\n                 */\n                get tabsFront() {\n                    return this.attrTabsFront.length ? this.attrTabsFront.closest('li') : $('#front_fieldset-wrapper');\n                },\n                selectFields: ['boolean', 'select', 'multiselect', 'price', 'swatch_text', 'swatch_visual'],\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                toggleApplyVisibility: function (select) {\n                    if ($(select).val() === 1) {\n                        $(select).next('select').removeClass('no-display');\n                        $(select).next('select').removeClass('ignore-validate');\n                    } else {\n                        $(select).next('select').addClass('no-display');\n                        $(select).next('select').addClass('ignore-validate');\n                        $(select).next('select option:selected').each(function () {\n                            this.selected = false;\n                        });\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                checkOptionsPanelVisibility: function () {\n                    var selectOptionsPanel = $('#manage-options-panel'),\n                        visualOptionsPanel = $('#swatch-visual-options-panel'),\n                        textOptionsPanel = $('#swatch-text-options-panel');\n\n                    this._hidePanel(selectOptionsPanel);\n                    this._hidePanel(visualOptionsPanel);\n                    this._hidePanel(textOptionsPanel);\n\n                    switch (this.frontendInput.val()) {\n                        case 'swatch_visual':\n                            this._showPanel(visualOptionsPanel);\n                            break;\n\n                        case 'swatch_text':\n                            this._showPanel(textOptionsPanel);\n                            break;\n\n                        case 'select':\n                        case 'multiselect':\n                            this._showPanel(selectOptionsPanel);\n                            break;\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                bindAttributeInputType: function () {\n                    this.checkOptionsPanelVisibility();\n                    this.switchDefaultValueField();\n\n                    if (!~$.inArray(this.frontendInput.val(), this.selectFields)) {\n                        // not in array\n                        this.isFilterable.selectedIndex = 0;\n                        this._disable(this.isFilterable);\n                        this._disable(this.isFilterableInSearch);\n                    } else {\n                        // in array\n                        this._enable(this.isFilterable);\n                        this._enable(this.isFilterableInSearch);\n                        this.backendType.val('int');\n                    }\n\n                    if (this.frontendInput.val() === 'multiselect' ||\n                        this.frontendInput.val() === 'gallery' ||\n                        this.frontendInput.val() === 'textarea'\n                    ) {\n                        this._disable(this.usedForSortBy);\n                    } else {\n                        this._enable(this.usedForSortBy);\n                    }\n\n                    if (this.frontendInput.val() === 'swatch_text') {\n                        $('.swatch-text-field-0').addClass('required-option');\n                    } else {\n                        $('.swatch-text-field-0').removeClass('required-option');\n                    }\n\n                    this.setRowVisibility(this.isWysiwygEnabled, false);\n                    this.setRowVisibility(this.isHtmlAllowedOnFront, false);\n\n                    switch (this.frontendInput.val()) {\n                        case 'textarea':\n                            this.setRowVisibility(this.isWysiwygEnabled, true);\n\n                            if (this.isWysiwygEnabled.val() === '0') {\n                                this._enable(this.isHtmlAllowedOnFront);\n                            }\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                            break;\n\n                        case 'text':\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\n                            this._enable(this.frontendClass);\n                            break;\n\n                        case 'select':\n                        case 'multiselect':\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                            break;\n                        default:\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                    }\n\n                    this.switchIsFilterable();\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                switchIsFilterable: function () {\n                    if (this.isFilterable.selectedIndex === 0) {\n                        this._disable(this.position);\n                    } else {\n                        this._enable(this.position);\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                switchDefaultValueField: function () {\n                    var currentValue = this.frontendInput.val(),\n                        defaultValueTextVisibility = false,\n                        defaultValueTextareaVisibility = false,\n                        defaultValueDateVisibility = false,\n                        defaultValueDatetimeVisibility = false,\n                        defaultValueYesnoVisibility = false,\n                        scopeVisibility = true,\n                        useProductImageForSwatch = false,\n                        defaultValueUpdateImage = false,\n                        optionDefaultInputType = '',\n                        isFrontTabHidden = false,\n                        thing = this;\n\n                    if (!this.frontendInput.length) {\n                        return;\n                    }\n\n                    switch (currentValue) {\n                        case 'select':\n                            optionDefaultInputType = 'radio';\n                            break;\n\n                        case 'multiselect':\n                            optionDefaultInputType = 'checkbox';\n                            break;\n\n                        case 'date':\n                            defaultValueDateVisibility = true;\n                            break;\n\n                        case 'datetime':\n                            defaultValueDatetimeVisibility = true;\n                            break;\n\n                        case 'boolean':\n                            defaultValueYesnoVisibility = true;\n                            break;\n\n                        case 'textarea':\n                        case 'texteditor':\n                            defaultValueTextareaVisibility = true;\n                            break;\n\n                        case 'media_image':\n                            defaultValueTextVisibility = false;\n                            break;\n\n                        case 'price':\n                            scopeVisibility = false;\n                            break;\n\n                        case 'swatch_visual':\n                            useProductImageForSwatch = true;\n                            defaultValueUpdateImage = true;\n                            defaultValueTextVisibility = false;\n                            break;\n\n                        case 'swatch_text':\n                            useProductImageForSwatch = false;\n                            defaultValueUpdateImage = true;\n                            defaultValueTextVisibility = false;\n                            break;\n                        default:\n                            defaultValueTextVisibility = true;\n                            break;\n                    }\n\n                    delete optionConfig.hiddenFields['swatch_visual'];\n                    delete optionConfig.hiddenFields['swatch_text'];\n\n                    if (currentValue === 'media_image') {\n                        this.tabsFront.hide();\n                        this.setRowVisibility(this.isRequired, false);\n                        this.setRowVisibility(this.isUnique, false);\n                        this.setRowVisibility(this.frontendClass, false);\n                    } else if (optionConfig.hiddenFields[currentValue]) {\n                        $.each(optionConfig.hiddenFields[currentValue], function (key, option) {\n                            switch (option) {\n                                case '_front_fieldset':\n                                    thing.tabsFront.hide();\n                                    isFrontTabHidden = true;\n                                    break;\n\n                                case '_default_value':\n                                    defaultValueTextVisibility = false;\n                                    defaultValueTextareaVisibility = false;\n                                    defaultValueDateVisibility = false;\n                                    defaultValueDatetimeVisibility = false;\n                                    defaultValueYesnoVisibility = false;\n                                    break;\n\n                                case '_scope':\n                                    scopeVisibility = false;\n                                    break;\n                                default:\n                                    thing.setRowVisibility($('#' + option), false);\n                            }\n                        });\n\n                        if (!isFrontTabHidden) {\n                            thing.tabsFront.show();\n                        }\n\n                    } else {\n                        this.tabsFront.show();\n                        this.showDefaultRows();\n                    }\n\n                    this.setRowVisibility(this.defaultValueText, defaultValueTextVisibility);\n                    this.setRowVisibility(this.defaultValueTextarea, defaultValueTextareaVisibility);\n                    this.setRowVisibility(this.defaultValueDate, defaultValueDateVisibility);\n                    this.setRowVisibility(this.defaultValueDatetime, defaultValueDatetimeVisibility);\n                    this.setRowVisibility(this.defaultValueYesno, defaultValueYesnoVisibility);\n                    this.setRowVisibility(this.isGlobal, scopeVisibility);\n\n                    /* swatch attributes */\n                    this.setRowVisibility(this.useProductImageForSwatch, useProductImageForSwatch);\n                    this.setRowVisibility(this.updateProductPreviewImage, defaultValueUpdateImage);\n\n                    $('input[name=\\'default[]\\']').each(function () {\n                        $(this).attr('type', optionDefaultInputType);\n                    });\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                showDefaultRows: function () {\n                    this.setRowVisibility(this.isRequired, true);\n                    this.setRowVisibility(this.isUnique, true);\n                    this.setRowVisibility(this.frontendClass, true);\n                },\n\n                /**\n                 * @param {Object} el\n                 * @param {Boolean} isVisible\n                 * @this {swatchProductAttributes}\n                 */\n                setRowVisibility: function (el, isVisible) {\n                    if (isVisible) {\n                        el.show();\n                        el.closest('.field').show();\n                    } else {\n                        el.hide();\n                        el.closest('.field').hide();\n                    }\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _disable: function (el) {\n                    el.attr('disabled', 'disabled');\n                },\n\n                /**\n                 * @param {jQuery} el\n                 * @this {swatchProductAttributes}\n                 */\n                _enable: function (el) {\n                    if (!el.attr('readonly')) {\n                        el.prop('disabled', false);\n                    }\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _showPanel: function (el) {\n                    el.closest('.fieldset').show();\n                    el.addClass(activePanelClass);\n                    this._render(el.attr('id'));\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _hidePanel: function (el) {\n                    el.closest('.fieldset').hide();\n                    el.removeClass(activePanelClass);\n                },\n\n                /**\n                 * @param {String} id\n                 * @this {swatchProductAttributes}\n                 */\n                _render: function (id) {\n                    rg.get(id, function () {\n                        $('#' + id).trigger('render');\n                    });\n                },\n\n                /**\n                 * @param {String} promptMessage\n                 * @this {swatchProductAttributes}\n                 */\n                saveAttributeInNewSet: function (promptMessage) {\n\n                    prompt({\n                        content: promptMessage,\n                        actions: {\n\n                            /**\n                             * @param {String} val\n                             * @this {actions}\n                             */\n                            confirm: function (val) {\n                                var rules = ['required-entry', 'validate-no-html-tags'],\n                                    newAttributeSetNameInputId = $('#new_attribute_set_name'),\n                                    editForm = $('#edit_form'),\n                                    newAttributeSetName = val,\n                                    i;\n\n                                if (!newAttributeSetName) {\n                                    return;\n                                }\n\n                                for (i = 0; i < rules.length; i++) {\n                                    if (!$.validator.methods[rules[i]](newAttributeSetName)) {\n                                        alert({\n                                            content: $.validator.messages[rules[i]]\n                                        });\n\n                                        return;\n                                    }\n                                }\n\n                                if (newAttributeSetNameInputId.length) {\n                                    newAttributeSetNameInputId.val(newAttributeSetName);\n                                } else {\n                                    editForm.append(new Element('input', {\n                                            type: 'hidden',\n                                            id: newAttributeSetNameInputId,\n                                            name: 'new_attribute_set_name',\n                                            value: newAttributeSetName\n                                        })\n                                    );\n                                }\n                                // Temporary solution will replaced after refactoring of attributes functionality\n                                editForm.triggerHandler('save');\n                            }\n                        }\n                    });\n                }\n            };\n\n        $(function () {\n            var editForm = $('#edit_form'),\n                swatchVisualPanel = $('#swatch-visual-options-panel'),\n                swatchTextPanel = $('#swatch-text-options-panel'),\n                tableBody = $(),\n                activePanel = $();\n\n            $('#frontend_input').on('change', function () {\n                swatchProductAttributes.bindAttributeInputType();\n            });\n            $('#is_filterable').on('change', function () {\n                swatchProductAttributes.switchIsFilterable();\n            });\n\n            swatchProductAttributes.bindAttributeInputType();\n\n            // @todo: refactor collapsible component\n            $('.attribute-popup .collapse, [data-role=\"advanced_fieldset-content\"]')\n                .collapsable()\n                .collapse('hide');\n\n            editForm.on('beforeSubmit', function () {\n                var optionContainer, optionsValues;\n\n                activePanel = swatchTextPanel.hasClass(activePanelClass) ? swatchTextPanel : swatchVisualPanel;\n                optionContainer = activePanel.find('table tbody');\n\n                if (activePanel.hasClass(activePanelClass)) {\n                    optionsValues = $.map(\n                        optionContainer.find('tr'),\n                        function (row) {\n                            return $(row).find('input, select, textarea').serialize();\n                        }\n                    );\n                    $('<input>')\n                        .attr({\n                            type: 'hidden',\n                            name: 'serialized_options'\n                        })\n                        .val(JSON.stringify(optionsValues))\n                        .prependTo(editForm);\n                }\n\n                tableBody = optionContainer.detach();\n            });\n\n            editForm.on('afterValidate.error highlight.validate', function () {\n                if (activePanel.hasClass(activePanelClass)) {\n                    activePanel.find('table').append(tableBody);\n                    $('input[name=\"serialized_options\"]').remove();\n                }\n            });\n        });\n\n        window.saveAttributeInNewSet = swatchProductAttributes.saveAttributeInNewSet;\n        window.toggleApplyVisibility = swatchProductAttributes.toggleApplyVisibility;\n    };\n});\n","Magento_Swatches/js/swatch-renderer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'mage/smart-keyboard-handler',\n    'mage/translate',\n    'priceUtils',\n    'jquery-ui-modules/widget',\n    'jquery/jquery.parsequery',\n    'mage/validation/validation'\n], function ($, _, mageTemplate, keyboardHandler, $t, priceUtils) {\n    'use strict';\n\n    /**\n     * Extend form validation to support swatch accessibility\n     */\n    $.widget('mage.validation', $.mage.validation, {\n        /**\n         * Handle form with swatches validation. Focus on first invalid swatch block.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler: function (event, validation) {\n            var swatchWrapper, firstActive, swatches, swatch, successList, errorList, firstSwatch;\n\n            this._superApply(arguments);\n\n            swatchWrapper = '.swatch-attribute-options';\n            swatches = $(event.target).find(swatchWrapper);\n\n            if (!swatches.length) {\n                return;\n            }\n\n            swatch = '.swatch-attribute';\n            firstActive = $(validation.errorList[0].element || []);\n            successList = validation.successList;\n            errorList = validation.errorList;\n            firstSwatch = $(firstActive).parent(swatch).find(swatchWrapper);\n\n            keyboardHandler.focus(swatches);\n\n            $.each(successList, function (index, item) {\n                $(item).parent(swatch).find(swatchWrapper).attr('aria-invalid', false);\n            });\n\n            $.each(errorList, function (index, item) {\n                $(item.element).parent(swatch).find(swatchWrapper).attr('aria-invalid', true);\n            });\n\n            if (firstSwatch.length) {\n                $(firstSwatch).trigger('focus');\n            }\n        }\n    });\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - data-option-type (integer, 0-3)\n     *  - data-option-label (string)\n     *  - data-option-tooltip-thumb\n     *  - data-option-tooltip-value\n     *  - data-thumb-width\n     *  - data-thumb-height\n     */\n    $.widget('mage.SwatchRendererTooltip', {\n        options: {\n            delay: 200,                             //how much ms before tooltip to show\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            var $widget = this,\n                $this = this.element,\n                $element = $('.' + $widget.options.tooltipClass),\n                timer,\n                type = parseInt($this.data('option-type'), 10),\n                label = $this.data('option-label'),\n                thumb = $this.data('option-tooltip-thumb'),\n                value = $this.data('option-tooltip-value'),\n                width = $this.data('thumb-width'),\n                height = $this.data('thumb-height'),\n                $image,\n                $title,\n                $corner;\n\n            if (!$element.length) {\n                $element = $('<div class=\"' +\n                    $widget.options.tooltipClass +\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\n                );\n                $('body').append($element);\n            }\n\n            $image = $element.find('.image');\n            $title = $element.find('.title');\n            $corner = $element.find('.corner');\n\n            $this.on('mouseenter', function () {\n                if (!$this.hasClass('disabled')) {\n                    timer = setTimeout(\n                        function () {\n                            var leftOpt = null,\n                                leftCorner = 0,\n                                left,\n                                $window;\n\n                            if (type === 2) {\n                                // Image\n                                $image.css({\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\n                                    'background-size': 'initial',\n                                    'width': width + 'px',\n                                    'height': height + 'px'\n                                });\n                                $image.show();\n                            } else if (type === 1) {\n                                // Color\n                                $image.css({\n                                    background: value\n                                });\n                                $image.show();\n                            } else if (type === 0 || type === 3) {\n                                // Default\n                                $image.hide();\n                            }\n\n                            $title.text(label);\n\n                            leftOpt = $this.offset().left;\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\n                            $window = $(window);\n\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\n                            if (left < 0) {\n                                left = 5;\n                            } else if (left + $element.width() > $window.width()) {\n                                left = $window.width() - $element.width() - 5;\n                            }\n\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\n                            leftCorner = 0;\n\n                            if ($element.width() < $this.width()) {\n                                leftCorner = $element.width() / 2 - 3;\n                            } else {\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\n                            }\n\n                            $corner.css({\n                                left: leftCorner\n                            });\n                            $element.css({\n                                left: left,\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\n                            }).show();\n                        },\n                        $widget.options.delay\n                    );\n                }\n            });\n\n            $this.on('mouseleave', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $(document).on('tap', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $this.on('tap', function (event) {\n                event.stopPropagation();\n            });\n        }\n    });\n\n    /**\n     * Render swatch controls with options and use tooltips.\n     * Required two json:\n     *  - jsonConfig (magento's option config)\n     *  - jsonSwatchConfig (swatch's option config)\n     *\n     *  Tuning:\n     *  - numberToShow (show \"more\" button if options are more)\n     *  - onlySwatches (hide selectboxes)\n     *  - moreButtonText (text for \"more\" button)\n     *  - selectorProduct (selector for product container)\n     *  - selectorProductPrice (selector for change price)\n     */\n    $.widget('mage.SwatchRenderer', {\n        options: {\n            classes: {\n                attributeClass: 'swatch-attribute',\n                attributeLabelClass: 'swatch-attribute-label',\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\n                attributeOptionsWrapper: 'swatch-attribute-options',\n                attributeInput: 'swatch-input',\n                optionClass: 'swatch-option',\n                selectClass: 'swatch-select',\n                moreButton: 'swatch-more',\n                loader: 'swatch-option-loading'\n            },\n            // option's json config\n            jsonConfig: {},\n\n            // swatch's json config\n            jsonSwatchConfig: {},\n\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\n            selectorProduct: '.product-info-main',\n\n            // selector of price wrapper (need to know where set price)\n            selectorProductPrice: '[data-role=priceBox]',\n\n            //selector of product images gallery wrapper\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n\n            // selector of category product tile wrapper\n            selectorProductTile: '.product-item',\n\n            // number of controls to show (false or zero = show all)\n            numberToShow: false,\n\n            // show only swatch controls\n            onlySwatches: false,\n\n            // enable label for control\n            enableControlLabel: true,\n\n            // control label id\n            controlLabelId: '',\n\n            // text for more button\n            moreButtonText: $t('More'),\n\n            // Callback url for media\n            mediaCallback: '',\n\n            // Local media cache\n            mediaCache: {},\n\n            // Cache for BaseProduct images. Needed when option unset\n            mediaGalleryInitial: [{}],\n\n            // Use ajax to get image data\n            useAjax: false,\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace',\n\n            // whether swatches are rendered in product list or on product page\n            inProductList: false,\n\n            // sly-old-price block selector\n            slyOldPriceSelector: '.sly-old-price',\n\n            // tier prise selectors start\n            tierPriceTemplateSelector: '#tier-prices-template',\n            tierPriceBlockSelector: '[data-role=\"tier-price-block\"]',\n            tierPriceTemplate: '',\n            // tier prise selectors end\n\n            // A price label selector\n            normalPriceLabelSelector: '.product-info-main .normal-price .price-label',\n            qtyInfo: '#qty'\n        },\n\n        /**\n         * Get chosen product\n         *\n         * @returns int|null\n         */\n        getProduct: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) ? products[0] : null;\n        },\n\n        /**\n         * Get chosen product id\n         *\n         * @returns int|null\n         */\n        getProductId: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) && products.length === 1 ? products[0] : null;\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            // Don't render the same set of swatches twice\n            if ($(this.element).attr('data-rendered')) {\n                return;\n            }\n\n            $(this.element).attr('data-rendered', true);\n\n            if (_.isEmpty(this.options.jsonConfig.images)) {\n                this.options.useAjax = true;\n                // creates debounced variant of _LoadProductMedia()\n                // to use it in events handlers instead of _LoadProductMedia()\n                this._debouncedLoadProductMedia = _.debounce(this._LoadProductMedia.bind(this), 500);\n            }\n\n            this.options.tierPriceTemplate = $(this.options.tierPriceTemplateSelector).html();\n\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\n                // store unsorted attributes\n                this.options.jsonConfig.mappedAttributes = _.clone(this.options.jsonConfig.attributes);\n                this._sortAttributes();\n                this._RenderControls();\n                this._setPreSelectedGallery();\n                $(this.element).trigger('swatch.initialized');\n            } else {\n                console.log('SwatchRenderer: No input data received');\n            }\n        },\n\n        /**\n         * @private\n         */\n        _sortAttributes: function () {\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\n                return parseInt(attribute.position, 10);\n            });\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            var options = this.options,\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\n                productData = this._determineProductData(),\n                $main = productData.isInProductView ?\n                    this.element.parents('.column.main') :\n                    this.element.parents('.product-item-info');\n\n            if (productData.isInProductView) {\n                gallery.data('gallery') ?\n                    this._onGalleryLoaded(gallery) :\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n            } else {\n                options.mediaGalleryInitial = [{\n                    'img': $main.find('.product-image-photo').attr('src')\n                }];\n            }\n\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\n            this.inProductList = this.productForm.length > 0;\n            $(this.options.qtyInfo).on('input', this._onQtyChanged.bind(this));\n        },\n\n        /**\n         * Determine product id and related data\n         *\n         * @returns {{productId: *, isInProductView: bool}}\n         * @private\n         */\n        _determineProductData: function () {\n            // Check if product is in a list of products.\n            var productId,\n                isInProductView = false;\n\n            productId = this.element.parents('.product-item-details')\n                    .find('.price-box.price-final_price').attr('data-product-id');\n\n            if (!productId) {\n                // Check individual product.\n                productId = $('[name=product]').val();\n                isInProductView = productId > 0;\n            }\n\n            return {\n                productId: productId,\n                isInProductView: isInProductView\n            };\n        },\n\n        /**\n         * Render controls\n         *\n         * @private\n         */\n        _RenderControls: function () {\n            var $widget = this,\n                container = this.element,\n                classes = this.options.classes,\n                chooseText = this.options.jsonConfig.chooseText,\n                showTooltip = this.options.showTooltip;\n\n            $widget.optionsMap = {};\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                var item = this,\n                    controlLabelId = 'option-label-' + item.code + '-' + item.id,\n                    options = $widget._RenderSwatchOptions(item, controlLabelId),\n                    select = $widget._RenderSwatchSelect(item, chooseText),\n                    input = $widget._RenderFormInput(item),\n                    listLabel = '',\n                    label = '';\n\n                // Show only swatch controls\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\n                    return;\n                }\n\n                if ($widget.options.enableControlLabel) {\n                    label +=\n                        '<span id=\"' + controlLabelId + '\" class=\"' + classes.attributeLabelClass + '\">' +\n                        $('<i></i>').text(item.label).html() +\n                        '</span>' +\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\n                }\n\n                if ($widget.inProductList) {\n                    $widget.productForm.append(input);\n                    input = '';\n                    listLabel = 'aria-label=\"' + $('<i></i>').text(item.label).html() + '\"';\n                } else {\n                    listLabel = 'aria-labelledby=\"' + controlLabelId + '\"';\n                }\n\n                // Create new control\n                container.append(\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code + '\" ' +\n                         'data-attribute-code=\"' + item.code + '\" ' +\n                         'data-attribute-id=\"' + item.id + '\">' +\n                        label +\n                        '<div aria-activedescendant=\"\" ' +\n                             'tabindex=\"0\" ' +\n                             'aria-invalid=\"false\" ' +\n                             'aria-required=\"true\" ' +\n                             'role=\"listbox\" ' + listLabel +\n                             'class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\n                            options + select +\n                        '</div>' + input +\n                    '</div>'\n                );\n\n                $widget.optionsMap[item.id] = {};\n\n                // Aggregate options array to hash (key => value)\n                $.each(item.options, function () {\n                    if (this.products.length > 0) {\n                        $widget.optionsMap[item.id][this.id] = {\n                            price: parseInt(\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\n                                10\n                            ),\n                            products: this.products\n                        };\n                    }\n                });\n            });\n\n            if (showTooltip === 1) {\n                // Connect Tooltip\n                container\n                    .find('[data-option-type=\"1\"], [data-option-type=\"2\"],' +\n                        ' [data-option-type=\"0\"], [data-option-type=\"3\"]')\n                    .SwatchRendererTooltip();\n            }\n\n            // Hide all elements below more button\n            $('.' + classes.moreButton).nextAll().hide();\n\n            // Handle events like click or change\n            $widget._EventListener();\n\n            // Rewind options\n            $widget._Rewind(container);\n\n            //Emulate click on all swatches from Request\n            $widget._EmulateSelected($.parseQuery());\n            $widget._EmulateSelected($widget._getSelectedAttributes());\n        },\n\n        disableSwatchForOutOfStockProducts: function () {\n            let $widget = this, container = this.element;\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                let item = this;\n\n                if ($widget.options.jsonConfig.canDisplayShowOutOfStockStatus) {\n                    let salableProducts = $widget.options.jsonConfig.salable[item.id],\n                        swatchOptions = $(container).find(`[data-attribute-id='${item.id}']`).find('.swatch-option');\n\n                    swatchOptions.each(function (key, value) {\n                        let optionId = $(value).data('option-id');\n\n                        if (!salableProducts.hasOwnProperty(optionId)) {\n                            $(value).attr('disabled', true).addClass('disabled');\n                        }\n                    });\n                }\n            });\n        },\n\n        /**\n         * Render swatch options by part of config\n         *\n         * @param {Object} config\n         * @param {String} controlId\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchOptions: function (config, controlId) {\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\n                optionClass = this.options.classes.optionClass,\n                sizeConfig = this.options.jsonSwatchImageSizeConfig,\n                moreLimit = parseInt(this.options.numberToShow, 10),\n                moreClass = this.options.classes.moreButton,\n                moreText = this.options.moreButtonText,\n                countAttributes = 0,\n                html = '';\n\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            $.each(config.options, function (index) {\n                var id,\n                    type,\n                    value,\n                    thumb,\n                    label,\n                    width,\n                    height,\n                    attr,\n                    swatchImageWidth,\n                    swatchImageHeight;\n\n                if (!optionConfig.hasOwnProperty(this.id)) {\n                    return '';\n                }\n\n                // Add more button\n                if (moreLimit === countAttributes++) {\n                    html += '<a href=\"#\" class=\"' + moreClass + '\"><span>' + moreText + '</span></a>';\n                }\n\n                id = this.id;\n                type = parseInt(optionConfig[id].type, 10);\n                value = optionConfig[id].hasOwnProperty('value') ?\n                    $('<i></i>').text(optionConfig[id].value).html() : '';\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\n                width = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.width : 110;\n                height = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.height : 90;\n                label = this.label ? $('<i></i>').text(this.label).html() : '';\n                attr =\n                    ' id=\"' + controlId + '-item-' + id + '\"' +\n                    ' index=\"' + index + '\"' +\n                    ' aria-checked=\"false\"' +\n                    ' aria-describedby=\"' + controlId + '\"' +\n                    ' tabindex=\"0\"' +\n                    ' data-option-type=\"' + type + '\"' +\n                    ' data-option-id=\"' + id + '\"' +\n                    ' data-option-label=\"' + label + '\"' +\n                    ' aria-label=\"' + label + '\"' +\n                    ' role=\"option\"' +\n                    ' data-thumb-width=\"' + width + '\"' +\n                    ' data-thumb-height=\"' + height + '\"';\n\n                attr += thumb !== '' ? ' data-option-tooltip-thumb=\"' + thumb + '\"' : '';\n                attr += value !== '' ? ' data-option-tooltip-value=\"' + value + '\"' : '';\n\n                swatchImageWidth = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.width : 30;\n                swatchImageHeight = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.height : 20;\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' data-option-empty=\"true\"';\n                }\n\n                if (type === 0) {\n                    // Text\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\n                        '</div>';\n                } else if (type === 1) {\n                    // Color\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\n                        ' style=\"background: ' + value +\n                        ' no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 2) {\n                    // Image\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\n                        ' style=\"background: url(' + value + ') no-repeat center; background-size: initial;width:' +\n                        swatchImageWidth + 'px; height:' + swatchImageHeight + 'px\">' + '' +\n                        '</div>';\n                } else if (type === 3) {\n                    // Clear\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\n                } else {\n                    // Default\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\n                }\n            });\n\n            return html;\n        },\n\n        /**\n         * Render select by part of config\n         *\n         * @param {Object} config\n         * @param {String} chooseText\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchSelect: function (config, chooseText) {\n            var html;\n\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            html =\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\n                '<option value=\"0\" data-option-id=\"0\">' + chooseText + '</option>';\n\n            $.each(config.options, function () {\n                var label = this.label,\n                    attr = ' value=\"' + this.id + '\" data-option-id=\"' + this.id + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' data-option-empty=\"true\"';\n                }\n\n                html += '<option ' + attr + '>' + label + '</option>';\n            });\n\n            html += '</select>';\n\n            return html;\n        },\n\n        /**\n         * Input for submit form.\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\n         *\n         * @param {Object} config\n         * @private\n         */\n        _RenderFormInput: function (config) {\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\n                'name=\"super_attribute[' + config.id + ']\" ' +\n                'type=\"text\" ' +\n                'value=\"\" ' +\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\n                'data-validate=\"{required: true}\" ' +\n                'aria-required=\"true\" ' +\n                'aria-invalid=\"false\">';\n        },\n\n        /**\n         * Event listener\n         *\n         * @private\n         */\n        _EventListener: function () {\n            var $widget = this,\n                options = this.options.classes,\n                target;\n\n            $widget.element.on('click', '.' + options.optionClass, function () {\n                return $widget._OnClick($(this), $widget);\n            });\n\n            $widget.element.on('change', '.' + options.selectClass, function () {\n                return $widget._OnChange($(this), $widget);\n            });\n\n            $widget.element.on('click', '.' + options.moreButton, function (e) {\n                e.preventDefault();\n\n                return $widget._OnMoreClick($(this));\n            });\n\n            $widget.element.on('keydown', function (e) {\n                if (e.which === 13) {\n                    target = $(e.target);\n\n                    if (target.is('.' + options.optionClass)) {\n                        return $widget._OnClick(target, $widget);\n                    } else if (target.is('.' + options.selectClass)) {\n                        return $widget._OnChange(target, $widget);\n                    } else if (target.is('.' + options.moreButton)) {\n                        e.preventDefault();\n\n                        return $widget._OnMoreClick(target);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Load media gallery using ajax or json config.\n         *\n         * @private\n         */\n        _loadMedia: function () {\n            var $main = this.inProductList ?\n                    this.element.parents('.product-item-info') :\n                    this.element.parents('.column.main'),\n                images;\n\n            if (this.options.useAjax) {\n                this._debouncedLoadProductMedia();\n            }  else {\n                images = this.options.jsonConfig.images[this.getProduct()];\n\n                if (!images) {\n                    images = this.options.mediaGalleryInitial;\n                }\n                this.updateBaseImage(this._sortImages(images), $main, !this.inProductList);\n            }\n        },\n\n        /**\n         * Sorting images array\n         *\n         * @private\n         */\n        _sortImages: function (images) {\n            return _.sortBy(images, function (image) {\n                return parseInt(image.position, 10);\n            });\n        },\n\n        /**\n         * Event for swatch options\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnClick: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                $wrapper = $this.parents('.' + $widget.options.classes.attributeOptionsWrapper),\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\n                attributeId = $parent.data('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput),\n                checkAdditionalData = JSON.parse(this.options.jsonSwatchConfig[attributeId]['additional_data']),\n                $priceBox = $widget.element.parents($widget.options.selectorProduct)\n                    .find(this.options.selectorProductPrice);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.hasClass('disabled')) {\n                return;\n            }\n\n            if ($this.hasClass('selected')) {\n                $parent.removeAttr('data-option-selected').find('.selected').removeClass('selected');\n                $input.val('');\n                $label.text('');\n                $this.attr('aria-checked', false);\n            } else {\n                $parent.attr('data-option-selected', $this.data('option-id')).find('.selected').removeClass('selected');\n                $label.text($this.data('option-label'));\n                $input.val($this.data('option-id'));\n                $input.attr('data-attr-name', this._getAttributeCodeById(attributeId));\n                $this.addClass('selected');\n                $widget._toggleCheckedAttributes($this, $wrapper);\n            }\n\n            $widget._Rebuild();\n\n            if ($priceBox.is(':data(mage-priceBox)')) {\n                $widget._UpdatePrice();\n            }\n\n            $(document).trigger('updateMsrpPriceBlock',\n                [\n                    this._getSelectedOptionPriceIndex(),\n                    $widget.options.jsonConfig.optionPrices,\n                    $priceBox\n                ]);\n\n            if (parseInt(checkAdditionalData['update_product_preview_image'], 10) === 1) {\n                $widget._loadMedia();\n            }\n\n            $input.trigger('change');\n        },\n\n        /**\n         * Get selected option price index\n         *\n         * @return {String|undefined}\n         * @private\n         */\n        _getSelectedOptionPriceIndex: function () {\n            var allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\n\n            if (_.isEmpty(allowedProduct)) {\n                return undefined;\n            }\n\n            return allowedProduct;\n        },\n\n        /**\n         * Get human readable attribute code (eg. size, color) by it ID from configuration\n         *\n         * @param {Number} attributeId\n         * @returns {*}\n         * @private\n         */\n        _getAttributeCodeById: function (attributeId) {\n            var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n            return attribute ? attribute.code : attributeId;\n        },\n\n        /**\n         * Toggle accessibility attributes\n         *\n         * @param {Object} $this\n         * @param {Object} $wrapper\n         * @private\n         */\n        _toggleCheckedAttributes: function ($this, $wrapper) {\n            $wrapper.attr('aria-activedescendant', $this.attr('id'))\n                    .find('.' + this.options.classes.optionClass).attr('aria-checked', false);\n            $this.attr('aria-checked', true);\n        },\n\n        /**\n         * Event for select\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnChange: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                attributeId = $parent.data('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.productForm.length > 0) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.val() > 0) {\n                $parent.attr('data-option-selected', $this.val());\n                $input.val($this.val());\n            } else {\n                $parent.removeAttr('data-option-selected');\n                $input.val('');\n            }\n\n            $widget._Rebuild();\n            $widget._UpdatePrice();\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for more switcher\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _OnMoreClick: function ($this) {\n            $this.nextAll().show();\n            $this.trigger('blur').remove();\n        },\n\n        /**\n         * Rewind options for controls\n         *\n         * @private\n         */\n        _Rewind: function (controls) {\n            controls.find('div[data-option-id], option[data-option-id]')\n                .removeClass('disabled')\n                .prop('disabled', false);\n            controls.find('div[data-option-empty], option[data-option-empty]')\n                .attr('disabled', true)\n                .addClass('disabled')\n                .attr('tabindex', '-1');\n            this.disableSwatchForOutOfStockProducts();\n        },\n\n        /**\n         * Rebuild container\n         *\n         * @private\n         */\n        _Rebuild: function () {\n            var $widget = this,\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[data-attribute-id]'),\n                selected = controls.filter('[data-option-selected]');\n\n            // Enable all options\n            $widget._Rewind(controls);\n\n            // done if nothing selected\n            if (selected.length <= 0) {\n                return;\n            }\n\n            // Disable not available options\n            controls.each(function () {\n                var $this = $(this),\n                    id = $this.data('attribute-id'),\n                    products = $widget._CalcProducts(id);\n\n                if (selected.length === 1 && selected.first().data('attribute-id') === id) {\n                    return;\n                }\n\n                $this.find('[data-option-id]').each(function () {\n                    var $element = $(this),\n                        option = $element.data('option-id');\n\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\n                        $element.hasClass('selected') ||\n                        $element.is(':selected')) {\n                        return;\n                    }\n\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\n                        $element.attr('disabled', true).addClass('disabled');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Get selected product list\n         *\n         * @returns {Array}\n         * @private\n         */\n        _CalcProducts: function ($skipAttributeId) {\n            var $widget = this,\n                selectedOptions = '.' + $widget.options.classes.attributeClass + '[data-option-selected]',\n                products = [];\n\n            // Generate intersection of products\n            $widget.element.find(selectedOptions).each(function () {\n                var id = $(this).data('attribute-id'),\n                    option = $(this).attr('data-option-selected');\n\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\n                    return;\n                }\n\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\n                    return;\n                }\n\n                if (products.length === 0) {\n                    products = $widget.optionsMap[id][option].products;\n                } else {\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\n                }\n            });\n\n            return products;\n        },\n\n        /**\n         * Update total price\n         *\n         * @private\n         */\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                result = $widget._getNewPrices(),\n                tierPriceHtml,\n                isShow;\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            isShow = typeof result != 'undefined' && result.oldPrice.amount !== result.finalPrice.amount;\n\n            $productPrice.find('span:first').toggleClass('special-price', isShow);\n\n            $product.find(this.options.slyOldPriceSelector)[isShow ? 'show' : 'hide']();\n\n            if (typeof result != 'undefined' && result.tierPrices && result.tierPrices.length) {\n                if (this.options.tierPriceTemplate) {\n                    tierPriceHtml = mageTemplate(\n                        this.options.tierPriceTemplate,\n                        {\n                            'tierPrices': result.tierPrices,\n                            '$t': $t,\n                            'currencyFormat': this.options.jsonConfig.currencyFormat,\n                            'priceUtils': priceUtils\n                        }\n                    );\n                    $(this.options.tierPriceBlockSelector).html(tierPriceHtml).show();\n                }\n            } else {\n                $(this.options.tierPriceBlockSelector).hide();\n            }\n\n            $(this.options.normalPriceLabelSelector).hide();\n\n            _.each($('.' + this.options.classes.attributeOptionsWrapper), function (attribute) {\n                if ($(attribute).find('.' + this.options.classes.optionClass + '.selected').length === 0) {\n                    if ($(attribute).find('.' + this.options.classes.selectClass).length > 0) {\n                        _.each($(attribute).find('.' + this.options.classes.selectClass), function (dropdown) {\n                            if ($(dropdown).val() === '0') {\n                                $(this.options.normalPriceLabelSelector).show();\n                            }\n                        }.bind(this));\n                    } else {\n                        $(this.options.normalPriceLabelSelector).show();\n                    }\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Get new prices for selected options\n         *\n         * @returns {*}\n         * @private\n         */\n        _getNewPrices: function () {\n            var $widget = this,\n                newPrices = $widget.options.jsonConfig.prices,\n                allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\n\n            if (!_.isEmpty(allowedProduct)) {\n                newPrices = this.options.jsonConfig.optionPrices[allowedProduct];\n            }\n\n            return newPrices;\n        },\n\n        /**\n         * Get prices\n         *\n         * @param {Object} newPrices\n         * @param {Object} displayPrices\n         * @returns {*}\n         * @private\n         */\n        _getPrices: function (newPrices, displayPrices) {\n            var $widget = this;\n\n            if (_.isEmpty(newPrices)) {\n                newPrices = $widget._getNewPrices();\n            }\n            _.each(displayPrices, function (price, code) {\n\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Get product with minimum price from selected options.\n         *\n         * @param {Array} allowedProducts\n         * @returns {String}\n         * @private\n         */\n        _getAllowedProductWithMinPrice: function (allowedProducts) {\n            var optionPrices = this.options.jsonConfig.optionPrices,\n                product = {},\n                optionFinalPrice, optionMinPrice;\n\n            _.each(allowedProducts, function (allowedProduct) {\n                optionFinalPrice = parseFloat(optionPrices[allowedProduct].finalPrice.amount);\n\n                if (_.isEmpty(product) || optionFinalPrice < optionMinPrice) {\n                    optionMinPrice = optionFinalPrice;\n                    product = allowedProduct;\n                }\n            }, this);\n\n            return product;\n        },\n\n        /**\n         * Gets all product media and change current to the needed one\n         *\n         * @private\n         */\n        _LoadProductMedia: function () {\n            var $widget = this,\n                $this = $widget.element,\n                productData = this._determineProductData(),\n                mediaCallData,\n                mediaCacheKey,\n\n                /**\n                 * Processes product media data\n                 *\n                 * @param {Object} data\n                 * @returns void\n                 */\n                mediaSuccessCallback = function (data) {\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\n                        $widget.options.mediaCache[mediaCacheKey] = data;\n                    }\n                    $widget._ProductMediaCallback($this, data, productData.isInProductView);\n                    setTimeout(function () {\n                        $widget._DisableProductMediaLoader($this);\n                    }, 300);\n                };\n\n            if (!$widget.options.mediaCallback) {\n                return;\n            }\n\n            mediaCallData = {\n                'product_id': this.getProduct()\n            };\n\n            mediaCacheKey = JSON.stringify(mediaCallData);\n\n            if (mediaCacheKey in $widget.options.mediaCache) {\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\n            } else {\n                mediaCallData.isAjax = true;\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                $widget.xhr = $.ajax({\n                    url: $widget.options.mediaCallback,\n                    cache: true,\n                    type: 'GET',\n                    dataType: 'json',\n                    data: mediaCallData,\n                    success: mediaSuccessCallback\n                }).done(function () {\n                    $widget._XhrKiller();\n                });\n            }\n        },\n\n        /**\n         * Enable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _EnableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .addClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .addClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Disable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _DisableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .removeClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .removeClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Callback for product media\n         *\n         * @param {Object} $this\n         * @param {String} response\n         * @param {Boolean} isInProductView\n         * @private\n         */\n        _ProductMediaCallback: function ($this, response, isInProductView) {\n            var $main = isInProductView ? $this.parents('.column.main') : $this.parents('.product-item-info'),\n                $widget = this,\n                images = [],\n\n                /**\n                 * Check whether object supported or not\n                 *\n                 * @param {Object} e\n                 * @returns {*|Boolean}\n                 */\n                support = function (e) {\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\n                };\n\n            if (_.size($widget) < 1 || !support(response)) {\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isInProductView);\n\n                return;\n            }\n\n            images.push({\n                full: response.large,\n                img: response.medium,\n                thumb: response.small,\n                isMain: true\n            });\n\n            if (response.hasOwnProperty('gallery')) {\n                $.each(response.gallery, function () {\n                    if (!support(this) || response.large === this.large) {\n                        return;\n                    }\n                    images.push({\n                        full: this.large,\n                        img: this.medium,\n                        thumb: this.small\n                    });\n                });\n            }\n\n            this.updateBaseImage(images, $main, isInProductView);\n        },\n\n        /**\n         * Check if images to update are initial and set their type\n         * @param {Array} images\n         */\n        _setImageType: function (images) {\n\n            images.map(function (img) {\n                if (!img.type) {\n                    img.type = 'image';\n                }\n            });\n\n            return images;\n        },\n\n        /**\n         * Update [gallery-placeholder] or [product-image-photo]\n         * @param {Array} images\n         * @param {jQuery} context\n         * @param {Boolean} isInProductView\n         */\n        updateBaseImage: function (images, context, isInProductView) {\n            var justAnImage = images[0],\n                initialImages = this.options.mediaGalleryInitial,\n                imagesToUpdate,\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\n                isInitial;\n\n            if (isInProductView) {\n                if (_.isUndefined(gallery)) {\n                    context.find(this.options.mediaGallerySelector).on('gallery:loaded', function () {\n                        this.updateBaseImage(images, context, isInProductView);\n                    }.bind(this));\n\n                    return;\n                }\n\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\n                isInitial = _.isEqual(imagesToUpdate, initialImages);\n\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\n                }\n\n                imagesToUpdate = this._setImageIndex(imagesToUpdate);\n\n                gallery.updateData(imagesToUpdate);\n                this._addFotoramaVideoEvents(isInitial);\n            } else if (justAnImage && justAnImage.img) {\n                context.find('.product-image-photo').attr('src', justAnImage.img);\n            }\n        },\n\n        /**\n         * Add video events\n         *\n         * @param {Boolean} isInitial\n         * @private\n         */\n        _addFotoramaVideoEvents: function (isInitial) {\n            if (_.isUndefined($.mage.AddFotoramaVideoEvents)) {\n                return;\n            }\n\n            if (isInitial) {\n                $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n\n                return;\n            }\n\n            $(this.options.mediaGallerySelector).AddFotoramaVideoEvents({\n                selectedOption: this.getProduct(),\n                dataMergeStrategy: this.options.gallerySwitchStrategy\n            });\n        },\n\n        /**\n         * Set correct indexes for image set.\n         *\n         * @param {Array} images\n         * @private\n         */\n        _setImageIndex: function (images) {\n            var length = images.length,\n                i;\n\n            for (i = 0; length > i; i++) {\n                images[i].i = i + 1;\n            }\n\n            return images;\n        },\n\n        /**\n         * Kill doubled AJAX requests\n         *\n         * @private\n         */\n        _XhrKiller: function () {\n            var $widget = this;\n\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\n                $widget.xhr.abort();\n                $widget.xhr = null;\n            }\n        },\n\n        /**\n         * Emulate mouse click on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelected: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[data-attribute-code=\"' + attributeCode + '\"] [data-option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Emulate mouse click or selection change on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelectedByAttributeId: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeId, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[data-attribute-id=\"' + attributeId + '\"] [data-option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Get default options values settings with either URL query parameters\n         * @private\n         */\n        _getSelectedAttributes: function () {\n            var hashIndex = window.location.href.indexOf('#'),\n                selectedAttributes = {},\n                params;\n\n            if (hashIndex !== -1) {\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\n\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\n                    var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n                    return attribute ? attribute.code : attributeId;\n                }.bind(this)));\n            }\n\n            return selectedAttributes;\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with a gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        },\n\n        /**\n         * Sets mediaCache for cases when jsonConfig contains preSelectedGallery on layered navigation result pages\n         *\n         * @private\n         */\n        _setPreSelectedGallery: function () {\n            var mediaCallData;\n\n            if (this.options.jsonConfig.preSelectedGallery) {\n                mediaCallData = {\n                    'product_id': this.getProduct()\n                };\n\n                this.options.mediaCache[JSON.stringify(mediaCallData)] = this.options.jsonConfig.preSelectedGallery;\n            }\n        },\n\n        /**\n         * Callback for quantity change event.\n         */\n        _onQtyChanged: function () {\n            var $price = this.element.parents(this.options.selectorProduct)\n                .find(this.options.selectorProductPrice);\n\n            $price.trigger(\n                'updatePrice',\n                {\n                    'prices': this._getPrices(this._getNewPrices(), $price.priceBox('option').prices)\n                }\n            );\n        }\n    });\n\n    return $.mage.SwatchRenderer;\n});\n","Magento_Swatches/js/text.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n *  @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'uiRegistry',\n    'jquery/ui',\n    'prototype',\n    'validation'\n], function (jQuery, mageTemplate, rg) {\n    'use strict';\n\n    return function (config) {\n        var swatchOptionTextDefaultInputType = 'radio',\n            swatchTextOption = {\n                table: $('swatch-text-options-table'),\n                itemCount: 0,\n                totalItems: 0,\n                rendered: 0,\n                isReadOnly: config.isReadOnly,\n                template: mageTemplate('#swatch-text-row-template'),\n\n                /**\n                 * Add option\n                 *\n                 * @param {Object} data\n                 * @param {Object} render\n                 */\n                add: function (data, render) {\n                    var isNewOption = false,\n                        element;\n\n                    if (typeof data.id == 'undefined') {\n                        data = {\n                            'id': 'option_' + this.itemCount,\n                            'sort_order': this.itemCount + 1\n                        };\n                        isNewOption = true;\n                    }\n\n                    if (!data.intype) {\n                        data.intype = swatchOptionTextDefaultInputType;\n                    }\n\n                    element = this.template({\n                        data: data\n                    });\n\n                    if (isNewOption && !this.isReadOnly) {\n                        this.enableNewOptionDeleteButton(data.id);\n                    }\n                    this.itemCount++;\n                    this.totalItems++;\n                    this.elements += element;\n\n                    if (render) {\n                        this.render();\n                    }\n                },\n\n                /**\n                 * Remove option\n                 *\n                 * @param {Object} event\n                 */\n                remove: function (event) {\n                    var element = $(Event.findElement(event, 'tr')),\n                        elementFlags; // !!! Button already have table parent in safari\n\n                    // Safari workaround\n                    element.ancestors().each(function (parentItem) {\n                        if (parentItem.hasClassName('option-row')) {\n                            element = parentItem;\n                            throw $break;\n                        } else if (parentItem.hasClassName('box')) {\n                            throw $break;\n                        }\n                    });\n\n                    if (element) {\n                        elementFlags = element.getElementsByClassName('delete-flag');\n\n                        if (elementFlags[0]) {\n                            elementFlags[0].value = 1;\n                        }\n\n                        element.addClassName('no-display');\n                        element.addClassName('template');\n                        element.hide();\n                        this.totalItems--;\n                        this.updateItemsCountField();\n                    }\n                },\n\n                /**\n                 * Update items count field\n                 */\n                updateItemsCountField: function () {\n                    $('swatch-text-option-count-check').value = this.totalItems > 0 ? '1' : '';\n                },\n\n                /**\n                 * Enable delete button for new option\n                 *\n                 * @param {String} id\n                 */\n                enableNewOptionDeleteButton: function (id) {\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\n                        button.enable();\n                        button.removeClassName('disabled');\n                    });\n                },\n\n                /**\n                 * Bind remove button\n                 */\n                bindRemoveButtons: function () {\n                    jQuery('#swatch-text-options-panel').on('click', '.delete-option', this.remove.bind(this));\n                },\n\n                /**\n                 * Render action\n                 */\n                render: function () {\n                    Element.insert($$('[data-role=swatch-text-options-container]')[0], this.elements);\n                    this.elements = '';\n                },\n\n                /**\n                 * Render action with delay (performance fix)\n                 *\n                 * @param {Object} data\n                 * @param {Number} from\n                 * @param {Number} step\n                 * @param {Number} delay\n                 * @returns {Boolean}\n                 */\n                renderWithDelay: function (data, from, step, delay) {\n                    var arrayLength = data.length,\n                        len;\n\n                    for (len = from + step; from < len && from < arrayLength; from++) {\n                        this.add(data[from]);\n                    }\n                    this.render();\n\n                    if (from === arrayLength) {\n                        this.updateItemsCountField();\n                        this.rendered = 1;\n                        jQuery('body').trigger('processStop');\n\n                        return true;\n                    }\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\n                },\n\n                /**\n                 * Ignore validate action\n                 */\n                ignoreValidate: function () {\n                    var ignore = '.ignore-validate input, ' +\n                        '.ignore-validate select, ' +\n                        '.ignore-validate textarea';\n\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\n                }\n            };\n\n        if ($('add_new_swatch_text_option_button')) {\n            Event.observe(\n                'add_new_swatch_text_option_button',\n                'click',\n                swatchTextOption.add.bind(swatchTextOption, true)\n            );\n        }\n        jQuery('#swatch-text-options-panel').on('render', function () {\n            swatchTextOption.ignoreValidate();\n\n            if (swatchTextOption.rendered) {\n                return false;\n            }\n            jQuery('body').trigger('processStart');\n            swatchTextOption.renderWithDelay(config.attributesData, 0, 100, 300);\n            swatchTextOption.bindRemoveButtons();\n        });\n\n        if (config.isSortable) {\n            jQuery(function ($) {\n                $('[data-role=swatch-text-options-container]').sortable({\n                    distance: 8,\n                    tolerance: 'pointer',\n                    cancel: 'input, button',\n                    axis: 'y',\n\n                    /**\n                     * Update components\n                     */\n                    update: function () {\n                        $('[data-role=swatch-text-options-container] [data-role=order]').each(\n                            function (index, element) {\n                                $(element).val(index + 1);\n                            }\n                        );\n                    }\n                });\n            });\n        }\n\n        jQuery(function () {\n            if (jQuery('#frontend_input').val() !== 'swatch_text') {\n                jQuery('.swatch-text-field-0').removeClass('required-option');\n            }\n        });\n\n        window.swatchTextOption = swatchTextOption;\n        window.swatchOptionTextDefaultInputType = swatchOptionTextDefaultInputType;\n\n        rg.set('swatch-text-options-panel', swatchTextOption);\n    };\n});\n","Magento_Swatches/js/visual.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global FORM_KEY */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'uiRegistry',\n    'jquery/colorpicker/js/colorpicker',\n    'prototype',\n    'jquery/ui',\n    'validation'\n], function (jQuery, mageTemplate, rg) {\n    'use strict';\n\n    return function (config) {\n        var swatchOptionVisualDefaultInputType = 'radio',\n            swatchVisualOption = {\n                table: $('swatch-visual-options-table'),\n                itemCount: 0,\n                totalItems: 0,\n                rendered: 0,\n                isReadOnly: config.isReadOnly,\n                template: mageTemplate('#swatch-visual-row-template'),\n\n                /**\n                 * Add new option using template\n                 *\n                 * @param {Object} data\n                 * @param {Object} render\n                 */\n                add: function (data, render) {\n                    var isNewOption = false,\n                        element;\n\n                    if (typeof data.id == 'undefined') {\n                        data = {\n                            'id': 'option_' + this.itemCount,\n                            'sort_order': this.itemCount + 1,\n                            'empty_class': 'unavailable'\n                        };\n                        isNewOption = true;\n                    } else if (data.defaultswatch0 === '') {\n                        data['empty_class'] = 'unavailable';\n                    }\n\n                    if (!data.intype) {\n                        data.intype = swatchOptionVisualDefaultInputType;\n                    }\n\n                    element = this.template({\n                        data: data\n                    });\n\n                    if (isNewOption && !this.isReadOnly) {\n                        this.enableNewOptionDeleteButton(data.id);\n                    }\n                    this.itemCount++;\n                    this.totalItems++;\n                    this.elements += element;\n\n                    if (render) {\n                        this.render();\n                    }\n                },\n\n                /**\n                 * ColorPicker initialization process\n                 */\n                initColorPicker: function () {\n                    var element = this,\n                        hiddenColorPicker = !jQuery(element).data('colorpickerId');\n\n                    jQuery(this).ColorPicker({\n\n                        /**\n                         * ColorPicker onShow action\n                         */\n                        onShow: function () {\n                            var color = jQuery(element).parent().parent().prev().prev('input').val(),\n                                menu = jQuery(this).parents('.swatch_sub-menu_container');\n\n                            menu.hide();\n                            jQuery(element).ColorPickerSetColor(color);\n                        },\n\n                        /**\n                         * ColorPicker onSubmit action\n                         *\n                         * @param {String} hsb\n                         * @param {String} hex\n                         * @param {String} rgb\n                         * @param {String} el\n                         */\n                        onSubmit: function (hsb, hex, rgb, el) {\n                            var container = jQuery(el).parent().parent().prev();\n\n                            jQuery(el).ColorPickerHide();\n                            container.parent().removeClass('unavailable');\n                            container.prev('input').val('#' + hex);\n                            container.css('background', '#' + hex);\n                        }\n                    });\n\n                    if (hiddenColorPicker) {\n                        jQuery(this).ColorPickerShow();\n                    }\n                },\n\n                /**\n                 * Remove action\n                 *\n                 * @param {Object} event\n                 */\n                remove: function (event) {\n                    var element = $(Event.findElement(event, 'tr')),\n                        elementFlags; // !!! Button already have table parent in safari\n\n                    // Safari workaround\n                    element.ancestors().each(function (parentItem) {\n                        if (parentItem.hasClassName('option-row')) {\n                            element = parentItem;\n                            throw $break;\n                        } else if (parentItem.hasClassName('box')) {\n                            throw $break;\n                        }\n                    });\n\n                    if (element) {\n                        elementFlags = element.getElementsByClassName('delete-flag');\n\n                        if (elementFlags[0]) {\n                            elementFlags[0].value = 1;\n                        }\n\n                        element.addClassName('no-display');\n                        element.addClassName('template');\n                        element.hide();\n                        this.totalItems--;\n                        this.updateItemsCountField();\n                    }\n                },\n\n                /**\n                 * Update items count field\n                 */\n                updateItemsCountField: function () {\n                    $('swatch-visual-option-count-check').value = this.totalItems > 0 ? '1' : '';\n                },\n\n                /**\n                 * Enable delete button for new option\n                 *\n                 * @param {String} id\n                 */\n                enableNewOptionDeleteButton: function (id) {\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\n                        button.enable();\n                        button.removeClassName('disabled');\n                    });\n                },\n\n                /**\n                 * Bind remove button\n                 */\n                bindRemoveButtons: function () {\n                    jQuery('#swatch-visual-options-panel').on('click', '.delete-option', this.remove.bind(this));\n                },\n\n                /**\n                 * Render options\n                 */\n                render: function () {\n                    Element.insert($$('[data-role=swatch-visual-options-container]')[0], this.elements);\n                    this.elements = '';\n                },\n\n                /**\n                 * Render elements with delay (performance fix)\n                 *\n                 * @param {Object} data\n                 * @param {Number} from\n                 * @param {Number} step\n                 * @param {Number} delay\n                 * @returns {Boolean}\n                 */\n                renderWithDelay: function (data, from, step, delay) {\n                    var arrayLength = data.length,\n                        len;\n\n                    for (len = from + step; from < len && from < arrayLength; from++) {\n                        this.add(data[from]);\n                    }\n                    this.render();\n\n                    if (from === arrayLength) {\n                        this.updateItemsCountField();\n                        this.rendered = 1;\n                        jQuery('body').trigger('processStop');\n\n                        return true;\n                    }\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\n                },\n\n                /**\n                 * Ignore validate action\n                 */\n                ignoreValidate: function () {\n                    var ignore = '.ignore-validate input, ' +\n                        '.ignore-validate select, ' +\n                        '.ignore-validate textarea';\n\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\n                }\n            };\n\n        if ($('add_new_swatch_visual_option_button')) {\n            Event.observe(\n                'add_new_swatch_visual_option_button',\n                'click',\n                swatchVisualOption.add.bind(swatchVisualOption, {}, true)\n            );\n        }\n\n        jQuery('#swatch-visual-options-panel').on('render', function () {\n            swatchVisualOption.ignoreValidate();\n\n            if (swatchVisualOption.rendered) {\n                return false;\n            }\n            jQuery('body').trigger('processStart');\n            swatchVisualOption.renderWithDelay(config.attributesData, 0, 100, 300);\n            swatchVisualOption.bindRemoveButtons();\n            jQuery('#swatch-visual-options-panel').on(\n                'click',\n                '.colorpicker_handler',\n                swatchVisualOption.initColorPicker\n            );\n        });\n        jQuery('body').on('click', function (event) {\n            var element = jQuery(event.target);\n\n            if (\n                element.parents('.swatch_sub-menu_container').length === 1 ||\n                element.next('div.swatch_sub-menu_container').length === 1\n            ) {\n                return true;\n            }\n            jQuery('.swatch_sub-menu_container').hide();\n        });\n\n        if (config.isSortable) {\n            jQuery(function ($) {\n                $('[data-role=swatch-visual-options-container]').sortable({\n                    distance: 8,\n                    tolerance: 'pointer',\n                    cancel: 'input, button',\n                    axis: 'y',\n\n                    /**\n                     * Update component\n                     */\n                    update: function () {\n                        $('[data-role=swatch-visual-options-container] [data-role=order]').each(\n                            function (index, element) {\n                                $(element).val(index + 1);\n                            }\n                        );\n                    }\n                });\n            });\n        }\n\n        window.swatchVisualOption = swatchVisualOption;\n        window.swatchOptionVisualDefaultInputType = swatchOptionVisualDefaultInputType;\n\n        rg.set('swatch-visual-options-panel', swatchVisualOption);\n\n        jQuery(function ($) {\n\n            var swatchComponents = {\n\n                /**\n                 * div wrapper for to hide all evement\n                 */\n                wrapper: null,\n\n                /**\n                 * iframe component to perform file upload without page reload\n                 */\n                iframe: null,\n\n                /**\n                 * form component for upload image\n                 */\n                form: null,\n\n                /**\n                 * Input file component for upload image\n                 */\n                inputFile: null,\n\n                /**\n                 * Create swatch component for upload files\n                 *\n                 * @this {swatchComponents}\n                 * @public\n                 */\n                create: function () {\n                    this.wrapper = $('<div>').css({\n                        display: 'none'\n                    }).appendTo($('body'));\n\n                    this.iframe = $('<iframe></iframe>', {\n                        id:  'upload_iframe',\n                        name: 'upload_iframe'\n                    }).appendTo(this.wrapper);\n\n                    this.form = $('<form></form>', {\n                        id: 'swatch_form_image_upload',\n                        name: 'swatch_form_image_upload',\n                        target: 'upload_iframe',\n                        method: 'post',\n                        enctype: 'multipart/form-data',\n                        class: 'ignore-validate',\n                        action: config.uploadActionUrl\n                    }).appendTo(this.wrapper);\n\n                    this.inputFile = $('<input />', {\n                        type: 'file',\n                        name: 'datafile',\n                        class: 'swatch_option_file'\n                    }).appendTo(this.form);\n\n                    $('<input />', {\n                        type: 'hidden',\n                        name: 'form_key',\n                        value: FORM_KEY\n                    }).appendTo(this.form);\n                }\n            };\n\n            /**\n             * Create swatch components\n             */\n            swatchComponents.create();\n\n            /**\n             * Register event for swatch input[type=file] change\n             */\n            swatchComponents.inputFile.change(function () {\n                var container = $('#' + $(this).attr('data-called-by')).parents().eq(2).children('.swatch_window'),\n\n                    /**\n                     * @this {iframe}\n                     */\n                    iframeHandler = function () {\n                        var imageParams = $.parseJSON($(this).contents().find('body').html()),\n                            fullMediaUrl = imageParams['swatch_path'] + imageParams['file_path'];\n\n                        container.prev('input').val(imageParams['file_path']);\n                        container.css({\n                            'background-image': 'url(' + fullMediaUrl + ')',\n                            'background-size': 'cover'\n                        });\n                        container.parent().removeClass('unavailable');\n                    };\n\n                swatchComponents.iframe.off('load');\n                swatchComponents.iframe.on('load', iframeHandler);\n                swatchComponents.form.submit();\n                $(this).val('');\n            });\n\n            /**\n             * Register event for choose \"upload image\" option\n             */\n            $(document).on('click', '.btn_choose_file_upload', function () {\n                swatchComponents.inputFile.attr('data-called-by', $(this).attr('id'));\n                swatchComponents.inputFile.trigger('click');\n            });\n\n            /**\n             * Register event for remove option\n             */\n            $(document).on('click', '.btn_remove_swatch', function () {\n                var optionPanel = $(this).parents().eq(2);\n\n                optionPanel.children('input').val('');\n                optionPanel.children('.swatch_window').css('background', '');\n\n                optionPanel.addClass('unavailable');\n\n                jQuery('.swatch_sub-menu_container').hide();\n            });\n\n            /**\n             * Toggle color upload chooser\n             */\n            $(document).on('click', '.swatches-visual-col', function () {\n                var currentElement = $(this).find('.swatch_sub-menu_container');\n\n                jQuery('.swatch_sub-menu_container').not(currentElement).hide();\n                currentElement.toggle();\n            });\n        });\n    };\n});\n","Magento_Swatches/js/form/element/swatch-visual.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global FORM_KEY */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'Magento_Ui/js/lib/view/utils/async',\n    'mage/template',\n    'uiRegistry',\n    'prototype',\n    'Magento_Ui/js/form/element/abstract',\n    'jquery/colorpicker/js/colorpicker',\n    'jquery/ui'\n], function (_, jQuery, mageTemplate, rg, prototype, Abstract) {\n    'use strict';\n\n    /**\n     * Former implementation.\n     *\n     * @param {*} value\n     * @param {Object} container\n     * @param {String} uploadUrl\n     * @param {String} elementName\n     */\n    function oldCode(value, container, uploadUrl, elementName) {\n        var swatchVisualOption = {\n            itemCount: 0,\n            totalItems: 0,\n            rendered: 0,\n            isReadOnly: false,\n\n            /**\n             * Initialize.\n             */\n            initialize: function () {\n                if (_.isEmpty(value)) {\n                    container.addClassName('unavailable');\n                }\n\n                jQuery(container).on(\n                    'click',\n                    '.colorpicker_handler',\n                    this.initColorPicker\n                );\n            },\n\n            /**\n             * ColorPicker initialization process\n             */\n            initColorPicker: function () {\n                var element = this,\n                    hiddenColorPicker = !jQuery(element).data('colorpickerId');\n\n                jQuery(this).ColorPicker({\n\n                    /**\n                     * ColorPicker onShow action\n                     */\n                    onShow: function () {\n                        var color = jQuery(element).parent().parent().prev().prev('input').val(),\n                            menu = jQuery(this).parents('.swatch_sub-menu_container');\n\n                        menu.hide();\n                        jQuery(element).ColorPickerSetColor(color);\n                    },\n\n                    /**\n                     * ColorPicker onSubmit action\n                     *\n                     * @param {String} hsb\n                     * @param {String} hex\n                     * @param {String} rgb\n                     * @param {String} el\n                     */\n                    onSubmit: function (hsb, hex, rgb, el) {\n                        var localContainer = jQuery(el).parent().parent().prev();\n\n                        jQuery(el).ColorPickerHide();\n                        localContainer.parent().removeClass('unavailable');\n                        localContainer.prev('input').val('#' + hex).trigger('change');\n                        localContainer.css('background', '#' + hex);\n                    }\n                });\n\n                if (hiddenColorPicker) {\n                    jQuery(this).ColorPickerShow();\n                }\n            },\n\n            /**\n             * Remove action\n             *\n             * @param {Object} event\n             */\n            remove: function (event) {\n                var element = $(Event.findElement(event, 'tr')),\n                    elementFlags; // !!! Button already have table parent in safari\n\n                // Safari workaround\n                element.ancestors().each(function (parentItem) {\n                    if (parentItem.hasClassName('option-row')) {\n                        element = parentItem;\n                        throw $break;\n                    } else if (parentItem.hasClassName('box')) {\n                        throw $break;\n                    }\n                });\n\n                if (element) {\n                    elementFlags = element.getElementsByClassName('delete-flag');\n\n                    if (elementFlags[0]) {\n                        elementFlags[0].value = 1;\n                    }\n\n                    element.addClassName('no-display');\n                    element.addClassName('template');\n                    element.hide();\n                    this.totalItems--;\n                    this.updateItemsCountField();\n                }\n            },\n\n            /**\n             * Update items count field\n             */\n            updateItemsCountField: function () {\n                $('swatch-visual-option-count-check').value = this.totalItems > 0 ? '1' : '';\n            }\n        };\n\n        //swatchVisualOption.initColorPicker();\n\n        jQuery('body').on('click', function (event) {\n            var element = jQuery(event.target);\n\n            if (\n                element.parents('.swatch_sub-menu_container').length === 1 ||\n                element.next('div.swatch_sub-menu_container').length === 1\n            ) {\n                return true;\n            }\n            jQuery('.swatch_sub-menu_container').hide();\n        });\n\n        jQuery(function ($) {\n\n            var swatchComponents = {\n\n                /**\n                 * div wrapper for to hide all evement\n                 */\n                wrapper: null,\n\n                /**\n                 * iframe component to perform file upload without page reload\n                 */\n                iframe: null,\n\n                /**\n                 * form component for upload image\n                 */\n                form: null,\n\n                /**\n                 * Input file component for upload image\n                 */\n                inputFile: null,\n\n                /**\n                 * Create swatch component for upload files\n                 *\n                 * @this {swatchComponents}\n                 * @public\n                 */\n                create: function () {\n                    this.wrapper = $('<div>').css({\n                        display: 'none'\n                    }).appendTo($('body'));\n\n                    this.iframe = $('<iframe></iframe>', {\n                        name: 'upload_iframe_' + elementName\n                    }).appendTo(this.wrapper);\n\n                    this.form = $('<form></form>', {\n                        name: 'swatch_form_image_upload_' + elementName,\n                        target: 'upload_iframe_' + elementName,\n                        method: 'post',\n                        enctype: 'multipart/form-data',\n                        class: 'ignore-validate',\n                        action: uploadUrl\n                    }).appendTo(this.wrapper);\n\n                    this.inputFile = $('<input />', {\n                        type: 'file',\n                        name: 'datafile',\n                        class: 'swatch_option_file'\n                    }).appendTo(this.form);\n\n                    $('<input />', {\n                        type: 'hidden',\n                        name: 'form_key',\n                        value: FORM_KEY\n                    }).appendTo(this.form);\n                }\n            };\n\n            swatchVisualOption.initialize();\n\n            /**\n             * Create swatch components\n             */\n            swatchComponents.create();\n\n            /**\n             * Register event for swatch input[type=file] change\n             */\n            swatchComponents.inputFile.change(function () {\n                var localContainer = $('.' + $(this).attr('data-called-by')).parents().eq(2).children('.swatch_window'),\n\n                    /**\n                     * @this {iframe}\n                     */\n                    iframeHandler = function () {\n                        var imageParams = $.parseJSON($(this).contents().find('body').html()),\n                            fullMediaUrl = imageParams['swatch_path'] + imageParams['file_path'];\n\n                        localContainer.prev('input').val(imageParams['file_path']).trigger('change');\n                        localContainer.css({\n                            'background-image': 'url(' + fullMediaUrl + ')',\n                            'background-size': 'cover'\n                        });\n                        localContainer.parent().removeClass('unavailable');\n                    };\n\n                swatchComponents.iframe.off('load');\n                swatchComponents.iframe.on('load', iframeHandler);\n                swatchComponents.form.submit();\n                $(this).val('');\n            });\n\n            /**\n             * Register event for choose \"upload image\" option\n             */\n            $(container).on('click', '.btn_choose_file_upload', function () {\n                swatchComponents.inputFile.attr('data-called-by', $(this).data('class'));\n                swatchComponents.inputFile.trigger('click');\n            });\n\n            /**\n             * Register event for remove option\n             */\n            $(container).on('click', '.btn_remove_swatch', function () {\n                var optionPanel = $(this).parents().eq(2);\n\n                optionPanel.children('input').val('').trigger('change');\n                optionPanel.children('.swatch_window').css('background', '');\n                optionPanel.addClass('unavailable');\n                jQuery('.swatch_sub-menu_container').hide();\n            });\n\n            /**\n             * Toggle color upload chooser\n             */\n            $(container).on('click', '.swatch_window', function () {\n                jQuery('.swatch_sub-menu_container').hide();\n                $(this).next('div').toggle();\n            });\n        });\n    }\n\n    return Abstract.extend({\n        defaults: {\n            elementId: 0,\n            prefixName: '',\n            prefixElementName: '',\n            elementName: '',\n            value: '',\n            uploadUrl: ''\n        },\n\n        /**\n         * Parses options and merges the result with instance\n         *\n         * @returns {Object} Chainable.\n         */\n        initConfig: function () {\n            this._super();\n\n            this.configureDataScope();\n\n            return this;\n        },\n\n        /**\n         * Initialize.\n         *\n         * @returns {Object} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initOldCode()\n                .on('value', this.onChangeColor.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Handler function that execute when color changes.\n         *\n         * @param {String} data - color\n         */\n        onChangeColor: function (data) {\n            if (!data) {\n                jQuery('.' + this.elementName).parent().removeClass('unavailable');\n            }\n        },\n\n        /**\n         * Initialize wrapped former implementation.\n         *\n         * @returns {Object} Chainable.\n         */\n        initOldCode: function () {\n            jQuery.async('.' + this.elementName, this.name, function (elem) {\n                oldCode(this.value(), elem.parentElement, this.uploadUrl, this.elementName);\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Configure data scope.\n         */\n        configureDataScope: function () {\n            var recordId, prefixName;\n\n            // Get recordId\n            recordId = this.parentName.split('.').last();\n\n            prefixName = this.dataScopeToHtmlArray(this.prefixName);\n            this.elementName = this.prefixElementName + recordId;\n\n            this.inputName = prefixName + '[' + this.elementName + ']';\n            this.exportDataLink = 'data.' + this.prefixName + '.' + this.elementName;\n            this.exports.value = this.provider + ':' + this.exportDataLink;\n        },\n\n        /** @inheritdoc */\n        destroy: function () {\n            this._super();\n\n            this.source.remove(this.exportDataLink);\n        },\n\n        /**\n         * Get HTML array from data scope.\n         *\n         * @param {String} dataScopeString\n         * @returns {String}\n         */\n        dataScopeToHtmlArray: function (dataScopeString) {\n            var dataScopeArray, dataScope, reduceFunction;\n\n            /**\n             * Add new level of nesting.\n             *\n             * @param {String} prev\n             * @param {String} curr\n             * @returns {String}\n             */\n            reduceFunction = function (prev, curr) {\n                return prev + '[' + curr + ']';\n            };\n\n            dataScopeArray = dataScopeString.split('.');\n\n            dataScope = dataScopeArray.shift();\n            dataScope += dataScopeArray.reduce(reduceFunction, '');\n\n            return dataScope;\n        }\n    });\n});\n","js-cookie/cookie-wrapper.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'js-cookie/js.cookie'\n], function ($, cookie) {\n    'use strict';\n\n    window.Cookies = window.Cookies || cookie;\n\n    var config = $.cookie = function (key, value, options) {\n        if (value !== undefined) {\n            options = $.extend({}, config.defaults, options);\n\n            return cookie.set(key, value, options);\n        }\n\n        var result = key ? undefined : {},\n            cookies = document.cookie ? document.cookie.split('; ') : [],\n            i;\n\n        for (i = 0; i < cookies.length; i++) {\n            var parts = cookies[i].split('='),\n                name = config.raw ? parts.shift() : decodeURIComponent(parts.shift()),\n                cookieValue = parts.join('=');\n\n            if (key && key === name) {\n                result = decodeURIComponent(cookieValue.replace('/\\\\+/g', ' '));\n                break;\n            }\n\n            if (!key && (cookieValue = decodeURIComponent(cookieValue.replace('/\\\\+/g', ' '))) !== undefined) {\n                result[name] = cookieValue;\n            }\n        }\n\n        return result;\n    };\n\n    config.defaults = {};\n\n    $.removeCookie = function (key, options) {\n        if ($.cookie(key) === undefined) {\n            return false;\n        }\n\n        $.cookie(key, '', $.extend({}, options, { expires: -1 }));\n        return !$.cookie(key);\n    };\n});\n","js-cookie/js.cookie.js":"/*! js-cookie v3.0.1 | MIT */\n;\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n        typeof define === 'function' && define.amd ? define(factory) :\n            (global = global || self, (function () {\n                var current = global.Cookies;\n                var exports = global.Cookies = factory();\n                exports.noConflict = function () { global.Cookies = current; return exports; };\n            }()));\n}(this, (function () { 'use strict';\n\n    /* eslint-disable no-var */\n    function assign (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                target[key] = source[key];\n            }\n        }\n        return target\n    }\n    /* eslint-enable no-var */\n\n    /* eslint-disable no-var */\n    var defaultConverter = {\n        read: function (value) {\n            if (value[0] === '\"') {\n                value = value.slice(1, -1);\n            }\n            return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n        },\n        write: function (value) {\n            return encodeURIComponent(value).replace(\n                /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n                decodeURIComponent\n            )\n        }\n    };\n    /* eslint-enable no-var */\n\n    /* eslint-disable no-var */\n\n    function init (converter, defaultAttributes) {\n        function set (key, value, attributes) {\n            if (typeof document === 'undefined') {\n                return\n            }\n\n            attributes = assign({}, defaultAttributes, attributes);\n\n            if (typeof attributes.expires === 'number') {\n                attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n            }\n            if (attributes.expires) {\n                attributes.expires = attributes.expires.toUTCString();\n            }\n\n            key = encodeURIComponent(key)\n                .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n                .replace(/[()]/g, escape);\n\n            var stringifiedAttributes = '';\n            for (var attributeName in attributes) {\n                if (!attributes[attributeName]) {\n                    continue\n                }\n\n                stringifiedAttributes += '; ' + attributeName;\n\n                if (attributes[attributeName] === true) {\n                    continue\n                }\n\n                // Considers RFC 6265 section 5.2:\n                // ...\n                // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n                //     character:\n                // Consume the characters of the unparsed-attributes up to,\n                // not including, the first %x3B (\";\") character.\n                // ...\n                stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n            }\n\n            return (document.cookie =\n                key + '=' + converter.write(value, key) + stringifiedAttributes)\n        }\n\n        function get (key) {\n            if (typeof document === 'undefined' || (arguments.length && !key)) {\n                return\n            }\n\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all.\n            var cookies = document.cookie ? document.cookie.split('; ') : [];\n            var jar = {};\n            for (var i = 0; i < cookies.length; i++) {\n                var parts = cookies[i].split('=');\n                var value = parts.slice(1).join('=');\n\n                try {\n                    var foundKey = decodeURIComponent(parts[0]);\n                    jar[foundKey] = converter.read(value, foundKey);\n\n                    if (key === foundKey) {\n                        break\n                    }\n                } catch (e) {}\n            }\n\n            return key ? jar[key] : jar\n        }\n\n        return Object.create(\n            {\n                set: set,\n                get: get,\n                remove: function (key, attributes) {\n                    set(\n                        key,\n                        '',\n                        assign({}, attributes, {\n                            expires: -1\n                        })\n                    );\n                },\n                withAttributes: function (attributes) {\n                    return init(this.converter, assign({}, this.attributes, attributes))\n                },\n                withConverter: function (converter) {\n                    return init(assign({}, this.converter, converter), this.attributes)\n                }\n            },\n            {\n                attributes: { value: Object.freeze(defaultAttributes) },\n                converter: { value: Object.freeze(converter) }\n            }\n        )\n    }\n\n    var api = init(defaultConverter, { path: '/' });\n    /* eslint-enable no-var */\n\n    return api;\n\n})));\n"}
}});
